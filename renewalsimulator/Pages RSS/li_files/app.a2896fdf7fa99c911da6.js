(window.webpackJsonp=window.webpackJsonp||[]).push([[85,126,131],{1:function(a,t,e){"use strict";e.r(t);e(2),e(3)},111:function(a,t){!function(a){void 0!==$data.ccmcms&&void 0!==$data.ccmcms.services&&void 0!==$data.ccmcms.services.slider&&void 0!==$data.ccmcms.services.slider.start&&!0===$data.ccmcms.services.slider.start&&(a.yslider={options:{title:"",subtitle:"",slideBy:4,autoplay:!0,contentTitle:"h2"}},a(document).start((function(){a($data.ccmcms.services.slider.selector).closest("section").removeClass("slider_loading"),a($data.ccmcms.services.slider.selector).length>0&&void 0!==a.fn.accessNews&&a($data.ccmcms.services.slider.selector).accessNews(a.extend(!0,a.yslider.options,$data.ccmcms.services.slider.options))})))}(jQuery)},112:function(a,t){!function(a){a.summary={defaultOptions:{behavior:{hideChaptersSections:!0}},init:function(t){t=a.extend(!0,{},a.summary.defaultOptions,t),a("#jAppCustomSelect").on("mouseenter",(function(){return a(".app_customselect__items",this).show(),a.googleEvents.send("ccmcms/contents","header/summary","show"),!1})).on("mouseleave",(function(){a(".app_customselect__items",this).hide()})).on("click",(function(){a(".app_customselect__items",this).toggle()})),a("#summary .app_menu_1__title").on("click",(function(){a("#summary ul:first").css("position","absolute"),a("#summary ul:first").toggle(200),a(this).find(".icon-arrow-b").toggleClass("icon-arrow-t")})),t.behavior.hideChaptersSections&&a("#summary li.chapter-section ul").hide();var e=a("#summary li.chapter-section li.current").parents("li");e.find(".icon-arrow-b").addClass("icon-arrow-t"),e.children("ul").show(),0==e.length&&(a("#summary li.chapter-section:first ul").show(),a("#summary li.chapter-section:first .icon-arrow-b").toggleClass("icon-arrow-t")),a("#summary li.chapter-section h4").on("click",(function(){a(this).next("ul").toggle(200),a(this).find(".icon-arrow-b").toggleClass("icon-arrow-t")}))}},void 0!==$data.ccmcms&&void 0!==$data.ccmcms.services&&void 0!==$data.ccmcms.services.contents&&void 0!==$data.ccmcms.services.contents.content&&void 0!==$data.ccmcms.services.contents.content.summary&&void 0!==$data.ccmcms.services.contents.content.summary.start&&!0===$data.ccmcms.services.contents.content.summary.start&&a(document).start((function(){a.summary.init($data.ccmcms.services.contents.content.summary.options)}))}(jQuery)},113:function(a,t){!function(a){a.blockCineTv={blockNames:["Cine","Tv"],defaultOptions:{displayBlockName:"Tv"},init:function(t){t=a.extend(!0,{},a.blockCineTv.defaultOptions,t),this.addEvents(),this.displayBlock(t.displayBlockName)},addEvents:function(){var t=this;a(".jtoggleProg").on("click",(function(){"progCine"==a(this).data("target")?t.displayBlock("Cine"):t.displayBlock("Tv")}))},displayBlock:function(t){for(var e in this.blockNames)a(".jTitleProg"+this.blockNames[e]).hide(),a("#prog"+this.blockNames[e]).hide(),a(".jProg"+this.blockNames[e]).removeClass("active");a(".jTitleProg"+t).show(),a("#prog"+t).show(),a(".jProg"+t).addClass("active")}}}(jQuery)},114:function(a,t){!function(a){a.fn.displayHeaderContents=function(t,e){a.profile&&console.time("displayHeaderContents.init"),e=a.extend(!0,{},a.fn.displayHeaderContents.defaultOptions,e),this.each((function(){var o=a(this);key=o.attr(e.dataKey),void 0!==t[key]&&o.html(a("<h2>").html(t.formatedLabel)).append(a("<ul>").html((function(){for(i=0,m=t[key].length;i<m;++i)a(this).append(a(" <li> ").html(a("<h3>").html('<a href="'+t[key][i].url+'">'+t[key][i].formatedLabel+"</a>")).append(a('<ul class="tags">').html((function(){for(j=0,n=t[key][i].tags.length;j<n;++j)a(this).append(a(" <li> ").html(' <a href="'+t[key][i].tags[j].url+'">'+t[key][i].tags[j].formatedLabel+"</a> "))}))))})))})),a.profile&&console.timeEnd("displayHeaderContents.init")},a.fn.displayHeaderContents.defaultOptions={dataKey:"data-channelId"}}(jQuery)},115:function(a,t){!function(a){"use strict";a.fn.autoPlay=function(t){return a.fn.autoPlay.langInitialized||(a.fn.autoPlay.microTemplateInit(),a.fn.autoPlay.langInitialized=!0),t=a.extend({},a.fn.autoPlay.defaultOptions,t),this.each((function(){var e=a(this);if(e.length>0){var i=0,n=function(){e.attr("data-state","play"),1==e.hasClass("ccmcss_cms_figure__playpause")?(e.find(".icon-play").addClass("icon-pause").removeClass("icon-play"),e.find(".jAutoPlayText").html(a.fn.autoPlay.getTemplate("$l{AUTOPLAY_PAUSE}"))):(e.attr("data-icon","2"),e.html(" "+a.fn.autoPlay.getTemplate("$l{AUTOPLAY_PAUSE}"))),a.cookie("stopAutoPlay",0,{expires:60,path:"/"}),i=setTimeout((function(){var t=a(".jTopNextButton").attr("href");t.length>0&&(a.googleEvents.send("ccmcms/contents","autoplayNext","click"),void 0!==$data.ccmcms.services.diaporama_ajax&&void 0!==$data.ccmcms.services.diaporama_ajax.start?a(".jTopNextButton").trigger("click"):window.location=t)}),a(".jDiaporamaLegend").attr("data-length")>=t.legendLength?t.durationLegendLength:t.duration)},o=function(){clearTimeout(i),e.attr("data-state","pause"),1==e.hasClass("ccmcss_cms_figure__playpause")?(e.find(".icon-pause").addClass("icon-play").removeClass("icon-pause"),e.find(".jAutoPlayText").html(a.fn.autoPlay.getTemplate("$l{AUTOPLAY_PLAY}"))):(e.attr("data-icon","%"),e.html(a.fn.autoPlay.getTemplate(" $l{AUTOPLAY_PLAY}")))},r=a(".jccmPlayer").length;null==a.cookie("stopAutoPlay")&&1==$data.ccmcms.services.autoplay.defaultDontStart||"1"==a.cookie("stopAutoPlay")?o():n(),a("iframe").each((function(){null!=a(this).attr("src")&&null!=a(this).attr("src").match("//p.ccmbg.com/media")&&r++})),"play"==e.attr("data-state")&&0!=r&&o(),e.on("stop",(function(){o(),a.cookie("stopAutoPlay",1,{expires:60,path:"/"})})).on("pause",o).on("resume",(function(){"1"!=a.cookie("stopAutoPlay")&&e.trigger("play")})).on("play",n).on("toggle click",(function(){"play"==e.attr("data-state")?e.trigger("stop"):e.trigger("play")})).on("resetTimeout",(function(){"play"==e.attr("data-state")&&(clearTimeout(i),e.trigger("play"))}))}}))},a.extend(a.fn.autoPlay,a.microTemplate),a.fn.autoPlay.defaultOptions={duration:3e4,legendLength:2e3,durationLegendLength:3e4}}(jQuery)},116:function(a,t){!function(a){a.extend(!0,a.fn.autoPlay.langs,{FR:{AUTOPLAY_PLAY:"Lecture",AUTOPLAY_STOP:"Stop",AUTOPLAY_PAUSE:"Pause"}})}(jQuery)},117:function(a,t){!function(a){"use strict";a.fn.foldToggle=function(t){return t=a.extend({},a.fn.foldToggle.defaultOptions,t),this.each((function(){a(this).on(t.events,t.selector,(function(){var e=a(this),i=t.getTarget.call(e),n=i.is(":visible")?"hide":"show";i[n](),t.handler.call(e,n)}))}))},a.fn.foldToggle.defaultOptions={selector:".jActionFoldToggle",selectorTarget:".jTargetFoldToggle",events:"click",symbolOpen:"&",symbolClose:".",getTarget:function(){return this.closest("tr").next(a.fn.foldToggle.defaultOptions.selectorTarget)},handler:function(t){"hide"==t?a(this).attr("data-icon",a.fn.foldToggle.defaultOptions.symbolOpen).trigger("refresh"):a(this).attr("data-icon",a.fn.foldToggle.defaultOptions.symbolClose).trigger("refresh")}}}(jQuery)},118:function(a,t){!function(a){"use strict";a.fn.editJsonContentConf=function(t){t=a.extend({},a.fn.editJsonContentConf.defaultOptions,t),this.on("click",(function(t){t.preventDefault();var e=a('meta[property="ccmbg:parent_id"]').attr("content");a.ajax({url:"/api/contentconf/"+e,type:"get",dataType:"json",success:function(t){var i="";""!=t.jsonconf&&(i=JSON.stringify(t.jsonconf,null,"\t"));var n=new a.Template('<form><p>Configuration personalisée du contenu pour ops. (format json)</p><br><textarea rows="10" style="width:100%" class="jsoncontentconf" name="jsoncontentconf" class="inputSend" maxlength="1000" warnlength="950">${test}</textarea></form>',!0).getNode({test:i}).dialog({modale:!0,width:400,title:"Configuration OPS",buttons:[{text:"Annuler",click:function(){a(this).dialog("close")}},{text:"Sauvegarder",click:function(){a(this).dialog("close");var t=n.find(".jsoncontentconf").val();a.ajax({url:"/api/contentconf/"+e,type:"post",dataType:"json",data:{jsonconf:t},success:function(t){n.dialog("destroy");new a.Template("<div>${msg}</div>",!0).getNode({msg:t.msg}).dialog({modal:!0,buttons:[{text:"Ok",click:function(){a(this).dialog("close")}}]})}})}}]})}})}))},a.fn.getWidgetCall=function(t){t=a.extend({},a.fn.editJsonContentConf.defaultOptions,t),this.on("click",(function(t){t.preventDefault();var e=a('meta[property="ccmbg:parent_id"]').attr("content");new a.Template('<form><p>Code à coller dans les contenus pour générer un appel</p><br><textarea rows="10" style="width:100%" class="jwidgettext inputSend" name="jwidgettext" maxlength="1000" warnlength="950">${test}</textarea></form>',!0).getNode({test:'\x3c!--@MOD:widget@{"type":"widget", "source":"'+$data.common.widgetSource+'", "render_type_id":"fullscreen","publicationsGraphQLParameters_base64":"'+btoa("filter:{AND: [{idIs:"+e+"}]}, orderBy:dateModified_DESC, first:1, skip:0")+'","publicationsSearchParametersGraphQLResult_base64":"'+btoa('{"rule":"(all and +content_id_%contentId%)","ruleParameters":{"contentId":'+e+'},"maximumDaysNumberSinceDateModified":null,"orderBy":"ts_dateModified DESC","limit":1,"offset":0}')+'"}@EOM@--\x3e'}).dialog({modale:!0,width:400,title:"Widget",buttons:[{text:"Annuler",click:function(){a(this).dialog("close")}},{text:"Copier le code",click:function(){a(this).find(".jwidgettext").select(),document.execCommand("copy"),a(this).dialog("close")}}]})}))},a.fn.editJsonContentConf.defaultOptions={duration:3e4,legendLength:2e3,durationLegendLength:3e4},a(document).start((function(){a("#editjson").editJsonContentConf(),a("#getwidget").getWidgetCall()}),{name:"editJsonContentConf"})}(jQuery)},119:function(a,t){!function(a){"use strict";a.fn.editJsonTagConf=function(t){var e=a('meta[property="ccmbg:tag_id"]').attr("content"),i=["news","video_category","structured_data","display_items","display_mode","keyword_zoom","video_highlight","header_edit","header_v2_edit"],n=i[0],o="",r=a("<select>",{html:function(){var t="";return a(i).each((function(a,e){t+='<option value="'+e+'">'+e+"</option>"})),t}}).on("change",(function(){n=this.value,a.ajax({url:"/api/tagconf/"+e+"?type="+this.value,type:"get",dataType:"json",success:function(t){var e="";""!=t.jsonconf&&(e=JSON.stringify(t.jsonconf,null,"\t")),a(".jsontagconf").val(e)}})}));t=a.extend({},a.fn.editJsonTagConf.defaultOptions,t);this.on("click",(function(t){t.preventDefault(),a.ajax({url:"/api/tagconf/"+e+"?type="+n,type:"get",dataType:"json",success:function(t){var i="";""!=t.jsonconf&&(i=JSON.stringify(t.jsonconf,null,"\t")),(o=new a.Template('<form><p>Configuration personalisée du tag. (format json)</p><br><textarea rows="10" style="width:100%" class="jsontagconf" name="jsontagconf" class="inputSend">${test}</textarea></form>',!0).getNode({test:i}).dialog({modale:!0,width:800,title:"Configuration Avancée",buttons:[{text:"Annuler",click:function(){a(this).dialog("close")}},{text:"Sauvegarder",click:function(){a(this).dialog("close");var t=o.find(".jsontagconf").val();a.ajax({url:"/api/tagconf/"+e+"?type="+n,type:"post",dataType:"json",data:{jsonconf:t,type:n},success:function(t){o.dialog("destroy"),new a.Template("<div>${msg}</div>",!0).getNode({msg:t.msg}).dialog({modal:!0,buttons:[{text:"Ok",click:function(){a(this).dialog("close")}}]})}})}}]})).find(".jsontagconf").before(r)}})}))},a.fn.editJsonTagConf.defaultOptions={duration:3e4,legendLength:2e3,durationLegendLength:3e4},a(document).start((function(){a("#editjsontag").editJsonTagConf()}),{name:"editJsonTagConf"})}(jQuery)},120:function(a,t){!function(a){if(void 0!==$data.ccmcms&&void 0!==$data.ccmcms.services&&void 0!==$data.ccmcms.services.authorlayer&&void 0!==$data.ccmcms.services.authorlayer.start&&!0===$data.ccmcms.services.authorlayer.start){var t,e=!1;a("#jSimili a").on("click",(function(){var t=a("#jSimili").attr("data-version"),e="similiLink";void 0!==t&&(e=e+"v"+t);var i="click";return"!"==a(this).attr("data-icon")&&(i+="_afs"),a.googleEvents.send("ccmcms/contents",e,i),!0})),a(".jAuthorBoxContent").on("mouseenter",".jAuthorBoxImg",(function(){var i=a(this).closest(".jAuthorBoxContent"),n=i.parent(),o=!1;if(e=!0,0==n.find(".details").length){var r=(new Date).getTime();a.ajax({type:"post",url:"/content/_xhr_getAuthorInfosBloc",dataType:"json",data:{userId:n.attr("data-user-id")},success:function(s){o=a(s.html).appendTo(i);n.position().top,n.outerHeight();var c=a(".jAuthorBoxContentLine").width,d=(new Date).getTime()-r;o.css({width:c+"px"}),d>500?e&&n.addClass("hover"):t=setTimeout((function(){e&&n.addClass("hover")}),500-d)}})}else t=setTimeout((function(){n.addClass("hover")}),500)})).on("mouseleave",".jAuthorBoxImg,[rel=author]",(function(){e=!1,clearTimeout(t)})).on("mouseleave",(function(){a(this).closest(".jAuthorBoxContent").parent().removeClass("hover")}))}}(jQuery)},121:function(a,t){!function(a){a(".jDisplayMode").on("change",(function(){a.ajax({url:document.location.href,dataType:"json",data:{place:a(this).attr("data-place"),displayMode:a(this).val()},success:function(){location.reload()}})}))}(jQuery)},122:function(a,t){!function(a){"use strict";a.thumbslider={alreadyInit:!1,init:function(){if(void 0!==$data.ccmcms.services.thumbslider.tracking&&$data.ccmcms.services.thumbslider.tracking&&!1===a.thumbslider.alreadyInit){if(void 0===$data.ccmcms.abtest_campaign)var t="/normal";else t="/AB:"+$data.ccmcms.abtest_campaign;var e={jTopPreviousButton:"topPreviousButton",jTopNextButton:"topNextButton",jMiddlePreviousZone:"middlePreviousZone",jMiddleNextZone:"middleNextZone",jMiddlePreviousButton:"middlePreviousButton",jMiddleNextButton:"middleNextButton",jPaginationPoint:"paginationPoint",jPaginationNumber:"paginationNumber",jPaginationNext:"paginationNext",jPaginationPrevious:"paginationPrevious",jBottomThumb:"bottomThumb"},i=Object.keys(e).map((function(a){return"."+a})).join();a("body").on("click",i,(function(){var i=a(this).attr("class");for(var n in e)if(-1!==i.indexOf(n)){a.googleEvents.send("ccmcms",e[n],"click"+t);break}}))}var n=a("#jScrollContent"),o=n.find(".jItem"),r=o.filter(".current"),s=a("#jScrollPane"),c=!1,d=o.index(r),l=Math.round(1e3*Math.max(0,Math.min(1,(d-1)/(o.length-5)))),m=a(".jItemWrapper:first"),u=a(".jItemWrapper:last"),p=Math.max(m.outerWidth()-m.innerWidth(),u.outerWidth()-u.innerWidth()),h=(m.innerWidth()+p)*o.length-p,f=s.width(),g=function(a,t){h>f?n.css("margin-left",Math.round(t.value/1e3*(f-h))+"px"):n.css("margin-left",0)};a("#jScrollBar").slider({slide:g,start:function(t,e){!c&&a.googleEvents.send("ccmcms","thumbslider","startslide"),c=!0},value:l,max:1e3});h<=f&&a("#jScrollBarWrapper").css({visibility:"hidden"}),n.width(h),g(0,{value:l}),o.each((function(){var t=0,e=a(this),i=o.index(e),n=e.find(".jImagePile");t=e.hasClass("current")?1:Math.abs(i-d)+1,imagePile.add(n.data("background"),{node:n},(function(a,t){this.data.node.css("background-image","url("+this.src+")").animate({opacity:1},1e3)}),t)})),s.css("height","auto"),imagePile.depile(),a.thumbslider.alreadyInit=!0}},void 0!==$data.ccmcms&&void 0!==$data.ccmcms.services&&void 0!==$data.ccmcms.services.thumbslider&&void 0!==$data.ccmcms.services.thumbslider.start&&$data.ccmcms.services.thumbslider.start&&a(document).width()>480&&a(document).start((function(){a.thumbslider.init()}))}(jQuery)},123:function(a,t){!function(a){"use strict";a.diaporama={init:function(){var t=a(".jDiaporamaLegend"),e=t.find(".jDiaporamaEndText"),i=t.find(".jDiaporamaReadMore"),n=t.find(".jDiaporamaReadLess");if(e&&i&&n){e.css("display","inline"),e.hide();var o=function(){e.toggle(),i.toggle(),n.toggle()};i.on("click",o),n.on("click",o)}a(".jZoomDiapo").on("click",(function(){a.googleEvents.send("ccmcms","zoomImageDiapo","click")})),a("body").on("keydown",(function(t){switch(t.which){case 39:if(a(".jTopNextButton").length>0){var e=a(".jTopNextButton").attr("href");a.googleEvents.send("ccmcms","keyboard","hitNext",null,{transport:"beacon"}),void 0!==$data.ccmcms.services.diaporama_ajax&&void 0!==$data.ccmcms.services.diaporama_ajax.start?a(".jTopNextButton").trigger("click"):window.location=e}break;case 37:if(a(".jTopPreviousButton").length>0){var i=a(".jTopPreviousButton").attr("href");a.googleEvents.send("ccmcms","keyboard","hitPrevious",null,{transport:"beacon"}),void 0!==$data.ccmcms.services.diaporama_ajax&&void 0!==$data.ccmcms.services.diaporama_ajax.start?a(".jTopPreviousButton").trigger("click"):window.location=i}}}))}},!0===_$("$data.ccmcms.services.diaporama")._.start&&a(document).start((function(){a.diaporama.init()}))}(jQuery)},124:function(a,t){!function(a){"use strict";!0===_$("$data.ccmcms.services.diaporama_ajax")._.start&&a(document).start((function(){if(window.innerHeight>window.innerWidth)a(".layout_header").show(),a(".jDiaporamaHorizontal, .jSlideshowWrapper").hide(),a("#ctn_top").show(),a.diaporama_vertical_ajax.init($data.ccmcms.services.diaporama_ajax.isSlideshow);else{if(a(".layout_header").hide(),a(".jDiaporamaHorizontal").show(),a(".jDiaporamaVerticalAjax").addClass("jDiaporamaAjax").removeClass("jDiaporamaVerticalAjax").removeClass("app_entry_diapo--vertical"),a(".jDiaporamaLegend, .jDiaporamaTitle").removeAttr("style"),a(".jDiaporamaAjax").append('<div id="jPosInsertColMiddleBottom"></div>'),a("#ctn_top").hide(),!0===$data.ccmcms.services.diaporama_ajax.isSlideshow)a(".jDiaporamaAjax").addClass("app_entry_diapo--slideshow "+$data.ccmcms.services.diaporama_ajax.additionalCssClass),a(".jDiaporamaVerticalFigure, .jDiaporamaLegend").hide();else{var t=$data.ccmcms.services.diaporama_ajax.imgBaseUrl,e=$data.ccmcms.services.diaporama_ajax.verticalContentData;a(".jDiaporamaSourcePicture1").attr("height",e.heightForPicture1Horizontal).attr("width",e.widthForPicture1Horizontal).attr("srcset",t+e.pict1SrcsetHorizontal),a(".jDiaporamaSourcePicture2").attr("height",e.heightForPicture2Horizontal).attr("width",e.widthForPicture2Horizontal).attr("srcset",t+e.pict2SrcsetHorizontal),a(".jDiaporamaImg").attr("height",e.heightForImgHorizontal).attr("width",e.widthForImgHorizontal).attr("src",t+e.imgHorizontal)}!0===$data.ccmcms.services.diaporama_ajax.isReadMore&&(a(".jDiaporamaFigure, .jDiaporamaLegend").remove(),a(".jHeaderDiaporamaVertical").remove(),a(".jDiaporamaHorizontal").show(),a(".jDiaporamaAjax").addClass("o-readmore"),a(".jDiaporamaVerticalAnchor").removeClass("entry")),a.diaporama_horizontal_ajax.init($data.ccmcms.services.diaporama_ajax.contentIdForDiaporamaHorizontal,$data.ccmcms.services.diaporama_ajax.isSlideshow)}}))}(jQuery)},125:function(a,t){!function(a){"use strict";a.diaporama_horizontal_ajax={templateDiaporama:"",contents:[],contentsImg:[],isSlideshow:!1,init:function(t,e){a.diaporama_horizontal_ajax.isSlideshow=e,a.diaporama_horizontal_ajax.adsRefresh(),a.diaporama_horizontal_ajax.loadContents(t,a.diaporama_horizontal_ajax.getContentIdsToLoad(t)).then((function(e){var i=window.location.search.substr(1),n=e[t].isReadMore;i.length>0&&(e[t].url+="?"+i),history.replaceState({contentObject:e[t]},e[t].title,e[t].url);if(n){var o=new a.Template("#jDiaporamaReadmoreTemplate"),r={rootContentTitle:e[t].rootContentTitle,facebookUrl:e[t].facebookUrl,twitterText:e[t].twitterText,pinterestUrl:e[t].pinterestUrl,pinterestMediaUrl:e[t].pinterestMediaUrl,pinterestDescription:e[t].pinterestDescription};if(!0===a.diaporama_horizontal_ajax.isSlideshow)r.formattedContent=e[t].formattedContent;else for(var s in r.nextDiaporamaUrl=e[t].nextDiaporama.url,r.nextDiaporamaImgUrl=e[t].nextDiaporama.imgUrl,r.nextDiaporamaTitle=e[t].nextDiaporama.title,e[t].diaporamaSuggest)r["diaporamaSuggestUrl"+s]=e[t].diaporamaSuggest[s].url,r["diaporamaSuggestImgUrl"+s]=e[t].diaporamaSuggest[s].imgUrl,r["diaporamaSuggestTitle"+s]=e[t].diaporamaSuggest[s].title;var c=o.getNode(r);a(c).insertAfter(a(".jDiaporamaVerticalAnchor header")),!0===a.diaporama_horizontal_ajax.isSlideshow?a(".jDiaporamaVerticalAnchor").addClass("entry"):a(".jDiaporamaVerticalAnchor header").wrap('<div class="entry"></div>')}else a.diaporama_horizontal_ajax.imgPreloadAndScrollPaneUpdate(e[t],!1);a(document).on("click",".jTopPreviousButton, .jTopNextButton, .jMiddlePreviousZone, .jMiddleNextZone, .jMiddlePreviousButton, .jMiddleNextButton, .jItemWrapper",(function(t){a.diaporama_horizontal_ajax.initializeAutoplay();var i=a(this),o=i.attr("data-id"),r=0,s=i.hasClass("jItemWrapper")?a(".jItemWrapper .jBottomThumb").attr("href"):i.attr("href"),c=a.inArray(o,$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal);if(n)return window.location=s,!1;if(e[o]){if(e[o].isReadMore)return window.location=s,!1;t.preventDefault(),a.diaporama_horizontal_ajax.pushHistory(e[o]),a.diaporama_horizontal_ajax.updateHtml(e[o]),a.diaporama_horizontal_ajax.pageViewRefresh(e[o])}$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[c-6]&&void 0===a.diaporama_horizontal_ajax.contents[$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[c-6]]&&(r=$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[c-6]),$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[c+6]&&void 0===a.diaporama_horizontal_ajax.contents[$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[c+6]]&&(r=$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[c+6]),r>0&&a.diaporama_horizontal_ajax.loadContents(r,a.diaporama_horizontal_ajax.getContentIdsToLoad(r)).then((function(t){a.extend(e,t)}))}))})),window.addEventListener("popstate",(function(t){a.diaporama_horizontal_ajax.updateHtml(t.state.contentObject)}))},getPosItem:function(t){return a.inArray(t,$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal)},getContentIdsToLoad:function(t){var e=a.inArray(t,$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal),i=e-1,n=$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[i]?i:e,o=$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[i]?$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[i]:n+10,r=[];if(o>$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal.length){var s=o-$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal.length;o=$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal.length,n=n-s>0?n-s:0}if($data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[n])for(var c=n;c<o;c++)$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[c]&&r.push($data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[c]);return r},loadContents:function(t,e){return new Promise((function(i,n){a.ajax({type:"get",url:"/content/_xhr_diaporama_horizontal_action",dataType:"json",data:{currentContentId:t,contentIds:e},success:function(t){for(var e in t.diaporamaAjaxContents)"templateDiaporama"==e&&(a.diaporama_horizontal_ajax.templateDiaporama=t.diaporamaAjaxContents.templateDiaporama);a.extend(a.diaporama_horizontal_ajax.contents,t.diaporamaAjaxContents),i(t.diaporamaAjaxContents)},error:n})}))},getScrollPaneIndexRangeAndNextElement:function(t){var e=a.diaporama_horizontal_ajax.getPosItem(t.id)>0?a.diaporama_horizontal_ajax.getPosItem(t.id)-1:0,i=0,n=0,o=0,r="",s=$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal.length<=10?$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal.length-1:9;for(e>4?(i=e-4,n=e+5):e<=4&&(n=s-e),n>=$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal.length&&(i=(n=$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal.length-1)-s);void 0!==a.diaporama_horizontal_ajax.contents[$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[n]]&&!0===a.diaporama_horizontal_ajax.contents[$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[n]].isReadMore;)o=a.diaporama_horizontal_ajax.contents[$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[n]].id,r=a.diaporama_horizontal_ajax.contents[$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[n]].url,n--,i>0&&i--;return{indexFirst:i,indexLast:n,nextElementId:o,nextElementHref:r}},imgPreloadAndScrollPaneUpdate:function(t,e){var i=a.diaporama_horizontal_ajax.getScrollPaneIndexRangeAndNextElement(t),n=0,o=$data.ccmcms.services.diaporama_ajax.imgBaseUrl;a(".jItemWrapper.jContentScrollPane").removeClass("jContentScrollPane"),a(".jDiaporamaImgPreload").remove();for(var r=i.indexFirst;r<=i.indexLast;r++){var s=a.diaporama_horizontal_ajax.contents[$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaHorizontal[r]];s&&(1==e&&(a(".jItemWrapper:eq("+n+"), .jItem:eq("+n+")").attr("data-id",s.id),a(".jItem:eq("+n+") .jFigcaption").text(s.spTitle),a(".jItem:eq("+n+") .jBottomThumb").attr("href",s.url),a(".jItem:eq("+n+") .jImagePile").attr("data-background",o+s.spBackground).data("background",o+s.spBackground).css("background-image","url("+o+s.spBackground+")").animate({opacity:1},1e3),a(".jItemWrapper:eq("+n+")").addClass("jContentScrollPane")),imagePile.add(o+s.img,{},(function(a,t){}),0),imagePile.add(o+s.pict1Srcset,{},(function(a,t){}),0),imagePile.add(o+s.pict2Srcset,{},(function(a,t){}),0)),n++}imagePile.depile(),a.diaporama_horizontal_ajax.updateNextElementButton(t.id,i.nextElementId,i.nextElementHref)},updateNextElementButton:function(t,e,i){var n=a('.jItemWrapper[data-id="'+t+'"]').next();n.length>0&&(e=n.attr("data-id"),i=n.find(".jBottomThumb").attr("href")),0==e?(a(".jAppNextButton").replaceWith('<span class="app_button_nav_next jAppNextButton app_btn--inactive"><span class="icon-btn_nav_r" aria-hidden="true"></span></span>'),a(".jMiddleNextButton").hide()):(a(".jAppNextButton").replaceWith('<a class="app_button_nav_next jAppNextButton jTopNextButton" data-id="'+e+'" href="'+i+'"><span class="icon-btn_nav_r" aria-hidden="true"></span></a>'),a(".jTopNextButton, .jMiddleNextZone, .jMiddleNextButton").attr("data-id",e).attr("href",i),a(".jMiddleNextButton").show())},updateHtml:function(t){var e=t.id,i=$data.ccmcms.services.diaporama_ajax.imgBaseUrl;a(".jDiaporamaAjax .jDiaporamaTitle").text(t.title),document.title=t.title,a.diaporama_horizontal_ajax.imgPreloadAndScrollPaneUpdate(t,!0),a(".jItem.current").removeClass("current"),a('.jItem[data-id="'+e+'"]').addClass("current"),a.thumbslider.init();var n=a('.jItemWrapper[data-id="'+e+'"]').prev();if(0==n.length)a(".jAppPreviousButton").replaceWith('<span class="app_button_nav_prev jAppPreviousButton app_btn--inactive"><span class="icon-btn_nav_l" aria-hidden="true"></span></span>'),a(".jDiaporamaKeyboard").show(),a(".jMiddlePreviousZone").remove(),a(".jMiddlePreviousButton").hide();else{if(a(".jAppPreviousButton").replaceWith('<a class="app_button_nav_prev jAppPreviousButton jTopPreviousButton" data-id="'+n.attr("data-id")+'" href="'+n.attr("href")+'"><span class="icon-btn_nav_l" aria-hidden="true"></span></a>'),a(".jDiaporamaKeyboard").hide(),0==a(".jMiddlePreviousZone").length&&a(".jDiaporamaFigureImg").prepend('<a href="'+n.attr("href")+'" class="ccmcss_cms_figure__linkleft jMiddlePreviousZone" data-id="'+n.attr("data-id")+'"><span><span aria-hidden="true" class="icon-arrow-l"></span></span></a>'),0==a(".jMiddlePreviousButton").length){var o=a(".jMiddleNextButton").clone();o.addClass("jMiddlePreviousButton app_button_nav_prev").removeClass("jMiddleNextButton app_button_nav_next").attr("data-id",n.attr("data-id")).attr("href",n.attr("href")).attr("title",n.find(".jFigcaption").text()),o.find("span").addClass("icon-btn_nav_l").removeClass("icon-btn_nav_r"),a(".jMiddleNextButton").before(o)}a(".jTopPreviousButton, .jMiddlePreviousZone, .jMiddlePreviousButton").attr("data-id",n.attr("data-id")).attr("href",n.find(".jBottomThumb").attr("href")),a(".jMiddlePreviousButton").show()}if(t.html.length>0){a(".jDiaporamaFigure, .jDiaporamaLegend").hide(),a(".jDiaporamaVerticalHtml").show().html(t.html);var r=a(".jDiaporamaVerticalHtml script"),s=!1,c=!1;r.length>0&&a(r).each((function(){a(this).attr("src").indexOf("pinterest")>-1&&"undefined"!=typeof PinUtils&&!1===s?(PinUtils.build(),s=!0):a(this).attr("src").indexOf("instagram")>-1&&void 0!==window.instgrm&&!1===c&&(window.instgrm.Embeds.process(),c=!0)}))}else if(!0===a.diaporama_horizontal_ajax.isSlideshow)a(".jSlideshowWrapper figure").remove(),a(".jSlideshowWrapper .app_entry_diapo--slideshow__content").remove(),a(".jSlideshowWrapper").prepend(t.formattedContent),a(".fancy").fancybox(a.jet.services.fancybox.options);else{if(a(".jDiaporamaVerticalHtml").hide(),a(".jDiaporamaFigure, .jDiaporamaLegend").show(),a(".jDiaporamaContent .jDiaporamaHtml").length>0?(a(".jDiaporamaContent .jDiaporamaHtml").remove(),a(".jDiaporamaContent").children().show()):a.diaporama_horizontal_ajax.templateDiaporama.length>0&&(a(".jDiaporamaContent").children().remove(),a(".jDiaporamaContent").prepend(a.diaporama_horizontal_ajax.templateDiaporama),a(".jDiaporamaAjax").removeClass("app_entry_diapo--nomedia")),a(".jDiaporamaSourcePicture1").attr("srcset",i+t.pict1Srcset),a(".jDiaporamaSourcePicture2").attr("srcset",i+t.pict2Srcset),a(".jDiaporamaImg").attr("src",i+t.img).attr("alt",t.alt),null!==t.widthForPicture1&&a(".jDiaporamaSourcePicture1").attr("width",t.widthForPicture1),null!==t.heightForPicture1&&a(".jDiaporamaSourcePicture1").attr("height",t.heightForPicture1),null!==t.widthForPicture2&&a(".jDiaporamaSourcePicture2").attr("width",t.widthForPicture2),null!==t.heightForPicture2&&a(".jDiaporamaSourcePicture2").attr("height",t.heightForPicture2),null!==t.widthForImg&&a(".jDiaporamaImg").attr("width",t.widthForImg),null!==t.heightForImg&&a(".jDiaporamaImg").attr("height",t.heightForImg),t.modulesData.length>0){var d=t.modulesData[0].images[0].legend;t.modulesData[0].images[0].credits.title&&(d+="<br /><small>&copy;&nbsp; ",t.modulesData[0].images[0].credits.link?d+='<a href="'+t.modulesData[0].images[0].credits.link+'" target="_blank">'+t.modulesData[0].images[0].credits.title+"</a>":d+=t.modulesData[0].images[0].credits.title,d+="</small>"),a(".jDiaporamaAjax .jDiaporamaLegend").html(d)}a(".jZoomDiapo").attr("href",i+t.zoomHref),t.backLinkContentUrl.length>0&&a(".jDiaporamaHorizontalBacklinkLink").attr("href",t.backLinkContentUrl),t.backLinkContentLabel.length>0&&a(".jDiaporamaHorizontalBacklinkLabel").html(t.backLinkContentLabel)}},pushHistory:function(a){history.pushState({contentObject:a},a.title,a.url)},initializeAutoplay:function(){a("#jAutoPlay").trigger("resetTimeout")},adsRefresh:function(){window.figMediaRoadblock=window.figMediaRoadblock||[],window.figMediaRoadblock.push((function(){this.enableRoadblocking("ba_right")})),setInterval((function(){!1===$data.ccmcms.services.diaporama_ajax.isReadMore&&dataLayer.push({event:"app.partners.outbrain",appConfig:{partners:{outbrain:{refresh:!0}}}}),asl.refresh("ba_right"),asl.refresh("ba_x02")}),2e4)},pageViewRefresh:function(t){dataLayer.push(a.extend({event:"app.refresh.pageview"},t.datalayer))}}}(jQuery)},126:function(a,t){!function(a){"use strict";a.diaporama_vertical_ajax={contentIdsLoaded:[],contents:[],nativeMtfHtml:'<div id="ctn_native_mtf"><div id="ba_native_mtf" class="ba native_mtf" style="display:inline-block;"></div></div>',urlParameters:window.location.search.substr(1),isSlideshow:!1,init:function(t){a.diaporama_vertical_ajax.isSlideshow=t,_gtm.events.ready.push({name:"asl.ready",handler:function(){"mobile"!==asl.getScreenName()&&a.diaporama_vertical_ajax.adsRefresh();var t=a(".jDiaporamaVerticalAnchor:last"),e=t.attr("data-href");a.diaporama_vertical_ajax.urlParameters.length>0&&t.attr("data-href",e+"?"+a.diaporama_vertical_ajax.urlParameters),history.replaceState({contentObject:{id:t.attr("data-id")}},t.attr("data-title"),t.attr("data-href"));var i=0,n=$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaVertical.length;for(var o in $data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaVertical){o=parseInt(o);var r=$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaVertical[o],s=a('.jDiaporamaVerticalAnchor[data-id="'+r+'"]');if(r===t.attr("data-id")&&0===o&&t.addClass("jDiaporamaFirstElement"),5===o&&(a(".jDiaporamaVerticalAjax").append(a.diaporama_vertical_ajax.getHtmlAd("preload1")),asl.write("preload1")),7===o&&(a(".jDiaporamaVerticalAjax").append(a.diaporama_vertical_ajax.getHtmlAd("preload2")),asl.write("preload2")),9===o&&(a(".jDiaporamaVerticalAjax").append(a.diaporama_vertical_ajax.getHtmlAd("preload3")),asl.write("preload3")),o>9&&o%2==1){var c=null;0===i?c=a.diaporama_vertical_ajax.getAdPositionObj("jPlaceholderNativeAtf","native_atf"):1===i?c=a.diaporama_vertical_ajax.getAdPositionObj("jPlaceholderNativeMtf","native_mtf"):2===i?c=a.diaporama_vertical_ajax.getAdPositionObj("jPlaceholderPreload1","preload1"):3===i?c=a.diaporama_vertical_ajax.getAdPositionObj("jPlaceholderPreload2","preload2"):4===i&&(c=a.diaporama_vertical_ajax.getAdPositionObj("jPlaceholderPreload3","preload3")),a(".jDiaporamaVerticalAjax").append('<div class="jAds" style="text-align:center;"><div class="jPlaceholderAd" data-placeholderClass="'+c.placeholderClass+'" data-adPosition="'+c.adPosition+'"></div></div>'),i<4?i++:i=0}a(".jDiaporamaVerticalAjax").append('<div class="jDiaporamaVerticalDefault" data-id="'+r+'" style="height:700px;"></div>'),0===o&&(a(".jDiaporamaVerticalAjax").append(a.diaporama_vertical_ajax.getHtmlAd("native_atf")),asl.write("native_atf")),2===o&&(a(".jDiaporamaVerticalAjax").append(a.diaporama_vertical_ajax.getHtmlAd("native_mtf")),asl.write("native_mtf")),s.length>0&&a('.jDiaporamaVerticalDefault[data-id="'+r+'"]').replaceWith(s),o===n-1&&a(".jDiaporamaVerticalAjax").append('<div id="jPosInsertColMiddleBottom"></div>')}a.diaporama_vertical_ajax.loadDiapo(t,"-10","+10",!0)}})},loadDiapo:function(t,e,i,n){var o=$data.ccmcms.services.diaporama_ajax.imgBaseUrl,r=t.attr("data-id");if(!0===a(".jDiaporamaVerticalSharer").length>0&&a(".jDiaporamaVerticalSharer").hide(),a(".jDiaporamaVerticalMetasAuthor").hide(),-1===a.diaporama_vertical_ajax.contentIdsLoaded.indexOf(r)){a.diaporama_vertical_ajax.contentIdsLoaded.push(r);var s=a.diaporama_vertical_ajax.getContentIdsToLoad(r,e,i);s.length>0&&a.diaporama_vertical_ajax.loadContents(r,s).then((function(e){var i=new a.Template("#jDiaporamaVerticalTemplate"),r=new a.Template("#jDiaporamaVerticalHtmlTemplate"),s=new a.Template("#jDiaporamaReadmoreTemplate");for(var c in e){if(a.diaporama_vertical_ajax.urlParameters.length>0&&(e[c].url+="?"+a.diaporama_vertical_ajax.urlParameters),!0===e[c].isReadMore){var d={rootContentTitle:e[c].rootContentTitle,facebookUrl:e[c].facebookUrl,twitterText:e[c].twitterText,pinterestUrl:e[c].pinterestUrl,pinterestMediaUrl:e[c].pinterestMediaUrl,pinterestDescription:e[c].pinterestDescription};for(var l in!0===a.diaporama_vertical_ajax.isSlideshow&&(d.formattedContent=e[c].formattedContent),d.nextDiaporamaUrl=e[c].nextDiaporama.url,d.nextDiaporamaImgUrl=e[c].nextDiaporama.imgUrl,d.nextDiaporamaTitle=e[c].nextDiaporama.title,e[c].diaporamaSuggest)d["diaporamaSuggestUrl"+l]=e[c].diaporamaSuggest[l].url,d["diaporamaSuggestImgUrl"+l]=e[c].diaporamaSuggest[l].imgUrl,d["diaporamaSuggestTitle"+l]=e[c].diaporamaSuggest[l].title;var m='<div class="entry jDiaporamaVerticalAnchor" data-id="'+e[c].id+'" data-title="'+e[c].title+'" data-href="'+e[c].url+'">\n    <header>\n        <h1 class="jDiaporamaVerticalTitle" style="padding:10px;">'+e[c].title+"</h1>\n    </header>",u=a(m).add(s.getNode(d));a(".jDiaporamaAjax").addClass("o-readmore")}else if(e[c].html.length>0)u=r.getNode({contentId:e[c].id,contentTitle:e[c].title,contentUrl:e[c].url,contentHtml:e[c].html});else{var p="";e[c].modulesData.length>0&&(p="<br /><small>&copy;&nbsp;",e[c].modulesData[0].images[0].credits.link?p+='<a href="'+e[c].modulesData[0].images[0].credits.link+'" target="_blank">'+e[c].modulesData[0].images[0].credits.title+"</a>":p+=e[c].modulesData[0].images[0].credits.title,p+="</small>");u=i.getNode({contentId:e[c].id,contentTitle:e[c].title,contentUrl:e[c].url,contentPict1Srcset:o+e[c].pict1Srcset,contentPict2Srcset:o+e[c].pict2Srcset,contentPict1Width:e[c].widthForPicture1,contentPict1Height:e[c].heightForPicture1,contentPict2Width:e[c].widthForPicture2,contentPict2Height:e[c].heightForPicture2,contentImg:o+e[c].img,contentImgWidth:e[c].widthForImg,contentImgHeight:e[c].heightForImg,contentAlt:e[c].alt,contentLegendLength:e[c].modulesData.length>0?e[c].modulesData[0].images[0].legend.length:0,contentLegend:e[c].modulesData.length>0?e[c].modulesData[0].images[0].legend:"",contentCredits:p})}a('.jDiaporamaVerticalDefault[data-id="'+e[c].id+'"]').replaceWith(a(u).not(".jSlideshowReadmoreHeader"))}var h=a(".jDiaporamaVerticalHtml script"),f=!1,g=!1;if(h.length>0&&h.length>0&&a(h).each((function(){a(this).attr("src").indexOf("pinterest")>-1&&"undefined"!=typeof PinUtils&&!1===f?(PinUtils.build(),f=!0):a(this).attr("src").indexOf("instagram")>-1&&void 0!==window.instgrm&&!1===g&&(window.instgrm.Embeds.process(),g=!0)})),a(".jDiaporamaVerticalMetasAuthor").insertAfter(a(".jDiaporamaVerticalAnchor:last")).show(),void 0!==n){var v,j=0,y=0,_=t.hasClass("jDiaporamaFirstElement")?0:t.offset().top+a(document).scrollTop();_gtm.events.ready.push({name:"asl.ready",handler:function(){inView(".jAds",{offset:{top:-100,bottom:-400}}).on("enter",(function(t){var e=null,i=null;a(t).children(".jPlaceholderAd").length>0&&(e=a(t).children(".jPlaceholderAd"),i=a.diaporama_vertical_ajax.getAdPositionObj(e.attr("data-placeholderClass"),e.attr("data-adPosition"))),null!==e&&null!==i&&(clearTimeout(y),y=setTimeout((function(){a.diaporama_vertical_ajax.adRefreshManagement(e,i)}),200))}))}}),a(document).scrollTop(_).on("scroll",(function(){v&&window.clearTimeout(v),v=window.setTimeout((function(){var t=a(".jDiaporamaVerticalAnchor:last").index()-5,e=a(".jDiaporamaVerticalAnchor:first").index()+5,i=a(this).scrollTop(),n=!1;i>j&&(n=!0),j=i,inView(".jDiaporamaVerticalTitle",{threshold:1}).on("enter",(function(i){var o=a(i).closest(".jDiaporamaVerticalAnchor, .jDiaporamaVerticalDefault");void 0!==o&&a(o).attr("data-title")&&a(o).attr("data-href")&&history.state&&history.state.contentObject.id!==a(o).attr("data-id")&&(history.replaceState({contentObject:{id:a(o).attr("data-id")}},a(o).attr("data-title"),a(o).attr("data-href")),document.title=a(o).attr("data-title"),a.diaporama_vertical_ajax.contents[a(o).attr("data-id")]&&a.diaporama_vertical_ajax.pageViewRefresh(a.diaporama_vertical_ajax.contents[a(o).attr("data-id")])),n&&a(o).index()>=t&&a.diaporama_vertical_ajax.loadDiapo(a(".jDiaporamaVerticalAnchor:last"),1,10),!n&&a(o).index()<=e&&a.diaporama_vertical_ajax.loadDiapo(a(".jDiaporamaVerticalAnchor:first"),-10,0)}))}),100)}))}}))}else a(".jDiaporamaVerticalMetasAuthor").insertAfter(a(".jDiaporamaVerticalAnchor:last")).show()},getContentIdsToLoad:function(t,e,i){var n=a.inArray(t,$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaVertical),o=n+ +e,r=n+ +i,s=[];if(o<0&&(o=0),r>$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaVertical.length&&(r=$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaVertical.length),$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaVertical[o])for(var c=o;c<r;c++)$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaVertical[c]&&$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaVertical[c]!=t&&s.push($data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaVertical[c]);return s},loadContents:function(t,e){return new Promise((function(i,n){a.ajax({type:"get",url:"/content/_xhr_diaporama_vertical_action",dataType:"json",data:{currentContentId:t,contentIds:e},success:function(t){var e=[];for(var n in t.diaporamaAjaxContents){e[$data.ccmcms.services.diaporama_ajax.childrenIdsForDiaporamaVertical.indexOf(n)]=t.diaporamaAjaxContents[n],a.diaporama_vertical_ajax.contents[n]=t.diaporamaAjaxContents[n]}i(e)},error:n})}))},adsRefresh:function(){window.figMediaRoadblock=window.figMediaRoadblock||[],window.figMediaRoadblock.push((function(){this.enableRoadblocking("ba_right")})),setInterval((function(){asl.refresh("ba_right")}),3e4)},pageViewRefresh:function(t){dataLayer.push(a.extend({event:"app.refresh.pageview"},t.datalayer))},getHtmlAd:function(t){return'<div class="jAds" style="text-align:center;">'+a.diaporama_vertical_ajax.getHtmlAdPosition(t)+"</div>"},getHtmlAdPosition:function(a){return'<div id="ctn_'+a+'"><div id="ba_'+a+'" class="ba '+a+'"></div></div>'},getAdPositionObj:function(a,t){return{placeholderClass:a,adPosition:t}},adRefreshManagement:function(t,e){if(!1!==e.hasOwnProperty("placeholderClass")&&!1!==e.hasOwnProperty("adPosition")){var i=a("#ctn_"+e.adPosition),n="height:"+i.height()+"px; width:"+i.width()+"px;";a("#ctn_"+e.adPosition).replaceWith('<div class="jPlaceholderAd" data-placeholderClass="'+e.placeholderClass+'" data-adPosition="'+e.adPosition+'" style="'+n+'"></div>'),t.replaceWith(a.diaporama_vertical_ajax.getHtmlAdPosition(e.adPosition)),asl.refresh("ba_"+e.adPosition),console.log("Refresh ad position: ","ba_"+e.adPosition)}}}}(jQuery)},127:function(a,t){!function(a){"use strict";a.playlist={options:{host:null,adDomain:null,firstVideo:!1},playVideo:function(t){var e=t.attr("data-id"),i=t.attr("data-key"),n=a(".jccmPlayer");void 0!==playerManager.getPlayerInstance&&playerManager.getPlayerInstance(n[0]).then((function(n){a(".jPlaylistPreviewItem").each((function(t,e){var i=a(e);i.hasClass("current")&&i.removeClass("current")})),n.changeMedia(e,i),t.addClass("current"),a(".jPlaylistPreviewContainer").animate({scrollTop:t.position().top},600)}))},init:function(){a(".jPlaylistPreviewItem").on("click",(function(){a.playlist.playVideo(a(this))})),document.addEventListener("mediaplayer:playerPlayed",(function(t){var e=a(".jPlaylistPreviewItem.current").next(".jPlaylistPreviewItem");0==e.length&&(e=a(".jPlaylistPreviewItem:first")),a.playlist.playVideo(e)}))}},!0===_$("$data.ccmcms.services.playlist")._.start&&a(document).start((function(){a.extend(!0,a.playlist.options,$data.ccmcms.services.playlist.options),a.playlist.init()}))}(jQuery)},128:function(a,t){_$("$data.ccmcms.services.autoplay")._.start&&$(document).start((function(){if(window.screen.width>480){var a=$("#jAutoPlay").autoPlay({duration:15e3,legendLength:220,durationLegendLength:3e4});$(document).on("click",".fancy",(function(){a.trigger("pause")})).on("click",".jHideButtonVideoDiaporama",(function(){a.trigger("resume")})).on("videoDiaporama",(function(t,e){switch(e){case"open":a.trigger("pause");break;case"close":a.trigger("resume")}})).on("focus","input",(function(){a.trigger("pause")})),$(".fancy").on("fancybox-cleanup",(function(){a.trigger("resume")}))}}))},129:function(a,t){!function(a){"use strict";a.election={init:function(){a(".elections_table").foldToggle(),a(".jBtnDisplayList").on("click",(function(){a(this).find(".jBtnTableCollapse").toggleClass("elections_table_collapse_btn--off"),a(this).nextAll("."+a(this).attr("data-controls")).toggle()}))}},!0===_$("$data.ccmcms.services.election")._.start&&a(document).start(a.election.init())}(jQuery)},130:function(a,t){!function(a){a.aprilfool={init:function(){a.cookie("aprilfool")||Promise.all([vow("https://fonts.googleapis.com/css?family=Chewy",{type:"css"}),vow("//cdn.jsdelivr.net/lettering/0.6.1/jquery.lettering.min.js")]).then((function(){a((function(){window.location.hostname;new a.Template('<div id="poisson_avril" class="poisson_${className}">    <div id="poisson_overlay"></div><div id="poisson_ct"><a href="#" id="jPoissonClose">✖</a>          <div class="tlt poisson_top">      <ul class="texts" style="display: none">          <li>Poisson d\'Avril</li>      </ul>  </div>  <div class="poisson_middle">      <span id="jPoissonBg" class="poisson_middle__bg animated pulseB"></span>      <img id="jPoissonImg" src="//astatic.ccmbg.com/www.linternaute.com/img/poisson/poisson.png" alt="" class="animated flipB">      <img id="jPoissonLogo" src="//astatic.ccmbg.com/${img}" alt="" class="animated fadeInLeftBig">  </div>  <div class="poisson_bottom">      <a href="http://www.facebook.com/sharer.php?u=${shareUrl}" target="_blank" id="jPoissonBtn" style="opacity: 0" class="poisson_btn animated fadeIn">Partagez ce poisson avec vos amis</a>  </div></div></div></div>',!0).getNode(function(){switch(window.location.hostname){case"www.linternaute.com":return{className:"linternaute",img:"www.linternaute.com/img/poisson/logo_nobsl.png",shareUrl:encodeURIComponent("http://www.linternaute.com")};case"www.qlf.linternaute.com":return{className:"linternaute",img:"www.linternaute.com/img/poisson/logo_nobsl.png",shareUrl:encodeURIComponent("http://www.qlf.linternaute.com")};case"www.local.linternaute.com":return{className:"linternaute",img:"www.linternaute.com/img/poisson/logo_nobsl.png",shareUrl:encodeURIComponent("http://www.local.linternaute.com")};case"www.journaldunet.com":return{className:"jdn",img:"www.journaldunet.com/img/logo_jdn.png",shareUrl:encodeURIComponent("https://www.journaldunet.com")};case"www.qlf.journaldunet.com":return{className:"jdn",img:"www.journaldunet.com/img/logo_jdn.png",shareUrl:encodeURIComponent("https://www.qlf.journaldunet.com")};case"www.local.journaldunet.com":return{className:"jdn",img:"www.journaldunet.com/img/logo_jdn.png",shareUrl:encodeURIComponent("https://www.local.journaldunet.com")};default:return{className:"jdn",img:"www.journaldunet.com/img/logo_jdn.png",shareUrl:encodeURIComponent("https://www.journaldunet.com")}}}()).appendTo("body"),a.cookie("aprilfool","true",{expires:1,path:"/"});var t=[{time:500,step:"animated pulseB",selector:"#jPoissonBg"},{time:1e3,step:"animated flipB",selector:"#jPoissonImg"},{time:1200,step:"animated fadeInLeftBig",selector:"#jPoissonLogo"},{time:2e3,step:"animated fadeIn",selector:"#jPoissonBtn"}];function e(e,i){setTimeout((function(){a(t[e].selector).addClass(t[e].step)}),i)}for(var i=0,n=0;n<t.length;n++)e(n,i=parseInt(t[n].time,10)+parseInt(i,10));a(".tlt").textillate({initialDelay:1500,in:{effect:"bounceInDown"},type:"char"}),a("#jPoissonClose").on("click",(function(){a("#poisson_avril").hide()}))}))}))}},"undefined"!=typeof $data&&void 0!==$data.ccmcms&&$data.ccmcms.services&&void 0!==$data.ccmcms.services.aprilfool&&$data.ccmcms.services.aprilfool.start&&a(document).start((function(){a.aprilfool.init()}))}(jQuery)},131:function(a,t){!function(a){"use strict";void 0!==$data.ccmcms.services.nativeAdsMoreDialog&&$data.ccmcms.services.nativeAdsMoreDialog.start&&(a.jet.started?a(".jNativeAdsMoreDialog").nativeAdsMoreDialog():a(document).start((function(){a(".jNativeAdsMoreDialog").nativeAdsMoreDialog()})))}(jQuery)},132:function(a,t){!function(a){"use strict";a.trackevent={init:function(){a("body .jTrackEvent").on("click",(function(t){var e=a(t.target).closest("a");a.googleEvents.send("ccmcms",e.data("trackevent-label"),e.data("trackevent-value"))}))}},!0===_$("$data.ccmcms.services.trackevent")._.start&&a(document).start((function(){a.trackevent.init()}))}(jQuery)},133:function(a,t){document.addEventListener("click",(function(a){var t=a.target;if(("A"===t.tagName||"LABEL"===t.tagName)&&t.classList.contains("jtrackEditButton")){var e=t.innerHTML;void 0!==t.dataset.clickeditobuttongaeventlabel&&(e=t.dataset.clickeditobuttongaeventlabel),dataLayer.push({event:"ga_event",ga_event:{category:"ccmcms",action:"clickEditoButton",label:e}})}}))},134:function(a,t){!function(a){"use strict";a.fn.nativeAds=function(t){return t=a.extend({},a.fn.nativeAds.defaultOptions,t),this.each((function(){var e=a(this);a.ajax({url:"/index/_xhr_display_nativeads",type:"post",dataType:"json",data:{partner:t.partner},success:function(a){e.html(a.html).find(".jNativeAdsMoreDialog").nativeAdsMoreDialog()}})}))},a.fn.nativeAds.defaultOptions={partner:""}}(jQuery)},135:function(a,t){!function(a){a.nativeAdsMoreDialog={init:function(){this.microTemplateInit()}},a.fn.nativeAdsMoreDialog=function(t){return a.profile&&console.time("nativeAdsMoreDialog.init"),t=a.extend({},a.fn.nativeAdsMoreDialog.defaultOptions,t),this.on("click",(function(e){e.preventDefault(),$divModal=a('<div title="'+a.nativeAdsMoreDialog.langs[a.nativeAdsMoreDialog.lang].TITLE+'"></div>').html(a.nativeAdsMoreDialog.getTemplate('<div class="app_dialog_infos grid_row"><div class="grid_col w60">$l{TEXT}</div></div>')).dialog(t.dialog)})),a.profile&&console.timeEnd("nativeAdsMoreDialog.init"),this},a.fn.nativeAdsMoreDialog.defaultOptions={dialog:{width:650,resizable:!1,dialogClass:"",modal:!0}},a.extend(a.nativeAdsMoreDialog,a.microTemplate),a.jet.started?a.nativeAdsMoreDialog.init():a(document).start((function(){a.nativeAdsMoreDialog.init()}),{name:"nativeAdsMoreDialogInit"})}(jQuery)},136:function(a,t){!function(a){a.extend(!0,a.nativeAdsMoreDialog.langs,{FR:{TITLE:"On Air",TEXT:"<p>On Air permet aux marques de s'adresser directement aux lecteurs, en utilisant les même formats éditoriaux que ceux utilisés par la rédaction.</p><p>Les lecteurs peuvent ainsi accéder aux informations apportées par les marques dans un format qu'ils apprécient, tout en identifiant facilement et rapidement que les contenus proviennent d'une marque qui est identifiée par son nom en signature et le logo On Air.</p><p>Pour les marques, ce format garantit de pouvoir partager des informations de qualité avec les lecteurs au sein même de ce qui fait le succès du site : le contenu. Pour en savoir plus sur On Air ou nous faire part de vos remarques, vous pouvez nous contacter à l'adresse <a href=\"mailto:redac.jdn@ccmbenchmark.com\">redac.jdn@ccmbenchmark.com</a></p>"}})}(jQuery)},137:function(a,t){!function(a){a.extend(!0,a.nativeAdsMoreDialog.langs,{FR:{TITLE:" LA VOIX DES MARQUES",TEXT:"<p>Ce format permet aux marques de s'adresser directement aux lecteurs de Linternaute.com, en utilisant les mêmes formats éditoriaux que ceux utilisés par la rédaction.</p><p>Les lecteurs de Linternaute.com peuvent ainsi accéder aux informations apportées par les marques dans un format qu'elles apprécient, tout en identifiant facilement et rapidement que les contenus proviennent d'une marque qui est identifiée par son nom en signature.</p><p>Pour les marques, ce format garantit de pouvoir partager des informations de qualité avec les lecteurs de Linternaute.com au sein même de ce qui fait le succès du site : le contenu. Pour en savoir plus ou nous faire part de vos remarques, vous pouvez nous contacter à l'adresse <a href=\"mailto:nativeads@ccmbenchmark.com\">nativeads@ccmbenchmark.com</a></p>"}})}(jQuery)},138:function(a,t){!function(a){void 0!==$data.ccmcms.services.blockcinetv&&$data.ccmcms.services.blockcinetv.start&&a(document).start((function(){a.blockCineTv.init($data.ccmcms.services.blockcinetv.options)}))}(jQuery)},139:function(a,t){!0===_$("$data.ccmcms.services.swiper")._.start&&Promise.all([vow("https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.3.0/js/swiper.jquery.min.js"),vow("https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.3.0/css/swiper.min.css")]).then((function(){$(".jSliderLarge .swiper-container").length>0&&$(".jSliderLarge .swiper-container").each((function(){var a=$(this),t=a.swiper({loop:!0,preventClicks:!1});$(".swiper-button-prev").on("click",(function(){t.slidePrev()})),$(".swiper-button-next").on("click",(function(){t.slideNext()})),a.on("contentSave",(function(){t.updateSlidesSize()})),$data.ccmcms.services.swiper.scrollResize=!1,$(window).on("scroll",(function(){$("body").hasClass("app--ark")&&!1===_$("$data.ccmcms.services.swiper")._.scrollResize&&(t.update(!0),$data.ccmcms.services.swiper.scrollResize=!0)}))})),$(".jSliderNews").length>0&&$(".jSliderNews").each((function(){var a=$(this).swiper({slidesPerView:"auto",preventClicks:!1});$(".swiper-button-prev").on("click",(function(){a.slidePrev()})),$(".swiper-button-next").on("click",(function(){a.slideNext()}))}))}))},146:function(a,t){!function(a){"use strict";a.fn.loadInfogram=function(){return this.length>0&&window.addEventListener("message",(function(t){var e=null;try{e=JSON.parse(t.data)}catch(t){return!1}if("iframe.resize"!==e.context)return!1;var i=a('iframe[src="'+e.src+'"]'),n=e.src.split("/"),o=n[n.length-1].split("?")[0];if(0===i.length||i.parent().data("infogram-loaded"))return!1;a("img[data-id='"+o+"']").remove(),i.parent().css({opacity:"1",height:"auto",width:"auto"}).data("infogram-loaded",!0)})),this.each((function(){var t=a(this);a('<div style="opacity:0;height:0px;" class="infogram-embed" data-id="'+t.data("id")+'" data-type="interactive" data-title="'+t.attr("title")+'"></div><script>!function(e,t,s,i){var n="InfogramEmbeds",o=e.getElementsByTagName("script")[0],d=/^http:/.test(e.location)?"http:":"https:";if(/^\\/{2}/.test(i)&&(i=d+i),window[n]&&window[n].initialized)window[n].process&&window[n].process();else if(!e.getElementById(s)){var r=e.createElement("script");r.async=1,r.id=s,r.src=i,o.parentNode.insertBefore(r,o)}}(document,0,"infogram-async","https://e.infogram.com/js/dist/embed-loader-min.js");<\/script>').insertAfter(t)}))}}(jQuery)},147:function(a,t){!function(a){"use strict";a.blockAmazon={init:function(){var t=a("span.jBlockAmazon");t.length>0&&a.ajax({type:"get",url:"/api/block/"+t.attr("data-tagId")+"-middleColRight/render?type=tag&template=inline::item&cache=1",dataType:"html",success:function(e){t.html(e),void 0!==a.blocks&&a.blocks.init(t.find($data.ccmcms.services.blocks.selector))}})}},!0===_$("$data.ccmcms.services.blockAmazon")._.start&&a(document).start((function(){a.blockAmazon.init()}))}(jQuery)},16:function(a,t,e){"use strict";e(17),e(18),e(19),e(20)},17:function(a,t){!function(a,t){"use strict";var e=a.querySelector(".jSecondLevelMenu"),i=t.location.pathname;if(null!==e&&"/"!==i)for(var n=a.createElement("a"),o=e.querySelectorAll("li"),r=0,s=o.length;r<s;r++){var c=o[r],d=c.querySelector("a");if(null!==d&&(n.href=d.getAttribute("href"),i===n.pathname)){c.classList.add("active");break}}}(document,window)},18:function(a,t){!function(a){"use strict";var t=a.querySelector(".jHeader");if(null!==t){var e=function(t){var e=a.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?e[2]:null},i=null===t.getAttribute("data-cookie-prefix")?"":t.getAttribute("data-cookie-prefix"),n=e(i+"ulabel"),o=a.querySelector(".jHeaderConnected");if(null!==n&&null!==o){o.style.display="block",a.querySelector(".jHeaderDisconnected").style.display="none";var r=t.querySelector(".jHeaderAvatar");if(null!==r){r.setAttribute("data-icomoon","");var s=decodeURIComponent(e(i+"uimage"));if(null!==s)return"http://"!==s.substring(0,7)&&"https://"!==s.substring(0,8)&&"//"!==s.substring(0,2)&&(s=r.getAttribute("data-baseurl")+"/"+r.getAttribute("data-size")+"/"+s+(null!==s.match(/\./)?"":".jpg")),void r.setAttribute("style",'background-image:url("'+s+'")');var c=null;c="undefined"!=typeof $data&&$data.common&&$data.common.staticDomain?$data.common.staticDomain:r.getAttribute("data-staticurl"),r.setAttribute("style",'background-image:url("'+c+'/img/default/user.png")')}}}}(document)},19:function(a,t){!function(a){"use strict";var t=a.querySelector(".jHeader");if(null!==t){var e,i,n=null===t.getAttribute("data-cookie-prefix")?"":t.getAttribute("data-cookie-prefix"),o=".jMenuDisconnected";null!==(e=n+"ulabel",(i=a.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)"))?i[2]:null)&&(o=".jMenuConnected");var r=t.querySelector(o);if(null!==r){r.style.display="block";for(var s=t.querySelectorAll(".jDropBtn"),c=0,d=s.length,l=t.querySelector(".jDropMenuBtn");c<d;c++)s[c].addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var e=t.target,i="."+this.getAttribute("data-target"),n=a.querySelector(i),o=a.querySelector(".jSearchBox"),r=a.querySelector(".jLoginBox");"A"!==e.tagName&&"SPAN"!==e.tagName&&"BUTTON"!==e.tagName||(n.classList.contains("active")?(n.classList.remove("active"),".jMenuBox"===i&&this.classList.remove("opened")):(n.classList.add("active"),".jSearchBox"===i?(o.querySelector("input").focus(),r.classList.remove("active")):o.classList.remove("active"),".jMenuBox"===i&&this.classList.add("opened"))),".jMenuBox"!==i&&l.classList.remove("opened")}))}}}(document)},2:function(a,t){!function(a){"use strict";a.fn.odMainsearch=function(t){return t=a.extend({},a.fn.odMainsearch.defaultOptions,t),this.each((function(){var e,i=a(this),n={};if(t.hasOwnProperty("facets"))for(var o in t.facets){var r=a(t.facets[o]);n[o]=r.val(),function(t){r.on("change",(function(){n[t]=a(this).val()}))}(o)}i.on("keyup",(function(){t.hasOwnProperty("targetInput")&&(a(t.targetInput)[0].value="")})),i.autocomplete({delay:t.delay,minLength:t.minLength,dataType:"json",anchor:i,select:function(e,n){if(e.preventDefault(),e.stopPropagation(),t.hasOwnProperty("targetInput")){var o=n.item.url;t.hasOwnProperty("targetInputProp")&&void 0!==n.item[t.targetInputProp]&&(o=n.item[t.targetInputProp]),a(t.targetInput)[0].value=o}if(t.hasOwnProperty("redirect")&&!0!==t.redirect)i.val(n.item.label);else{var r=n.item.url;t.hasOwnProperty("tab")&&(r+=t.tab),window.location=r}n.item.hasOwnProperty("uri")&&i.attr("data-selected-uri",n.item.uri),i.trigger("valueChange")},source:function(o,r){var s={q:o.term.toLowerCase(),xhr:!0};a.extend(s,n),e&&e.abort(),e=a.ajax({url:t.controler,cache:!0,dataType:"json",localCache:!1,data:s,success:function(a){null!==a?(i.trigger("autocompleteSourceResponse",a),r(a.r)):r([])}})}}),navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&i.autocomplete("widget").off("menufocus hover mouseover mouseenter")}))},a.fn.odMainsearch.defaultOptions={controler:"",delay:250,minLength:2}}(jQuery)},20:function(a,t){!function(a){"use strict";var t=document.querySelectorAll(".jNavSubCollapse"),e=0,i=t.length;if(0!==i)for(;e<i;e++){var n=t[e];n.classList.add("app_nav__sub--collapse--plus"),n.classList.add("jNavSubInitialized"),n.addEventListener("click",(function(a){a.stopPropagation(),event.target.classList.contains("app_nav__sub--collapse--plus")?this.classList.remove("app_nav__sub--collapse--plus"):this.classList.add("app_nav__sub--collapse--plus")}))}}()},21:function(a,t){!function(a){"use strict";if(void 0===a.figMedia&&(a.figMedia=[]),void 0===a.figMedia.skin&&(a.figMedia.skin={}),void 0===a.figMedia.native&&(a.figMedia.native={}),a.figMedia.skin.add=function(t,e,i){if(null!==a.frameElement&&a.frameElement.style.setProperty("display","none","important"),void 0!==t&&void 0!==e){-1===parent.document.getElementsByTagName("body")[0].className.indexOf("app--ark")&&(parent.document.getElementsByTagName("body")[0].className=parent.document.getElementsByTagName("body")[0].className+" app--ark");var n=a.figMedia.addStyle("html{ cursor: pointer }#global{ background:#fff}/* nouvelles pages */.page{ background:#fff}#oas_top, #ba_top1, #sidebar_follower, #ba_top, #ba_x02{ display:none !important }body > *{cursor:default }body{ cursor:pointer; background: "+i.bgColor+" url("+e+") 50% 100px no-repeat"+(i.fixed?"fixed":"")+' !important; }body.app--rwd .ccmcss_offcanvas_2{ cursor:pointer; }body.app--rwd .ccmcss_offcanvas_2 > *, #section > *{ cursor:default }#global{ width: 1000px !important }body.app--rwd_menu--active{ background: none !important; }body.app--rwd_menu--active .layout.layout--offcanvas{ margin-top: 0 !important; }body.app--rwd_menu--active .ccmcss_offcanvas_2{ overflow: visible }.app--ark #global,header[role="banner"].app_header { margin-top:'+i.vOffset+'px;  } .app--ark #global header[role="banner"].app_header{ margin-top: 0 }'),o=function(e){var n=e||a.event,o=n.target||n.srcElement;document.body.className.indexOf("app--rwd")>-1?(void 0===i.mediaClassName&&(i.mediaClassName="ccmcss_offcanvas_2"),n&&o&&(o.className===i.mediaClassName||o.parentNode.tagName===i.mediaClassName)&&a.open(t)):!n||!o||"HTML"!==o.tagName&&"HTML"!==o.parentNode.tagName||null!==parent.document.getElementById("info_modale_ct")&&"none"!==parent.document.getElementById("info_modale_ct").style.display||a.open(t)};a.figMedia.bind(parent.document,"click",o),a.figMedia.on("refresh",(function(){a.figMedia.removeStyle(n),a.figMedia.unbind(parent.document,"click",o),parent.document.getElementsByTagName("body")[0].className.indexOf("app--ark")>-1&&(parent.document.getElementsByTagName("body")[0].className=parent.document.getElementsByTagName("body")[0].className.replace("app--ark",""))})),a.figMedia.trigger("figMedia skin added")}else a.figMedia.trigger("warning","figMedia missing arguments !!")},a.figMedia.skin.remove=function(){a.figMedia.trigger("refresh")},"[object Array]"===Object.prototype.toString.call(a.figMedia))for(var t=0;t<a.figMedia.length;t++)"function"==typeof a.figMedia[t]&&a.figMedia[t].call(a.figMedia);a.figMedia.push=function(t){"function"==typeof t&&t.call(a.figMedia)}}(window)},22:function(a,t,e){"use strict";e.r(t);e(1),e(5),e(23)},23:function(a,t){!function(a){"use strict";a(document).start((function(){var t=a("#js-candidate-city-list"),e={},i=t.attr("data-options");if("string"==typeof i)try{e=JSON.parse(i)}catch(a){console.warn("odformexamination : data-options not valid",a)}t.on("valueChange",(function(){if(e.hasOwnProperty("getEducationAuthorityControler")){var t=a(this).attr("data-selected-uri");void 0!==t&&a.ajax({url:e.getEducationAuthorityControler,cache:!0,dataType:"json",localCache:!1,data:{cityUri:t},success:function(t){null!==t&&t.hasOwnProperty("educationAuthority")&&a(".js-candidate-academia-uri").val(t.educationAuthority)}})}})).on("autocompleteSourceResponse",(function(t,e){void 0!==e.r[0]&&a(".js-candidate-city-uri").val(e.r[0].url)})).on("change keyup copy paste cut",(function(t){this.value||a(".js-candidate-city-uri").val("")})),a("#form-examination").on("submit",(function(i){var n=a(this),o=n.find(".js-candidate-year").val(),r=n.find(".js-candidate-label"),s=n.find(".js-candidate-academia-uri"),c=(window.location.protocol,window.location.hostname),d=n.find(".js-candidate-city-uri").val(),l=s.val();if(e.hasOwnProperty("host")&&(c=e.host),""===l&&""===r.val()&&""===t.val())return a(".odSearchBox").addClass("odError"),!1;a(".odSearchBox").removeClass("odError"),""===l&&(l="candidat"),""===d&&""!==l&&(d="/"+l),d+=""!==o?"/"+o:"",""===r.val()?r.attr("name",""):void 0!==r.val()&&(d+="?candidate-label="+r.val()),window.location.href="//"+c+d,i.preventDefault(),i.stopPropagation()})),a(".js-candidate-academia-uri").on("change",(function(){a(".js-candidate-city-uri").val(""),t.val("")})),{$searchForm:null,$candidateInput:null,$yearInput:null,$academiaInput:null,$cityInput:null,$tableWrapper:null,mappingParams:{candidate:"candidate",page:"p"},data:{},init:function(){var t=this.decodeFragment();console.log("[asyncResultsTable] From params",t),console.log("[asyncResultsTable] Internal data:",this.data),this.$searchForm=a("#form-examination"),this.$candidateInput=this.$searchForm.find(".js-candidate-label"),this.$yearInput=this.$searchForm.find(".js-candidate-year"),this.$academiaInput=this.$searchForm.find(".js-candidate-academia-uri"),this.$cityInput=this.$searchForm.find(".js-candidate-city-uri"),this.$searchForm.on("submit",this.onSearch.bind(this)),this.hydrate(t),this.$tableWrapper=a(".jODAsyncTableWrapper"),Object.keys(this.data).length>0?(this.initDataFromForm(),this.fetchAPI()):a("#jODExaminationResult").css({display:"inline-block"})},decodeFragment:function(){return window.location.hash&&decodeURIComponent(window.location.hash).substr(1).split("|")||[]},encodeFragment:function(a){return a=Object.keys(a).filter(function(t){return this.mappingParams[t]&&null!==a[t]}.bind(this)).reduce((function(t,e){return t[e]=a[e],t}),{}),Object.keys(a).map(function(t){return this.mappingParams[t]+"="+encodeURIComponent(a[t])}.bind(this)).join("|")},hydrate:function(a){a.forEach(function(a){if((a=a.split("="))[0]&&a[1]){var t=Object.values(this.mappingParams).indexOf(a[0]);if(-1===t)return void console.log("[asyncResultsTable] Unknown param:",a[0]);var e=Object.keys(this.mappingParams)[t];switch(this.data[e]=decodeURIComponent(a[1]),e){case"candidate":this.$candidateInput.val(this.data[e]);break;case"page":this.data.page=parseInt(this.data.page,10)}}}.bind(this))},initDataFromForm:function(){this.data.candidate=this.$candidateInput.val()||null,this.data.year=this.$yearInput.val()||null,this.data.academia=this.$academiaInput.val()||null,this.data.city=this.$cityInput.val()||null},redirect:function(){this.initDataFromForm();var a="/candidat";if(this.data.academia&&(a="/"+this.data.academia),this.data.city&&(a=this.data.city),this.data.year&&(a+="/"+this.data.year),window.location.pathname===a)window.location.hash=this.encodeFragment(this.data),window.scrollTo(0,0),window.location.reload();else{var t=window.location.host;void 0!==this.$searchForm.attr("data-search-host")&&(t=this.$searchForm.attr("data-search-host")),window.location.href="//"+t+a+"#"+this.encodeFragment(this.data)}},onPagination:function(t){t.preventDefault();var e=a(t.currentTarget);e.hasClass("current")||(e.is("li")?this.data.page=parseInt(e.text(),10):this.data.page=(this.data.page||1)+(e.hasClass("ccmcss_paginator_next")?1:-1),this.redirect())},onSearch:function(a){a.preventDefault(),a.stopPropagation(),this.data.page=null,this.redirect()},startSpinner:function(){this.$tableWrapper.css({minHeight:300}).spin()},stopSpinner:function(){this.$tableWrapper.spin()},fetchAPI:function(){this.startSpinner(),a("#jODExaminationResult").css({display:"none"});var t=window.location.hostname.match(/resultat-(bac|brevet|bts)(\.qlf|\.local|).linternaute.com/);null===this.data.year&&(this.data.year=a(".js-candidate-year option:selected").text());var e="https://search-candidate"+t[2]+".linternaute.com/"+t[1]+"/"+this.data.year+"/"+(this.data.page||1)+"?candidate-name="+encodeURI(this.data.candidate);null!==this.data.city&&this.data.city.length>=14?e+="&city="+this.data.city.substr(-11,11):null!==this.data.academia&&(e+="&education-authority="+this.data.academia),a.ajax({url:e,type:"GET",dataType:"json",success:function(a){this.render(a),this.stopSpinner()}.bind(this),error:function(a){console.log(a),this.renderError(),this.stopSpinner()}.bind(this)})},render:function(t){if(t.candidates.length>0){var e=this.renderTable(t),i=this.renderPaginator(t.pagination),n=this.data.candidate?null:this.renderGlossary();i.on("click",".ccmcss_paginator_next, .ccmcss_paginator_prev, li",this.onPagination.bind(this)),this.$tableWrapper.empty().append([i,n,e,i.clone(!0)])}else{var o=a('<div style="background-color:#FAFAFA;padding:5px 15px;border:1px solid #D8D8D8;" class="marB20"></div>').append("<h3 class=\"app_mod_title\" style=\"color:#e41129;text-transform: uppercase;\">Aucun résultat ne correspond à votre recherche</h3>\n          <p><strong>Attention : l'absence d'un candidat dans nos résultats d'examens ne signifie pas que le candidat que vous recherchez a échoué à son examen.</strong> Plusieurs raisons peuvent expliquer cela : </p> <ul><li>L'orthographe du nom et/ou du prénom du candidat est incorrecte ou incomplète.</li><li>Les résultats de l'académie dont dépend le candidat n'ont pas encore été publiés. Un peu de patience, ils seront diffusés prochainement.</li><li>Le candidat n'a pas autorisé le ministère de l'Education nationale à transmettre son résultat aux organismes tiers (journaux, sites web, etc.). Dans ce cas, seule l'académie est autorisée à publier le résultat de ce candidat.</li> </ul>");this.$tableWrapper.empty().append(o)}},renderError:function(){var t=a("<div></div>").addClass(["odSearchBox","reverse","marB20"]).append('<h3 class="app_mod_title" style="color:#e41129;text-transform: uppercase;">Une erreur est survenue</h3>');this.$tableWrapper.empty().append(t)},renderTable:function(t){var e=["Candidat","Ville","Bac"],i=this.$tableWrapper;"true"===i.attr("data-edit")&&e.push("Actions");var n=a("<div></div>").addClass(["hidden","marB20"]),o=a("<table></table>").addClass(["odTable","odTableFlex"]),r=a("<thead></thead>").append(a("<tr></tr>").append(e.map((function(t){return a("<th></th>").addClass("odGradient").html(t)})))),s=a("<tbody></tbody>").append(t.candidates.map((function(t){return a("<tr></tr>").append([a("<td></td>").html('<a href="'+t.link+'" rel="nofollow"><strong>'+t.name+"</strong> <span>(voir le résultat)</span></a>"),a("<td></td>").html(t.cityLabel?'<a href="'+t.cityLink+'">'+t.cityLabel+"</a>":""),a("<td></td>").html(t.diplomaSerieLabel),"true"===i.attr("data-edit")?a("<td></td>").html('<button title="supprimer le candidat de la liste des résultats" data-candidacy-id="'+t.id+'" class="od-candidate-delete">Supprimer</button>'):void 0])})));return o.append(r).append(s),n.append(o),n},renderPaginatorItem:function(t,e){var i=a("<li></li>");return t===e?i.addClass("current").append("<span>"+t+"</span>"):i.append('<a href="#" class="jODAsyncTablePaginatorItem">'+t+"</a>"),i},renderPaginator:function(t){console.log(t);var e=a("<ul></ul>");t.prev.length>0&&(t.prev.forEach(function(a){var i=this.renderPaginatorItem(a,t.current);e.append(i)}.bind(this)),t.separatorAfterPrev&&e.append("...")),t.siblings.forEach(function(a){var i=this.renderPaginatorItem(a,t.current);e.append(i)}.bind(this)),t.next.length>0&&(t.separatorBeforeNext&&e.append("..."),t.next.forEach(function(a){var i=this.renderPaginatorItem(a,t.current);e.append(i)}.bind(this)));var i=a("<section></section>").addClass(["ccmcss_paginator","ccmcss_paginator--page"]);if(1!==t.current){var n=a("<div></div>").addClass("ccmcss_paginator_prev").append('<a href="#" data-type="prev" class="jODAsyncTablePaginator"><span>Précédent</span></a>');i.append(n)}if(i.append(e),t.current!==t.max){var o=a("<div></div>").addClass("ccmcss_paginator_next").append('<a href="#" data-type="next" class="jODAsyncTablePaginator"><span>Suivant</span></a>');i.append(o)}return i},renderGlossary:function(){for(var t=a("<nav></nav>").addClass("odGlossary").css({marginBottom:20}),e=65;e<=90;e++){var i=String.fromCharCode(e).toLowerCase();t.append('<a href="'+window.location.pathname+"/"+i+'">'+i+"</a>")}return t}}.init()}))}(jQuery)},25:function(a,t,e){"use strict";e(26)},26:function(a,t){!function(a){"use strict";a("span.jHiddenHref").replaceWith((function(){for(var t=a(this).html(),e="",i=this.attributes,n=0,o=i.length;n<o;n++){var r=i[n].nodeName,s=i[n].nodeValue;"data-link"===r&&(s=window.atob(s),r="href"),e+=" "+r+'="'+s+'"'}return"<a"+e+">"+t+"</a>"}))}(jQuery)},292:function(a,t,e){"use strict";e.r(t);e(54),e(111),e(112),e(113),e(114),e(115),e(116),e(117),e(118),e(119),e(16),e(120),e(121),e(122),e(123),e(124),e(125),e(126),e(127),e(128),e(129),e(130),e(131),e(132),e(133),e(134),e(135),e(136),e(137),e(6),e(138),e(139),e(50),e(51),e(52),e(53),e(21),e(1),e(22),e(24),e(146),e(25),e(147)},3:function(a,t){!function(a){a(document).start((function(){"use strict";var t=a(".jODMainSearch");t.length>0&&t.each((function(){var t=a(this);try{t.odMainsearch(JSON.parse(t.attr("data-options")))}catch(a){console.error("[OD-mainsearch] Invalid options",a)}}))}),{name:"odMainSearch"})}(jQuery)},42:function(a,t){a.exports=jQuery},46:function(a,t,e){var i={"./inputtags.ar":[8,23],"./inputtags.ar.js":[8,23],"./inputtags.br":[9,24],"./inputtags.br.js":[9,24],"./inputtags.en":[10,25],"./inputtags.en.js":[10,25],"./inputtags.fr":[11,26],"./inputtags.fr.js":[11,26],"./inputtags.it":[12,27],"./inputtags.it.js":[12,27],"./inputtags.us":[13,28],"./inputtags.us.js":[13,28]};function n(a){if(!e.o(i,a))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+a+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[a],n=t[0];return e.e(t[1]).then((function(){return e(n)}))}n.keys=function(){return Object.keys(i)},n.id=46,a.exports=n},48:function(a,t,e){var i={"./highcharts":[14,19],"./highcharts.js":[14,19],"./mapael":[15,29],"./mapael.js":[15,29]};function n(a){if(!e.o(i,a))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+a+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[a],n=t[0];return e.e(t[1]).then((function(){return e(n)}))}n.keys=function(){return Object.keys(i)},n.id=48,a.exports=n},6:function(a,t){var e=document.getElementById("jSidebarSticky"),i=document.getElementById("jStickySize"),n=document.documentElement.clientWidth;if(null!==e&&null!==i&&n>768){var o=window.getComputedStyle(e).getPropertyValue("min-height"),r=function(a){e.style.minHeight=a+"px",o=a+"px"};r(),window.addEventListener("scroll",(function(){var a=i.offsetHeight;o!==a+"px"&&requestAnimationFrame((function(){r(a)}))}))}}},[[292,0]]]);
//# sourceMappingURL=http://assets-sourcemaps.s3.prod.ccmbg.net/www.linternaute.com/dist/app/sourcemaps/js/chunks/app.a2896fdf7fa99c911da6.js.map