/*! For license information please see ot_multi_template.js.LICENSE.txt */
(()=>{var t={2855:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Access=e.AccessKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ADMINPREVIEW=new i("ADMINPREVIEW"),e.ALL=new i("ALL"),e.DISABLED=new i("DISABLED"),e.USERPREVIEW=new i("USERPREVIEW"),e.NEED_VALIDATION=new i("NEED_VALIDATION"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.AccessKind=i,e.Access=new r}.apply(e,r))||(t.exports=i)},3968:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdType=e.AdKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AD_BANNER=new i("AD_BANNER"),e.AD_SPONSORPOST=new i("AD_SPONSORPOST"),e.AD_TRAFFIC=new i("AD_TRAFFIC"),e.AD_VIDEO=new i("AD_VIDEO"),e.AD_RAW_VIDEO=new i("AD_RAW_VIDEO"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.AdKind=i,e.AdType=new r}.apply(e,r))||(t.exports=i)},9800:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Datasource=e.DatasourceKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ADVENTORI=new i("ADVENTORI"),e.JIVOX=new i("JIVOX"),e.FLASHTALKING=new i("FLASHTALKING"),e.APPNEXUS=new i("APPNEXUS"),e.CRITEO=new i("CRITEO"),e.LOCAL=new i("LOCAL"),e.NEXTPERF=new i("NEXTPERF"),e.SSP=new i("SSP"),e.SSP_ADIANT=new i("SSP_ADIANT"),e.SSP_ADOTMOB=new i("SSP_ADOTMOB"),e.SSP_APPNEXUS=new i("SSP_APPNEXUS"),e.SSP_BIDTELLECT=new i("SSP_BIDTELLECT"),e.SSP_MEDIASMART=new i("SSP_MEDIASMART"),e.SSP_NETADGE=new i("SSP_NETADGE"),e.SSP_POWERLINKS=new i("SSP_POWERLINKS"),e.SSP_PULSEPOINT=new i("SSP_PULSEPOINT"),e.SSP_RHYTHMONE=new i("SSP_RHYTHMONE"),e.SSP_STACKADAPT=new i("SSP_STACKADAPT"),e.SSP_STUB=new i("SSP_STUB"),e.SSP_TABMO=new i("SSP_TABMO"),e.SSP_ZEMANTA=new i("SSP_ZEMANTA"),e.SSP_ZEBESTOF=new i("SSP_ZEBESTOF"),e.SSP_AVID=new i("SSP_AVID"),e.VAST=new i("VAST"),e.VAST_LOCAL=new i("VAST_LOCAL"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.DatasourceKind=i,e.Datasource=new r}.apply(e,r))||(t.exports=i)},9610:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdError=e.AdErrorKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SERVER_ERROR=new i(1),e.MODIFIER_ERROR=new i(2),e.NO_CAMPAIGN=new i(3),e.EMPTY_CAMPAIGN_REQUEST=new i(4),e.NO_LANDING=new i(5),e.NO_PLACEMENT=new i(6),e.MISSING_ASSETS=new i(7),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.AdErrorKind=i,e.AdError=new r}.apply(e,r))||(t.exports=i)},7005:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntegrationInsertion=e.IntegrationInsertionKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AFTER=new i("AFTER"),e.APPEND=new i("APPEND"),e.BEFORE=new i("BEFORE"),e.PREPEND=new i("PREPEND"),e.REPLACE=new i("REPLACE"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.IntegrationInsertionKind=i,e.IntegrationInsertion=new r}.apply(e,r))||(t.exports=i)},5573:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeIntegration=e.NativeIntegrationKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.COMMENT=new i("COMMENT"),e.INJECTOR=new i("INJECTOR"),e.NONE=new i("NONE"),e.SPONSOR_COMMENT=new i("SPONSOR_COMMENT"),e.SPONSOR_INJECTOR=new i("SPONSOR_INJECTOR"),e.TEMPLATE=new i("TEMPLATE"),e.WIDGET=new i("WIDGET"),e.PREMIUM=new i("PREMIUM"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.NativeIntegrationKind=i,e.NativeIntegration=new r}.apply(e,r))||(t.exports=i)},1964:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lang=e.LangKind=e.LangEnum=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EN=new i("EN"),e.FR=new i("FR"),e.PT=new i("PT"),e.ES=new i("ES"),e.IT=new i("IT"),e}return a(e,t),e}(n.Enum);e.LangEnum=r;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.LangKind=i,e.Lang=new r}.apply(e,r))||(t.exports=i)},7070:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Event=e.EventKind=e.OnEventPartnerType=e.OnEventPartnerKind=e.OnEventGuard=e.OnEventGuardKind=e.OnEventType=e.OnEventKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.JAVASCRIPT_CODE=new i("JAVASCRIPT_CODE"),e.JAVASCRIPT_URL=new i("JAVASCRIPT_URL"),e.PIXEL_URL=new i("PIXEL_URL"),e.PARTNER_PIXEL_URL=new i("PARTNER_PIXEL_URL"),e.PARTNER_JAVASCRIPT_URL=new i("PARTNER_JAVASCRIPT_URL"),e.HTML_CODE=new i("HTML_CODE"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.OnEventKind=i,e.OnEventType=new r;var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ALWAYS=new s("ALWAYS"),e.HAVE_CAMPAIGN=new s("HAVE_CAMPAIGN"),e.NO_CAMPAIGN=new s("NO_CAMPAIGN"),e}return a(e,t),e}(n.Enum),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.OnEventGuardKind=s,e.OnEventGuard=new o;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.METRICS_NT_VC=new l("METRICS_NT_VC"),e}return a(e,t),e}(n.Enum),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.OnEventPartnerKind=l,e.OnEventPartnerType=new c;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AVAIL=new p("AVAIL"),e.CAP=new p("CAP"),e.CLICK=new p("CLICK"),e.CLOSE=new p("CLOSE"),e.DISPLAY=new p("DISPLAY"),e.DISPLAY_SITE=new p("DISPLAY_SITE"),e.GET=new p("GET"),e.IMPRESSION=new p("IMPRESSION"),e.INSERTION=new p("INSERTION"),e.INTERACTION1=new p("INTERACTION1"),e.INTERACTION2=new p("INTERACTION2"),e.INTERACTION3=new p("INTERACTION3"),e.INVALID=new p("INVALID"),e.INVALID_BLANK=new p("INVALID_BLANK"),e.INVALID_SOLVE=new p("INVALID_SOLVE"),e.INVENTORY=new p("INVENTORY"),e.INVENTORY_PASSBACK=new p("INVENTORY_PASSBACK"),e.INVIEW_OPENED=new p("INVIEW_OPENED"),e.INVIEW_IMPRESSION=new p("INVIEW_IMPRESSION"),e.INVIEW_VISIBLE_IMPRESSION=new p("INVIEW_VISIBLE_IMPRESSION"),e.LEAD=new p("LEAD"),e.LEAD_2=new p("LEAD_2"),e.LEAD_3=new p("LEAD_3"),e.MAKE=new p("MAKE"),e.NATIVE_ACTION=new p("NATIVE_ACTION"),e.NATIVE_REMOVE=new p("NATIVE_REMOVE"),e.PLACEMENT_MATCH=new p("PLACEMENT_MATCH"),e.PLACEMENT_MATCH_BROWSER=new p("PLACEMENT_MATCH_BROWSER"),e.PLAYLIST_CLICK=new p("PLAYLIST_CLICK"),e.REDIRECTION=new p("REDIRECTION"),e.RELOAD=new p("RELOAD"),e.SHARE_FACEBOOK=new p("SHARE_FACEBOOK"),e.SHARE_GOOGLEPLUS=new p("SHARE_GOOGLEPLUS"),e.SHARE_LINKEDIN=new p("SHARE_LINKEDIN"),e.SHARE_MAIL=new p("SHARE_MAIL"),e.SHARE_MOREINFO=new p("SHARE_MOREINFO"),e.SHARE_PINTEREST=new p("SHARE_PINTEREST"),e.SHARE_TWITTER=new p("SHARE_TWITTER"),e.SPONSORPOST_INSERTION=new p("SPONSORPOST_INSERTION"),e.SPONSORPOST_PREVIEW_CLICK=new p("SPONSORPOST_PREVIEW_CLICK"),e.TIMESPENT=new p("TIMESPENT"),e.VALID=new p("VALID"),e.VALID_IMAGE_LEAD=new p("VALID_IMAGE_LEAD"),e.VALID_LEAD=new p("VALID_LEAD"),e.VALID_PASSTHROUGH=new p("VALID_PASSTHROUGH"),e.VALID_SOLVE=new p("VALID_SOLVE"),e.VALID_VIDEO=new p("VALID_VIDEO"),e.VERIFY=new p("VERIFY"),e.VERIFY_AJAX=new p("VERIFY_AJAX"),e.VIDEO_000=new p("VIDEO_000"),e.VIDEO_025=new p("VIDEO_025"),e.VIDEO_050=new p("VIDEO_050"),e.VIDEO_075=new p("VIDEO_075"),e.VIDEO_100=new p("VIDEO_100"),e.VIDEO_ACCEPT_INVITATION=new p("VIDEO_ACCEPT_INVITATION"),e.VIDEO_CLICK=new p("VIDEO_CLICK"),e.VIDEO_CLOSE=new p("VIDEO_CLOSE"),e.VIDEO_COLLAPSE=new p("VIDEO_COLLAPSE"),e.VIDEO_CREATIVE_VIEW=new p("VIDEO_CREATIVE_VIEW"),e.VIDEO_EXIT_FULLSCREEN=new p("VIDEO_EXIT_FULLSCREEN"),e.VIDEO_EXPAND=new p("VIDEO_EXPAND"),e.VIDEO_FULLSCREEN=new p("VIDEO_FULLSCREEN"),e.VIDEO_MUTE=new p("VIDEO_MUTE"),e.VIDEO_PAUSE=new p("VIDEO_PAUSE"),e.VIDEO_PROGRESS=new p("VIDEO_PROGRESS"),e.VIDEO_RESUME=new p("VIDEO_RESUME"),e.VIDEO_REWIND=new p("VIDEO_REWIND"),e.VIDEO_SKIP=new p("VIDEO_SKIP"),e.VIDEO_UNMUTE=new p("VIDEO_UNMUTE"),e.VIDEO_DISPLAY=new p("VIDEO_DISPLAY"),e.VISIBLE_IMPRESSION=new p("VISIBLE_IMPRESSION"),e.VISIBLE_INSERTION=new p("VISIBLE_INSERTION"),e.VPAID_ERROR=new p("VPAID_ERROR"),e.INVENTORY_PASSBACK_PUBLISHER=new p("INVENTORY_PASSBACK_PUBLISHER"),e.INVENTORY_PASSBACK_GENERIC=new p("INVENTORY_PASSBACK_GENERIC"),e.REDIR_BACK=new p("REDIR_BACK"),e.TIMESPENT_ON_PAGE=new p("TIMESPENT_ON_PAGE"),e.TIMESPENT_ON_BB=new p("TIMESPENT_ON_BB"),e.NI_VISIBLE_IMPRESSION=new p("NI_VISIBLE_IMPRESSION"),e.NI_VISIBLE_INSERTION=new p("NI_VISIBLE_INSERTION"),e.VIEWABLE_MRC50=new p("VIEWABLE_MRC50"),e.VIEWABLE_MRC100=new p("VIEWABLE_MRC100"),e.VIEWABLE_VIDEO50=new p("VIEWABLE_VIDEO50"),e}return a(e,t),e}(n.Enum),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.EventKind=p,e.Event=new u}.apply(e,r))||(t.exports=i)},7614:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Opener=e.OpenerKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BANNER_IN_IMAGE=new i("BANNER_IN_IMAGE"),e.CAPTCHA=new i("CAPTCHA"),e.LIGHTBOX=new i("LIGHTBOX"),e.REDIRECT=new i("REDIRECT"),e.SPONSORPOST=new i("SPONSORPOST"),e.FULLSCREEN=new i("FULLSCREEN"),e.INVIEW=new i("INVIEW"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.OpenerKind=i,e.Opener=new r}.apply(e,r))||(t.exports=i)},6990:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PassbackType=e.PassbackKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GENERIC=new i("GENERIC"),e.PUBLISHER=new i("PUBLISHER"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.PassbackKind=i,e.PassbackType=new r}.apply(e,r))||(t.exports=i)},7698:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RedirectionTarget=e.RedirectionTargetKind=e.RedirectionTargetEnum=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SELF=new i("SELF"),e.SELF_WITH_TAB=new i("SELF_WITH_TAB"),e.TAB=new i("TAB"),e}return a(e,t),e}(n.Enum);e.RedirectionTargetEnum=r;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.RedirectionTargetKind=i,e.RedirectionTarget=new r}.apply(e,r))||(t.exports=i)},5565:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalVideo=e.InternalVideoKind=e.ImageQuality=e.ImageQualityKind=e.ResourceOrigin=e.ResourceOriginKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.YOUTUBE=new i("YOUTUBE"),e.DAILYMOTION=new i("DAILYMOTION"),e.EXTERNAL=new i("EXTERNAL"),e.INTERNAL=new i("INTERNAL"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.ResourceOriginKind=i,e.ResourceOrigin=new r;var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NORMAL=new s("NORMAL"),e.LOW=new s("LOW"),e}return a(e,t),e}(n.Enum),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.ImageQualityKind=s,e.ImageQuality=new o;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.FLV=new l("FLV"),e.MP4=new l("MP4"),e.WEBM=new l("WEBM"),e}return a(e,t),e}(n.Enum),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.InternalVideoKind=l,e.InternalVideo=new c}.apply(e,r))||(t.exports=i)},2806:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectorType=e.SelectorKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CSS=new i("CSS"),e.JAVASCRIPT=new i("JAVASCRIPT"),e.SCRIPT=new i("SCRIPT"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.SelectorKind=i,e.SelectorType=new r}.apply(e,r))||(t.exports=i)},8472:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sharing=e.SharingKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.FACEBOOK=new i("FACEBOOK"),e.GOOGLE_PLUS=new i("GOOGLE_PLUS"),e.LINKEDIN=new i("LINKEDIN"),e.MAIL=new i("MAIL"),e.MORE_INFO=new i("MORE_INFO"),e.PINTEREST=new i("PINTEREST"),e.TWITTER=new i("TWITTER"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.SharingKind=i,e.Sharing=new r}.apply(e,r))||(t.exports=i)},7545:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreviewTranslation=e.PreviewTranslationKind=e.SponsoTranslation=e.SponsoTranslationKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.POSTCONTENT=new i("POSTCONTENT"),e.SPONSOR=new i("SPONSOR"),e.TITLE=new i("TITLE"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.SponsoTranslationKind=i,e.SponsoTranslation=new r;var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CALLTOACTION=new s("CALLTOACTION"),e.CATEGORY=new s("CATEGORY"),e.DESCRIPTION=new s("DESCRIPTION"),e.LEGAL=new s("LEGAL"),e.PLAYLIST_TITLE=new s("PLAYLIST_TITLE"),e.POSTCONTENT=new s("POSTCONTENT"),e.SPONSOR=new s("SPONSOR"),e.SUBTITLE=new s("SUBTITLE"),e.TITLE=new s("TITLE"),e}return a(e,t),e}(n.Enum),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.PreviewTranslationKind=s,e.PreviewTranslation=new o}.apply(e,r))||(t.exports=i)},1491:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OmnitagTrigger=e.OmnitagTriggerKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CALL=new i("CALL"),e.LOAD=new i("LOAD"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.OmnitagTriggerKind=i,e.OmnitagTrigger=new r}.apply(e,r))||(t.exports=i)},4920:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeUITrigger=e.NativeUITriggerKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CLICK=new i("CLICK"),e.CLICK_CLOSE=new i("CLICK_CLOSE"),e.LOAD=new i("LOAD"),e.MOUSE_OVER=new i("MOUSE_OVER"),e.SCROLL=new i("SCROLL"),e.VIEWABLE=new i("VIEWABLE"),e.TOUCH=new i("TOUCH"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.NativeUITriggerKind=i,e.NativeUITrigger=new r}.apply(e,r))||(t.exports=i)},5831:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoFormat=e.VideoFormatKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ADREADER=new i("ADREADER"),e.FEED=new i("FEED"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.VideoFormatKind=i,e.VideoFormat=new r}.apply(e,r))||(t.exports=i)},6811:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetDisplayMode=e.WidgetDisplayModeKind=e.IntegrationWidget=e.IntegrationWidgetKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CREATIVE_TEMPLATE_1=new i("CREATIVE_TEMPLATE_1"),e.CREATIVE_TEMPLATE_2=new i("CREATIVE_TEMPLATE_2"),e.CREATIVE_TEMPLATE_3=new i("CREATIVE_TEMPLATE_3"),e.CREATIVE_TEMPLATE_4=new i("CREATIVE_TEMPLATE_4"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.IntegrationWidgetKind=i,e.IntegrationWidget=new r;var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DEFAULT=new s("DEFAULT"),e.STORY=new s("STORY"),e.VIDEO=new s("VIDEO"),e}return a(e,t),e}(n.Enum),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.WidgetDisplayModeKind=s,e.WidgetDisplayMode=new o}.apply(e,r))||(t.exports=i)},432:(t,e,n)=>{var r,i,o=n(6887);r=[n,e,n(4834),n(8236),n(4503),n(6761),n(7659),n(5738),n(1190),n(9610),n(4354),n(7757),n(6322),n(4220),n(1777),n(8175),n(9800),n(7070),n(6399),n(8552),n(6990),n(6322)],void 0===(i=function(t,e,n,r,i,a,s,c,l,u,p,d,h,f,g,m,y,v,E,b,T,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Create=e.Backend=e.AjaxBackend=void 0;var _=function(){function t(t){this.ApiPrefix=t,this.nativeAttempts={},this.syncPartnerDone=!1}return t.prototype.callOmniTag=function(t,e,n){var r=this,i=document.location.href;parent!==window&&(i=document.referrer),t.Debug=window.__AYL_DEBUG_UID__||null,t.Origin=document.location.protocol+"//"+document.location.host,t.Url=(""+(t.Url||i)).substring(0,1500),t.RefererUrl=document.referrer.substring(0,1500);var o=document.querySelector("link[rel='canonical']");o&&(t.CanonicalUrl=o.getAttribute("href").substring(0,1500));var a=function(t){r.customIntegration=n,f.logger.log(f.LogLevel.INFO,"Placement JSON retreived."),r.loadPlacement(t)},s=function(){r.customIntegration=n,f.logger.log(f.LogLevel.INFO,"Error retreiving placement config."),r.noAd(u.AdError.SERVER_ERROR,null)};this.getGDPRParamsForPlacement("",this.checkIfPrebidContext(),(function(n){n.ScriptTagParams&&(t.gdpr=n.ScriptTagParams.gdpr,t.gdpr_consent_string=n.ScriptTagParams.gdpr_consent_string,t.gdpr_consent=n.ScriptTagParams.gdpr_consent,t.usp_consent_string=n.ScriptTagParams.usp_consent_string),e?e("GET","/omniTag",t,a,s,!0):r.ajax("GET","/omniTag",t,null,a,s,!0)}))},t.prototype.loadPlacement=function(t){var e,n,r=this;0===t.length&&(f.logger.log(f.LogLevel.INFO,"No Placement."),this.noAd(u.AdError.NO_PLACEMENT));for(var o=function(t){t.length>0&&(e=g.omnitagSchema.cast(t[0]),l.TriggerEvent(v.Event.PLACEMENT_MATCH_BROWSER,e),f.logger.log(f.LogLevel.INFO,"Placement match event sent."));var o=function(){n=p.campaignSchema.cast(t[0]),r.checkIfBrokerOrPrebidContext()&&l.TriggerEvent(v.Event.AVAIL,e),r.loadCampaign(n)};a.customIntegration?o():i.checkIntegration(e,o,(function(){f.logger.log(f.LogLevel.INFO,"Cannot find matching placement.")}))},a=this,s=0,c=t;s<c.length;s++){o(c[s])}},t.prototype.insertCampaign=function(t,e){this.customIntegration=e;var n=g.omnitagSchema.cast(t);l.TriggerEvent(v.Event.PLACEMENT_MATCH_BROWSER,n),this.checkIfBrokerOrPrebidContext()&&l.TriggerEvent(v.Event.AVAIL,n),this.loadCampaign(p.campaignSchema.cast(t))},t.prototype.accessAttempt=function(t){return this.nativeAttempts[t]},t.prototype.remove=function(t){for(var e in this.nativeAttempts)if(this.nativeAttempts.hasOwnProperty(e)){var n=this.nativeAttempts[e];if(t&&n.GetPlacement()!==t)continue;n.Remove(),delete this.nativeAttempts[e]}},t.prototype.loadCampaign=function(t){if(t.Disabled)this.noAd(u.AdError.NO_CAMPAIGN,t);else switch(t.DataSource){case y.Datasource.LOCAL:return void this.insertAd(t);default:return void this.callModifier(t)}},t.prototype.insertAd=function(t){var e;f.logger.setConfiguration(t);var n=t.Attempt;if(!this.nativeAttempts[n]&&(this.nativeAttempts[n]||(this.nativeAttempts[n]=new b.NativeAttempt),!this.customIntegration||!this.customIntegration.insertAd||(this.customIntegration.insertAd(t),this.customIntegration.insertAd=null,this.customIntegration.adContainer))){this.checkIfBrokerOrPrebidContext()&&l.TriggerEvent(v.Event.INVENTORY,t,t.Campaign),this.syncPartnerDone||(this.synchronizeVisitor(t),this.syncPartnerDone=!0);var r=t.Campaign;"e2a82912438eaa7d2f234f778f82c274"!==r&&(window.AylServed||(window.AylServed={ServedCampaigns:[],ServedKinds:[]}),window.AylServed.ServedCampaigns.push(r),window.AylServed.ServedKinds.push(t.CampaignKind)),this.nativeAttempts[n].Inject(t,null===(e=this.customIntegration)||void 0===e?void 0:e.adContainer)}},t.prototype.noAd=function(t,e){var n=this,r=m.getUserSyncRate();if(f.logger.log(f.LogLevel.INFO,"No ad event. USync : "+r),!this.syncPartnerDone&&Math.random()<r&&(this.synchronizeVisitor(e),this.syncPartnerDone=!0),this.customIntegration&&this.customIntegration.noAd)return this.customIntegration.noAd(t),void(this.customIntegration.noAd=null);if(e)if(e=g.omnitagSchema.cast(e),f.logger.setConfiguration(e),e.PlacementPassbacks){var i=new s.PassbackManager(e,e.Attempt,(function(){l.TriggerEvent(v.Event.INVENTORY_PASSBACK,e);var t=i.GetCurrentPassback();if(t)switch(t.Kind){case T.PassbackType.GENERIC:l.TriggerEvent(v.Event.INVENTORY_PASSBACK_GENERIC,e);break;case T.PassbackType.PUBLISHER:l.TriggerEvent(v.Event.INVENTORY_PASSBACK_PUBLISHER,e);break;default:throw new Error("passback kind has no event kind: "+t.Kind.toString())}}),(function(){n.checkIfBrokerOrPrebidContext()&&l.TriggerEvent(v.Event.INVENTORY,e)}));i.DisplayPassback()}else this.checkIfBrokerOrPrebidContext()&&l.TriggerEvent(v.Event.INVENTORY,e)},t.prototype.callModifier=function(t){var e=this;a.Call(t,(function(n,r,i,o){o||e.noAd(u.AdError.EMPTY_CAMPAIGN_REQUEST);var s="",c=document.querySelector("link[rel='canonical']");c&&(s=c.getAttribute("href")),e.getGDPRParamsForPlacement(n.Placement,e.checkIfPrebidContext(),(function(c){var l,d,g,y,v,b=m.isBeta();v=m.shouldUseAylPlayer()?"ayl":"ima",c.ScriptTagParams&&(l=c.ScriptTagParams.gdpr,g=c.ScriptTagParams.gdpr_consent_string,d=c.ScriptTagParams.gdpr_consent,y=c.ScriptTagParams.usp_consent_string);var T={Source:n.DataSource.toString(),Origin:document.location.protocol+"//"+document.location.host,Url:document.location.href.substring(0,1500),Isolated:n.DataSourceOnEventsIsolated,Attempt:n.Attempt,Campaign:n.Campaign,RefererUrl:document.referrer.substring(0,1500),CanonicalUrl:s,Data:"",safeframe:h.InSecuredIframe(),gdpr:l,gdpr_consent_string:g,gdpr_consent:d,usp_consent_string:y,player:v,beta:b};e.ajax("POST",r,T,o,(function(n){var r=function(n){var r=t;return a.MergeModifierConfig(p.campaignSchema.cast(n),r),r.Disabled?(f.logger.log(f.LogLevel.INFO,"Ad disabled."),!1):(f.logger.log(f.LogLevel.INFO,"Campaign JSON retreived."),e.loadCampaign(r),!0)};if(E.IsArray(n)){for(var i=0;i<n.length;i++)if(r(n[i]))return}else if(r(n))return;f.logger.log(f.LogLevel.INFO,"No campaign to display."),e.noAd(u.AdError.NO_CAMPAIGN,t)}),(function(){e.noAd(u.AdError.SERVER_ERROR,t)}),!0,"text/plain; charset=utf-8","json",i)}))}),(function(){e.noAd(u.AdError.MODIFIER_ERROR,t)}))},t.prototype.checkIfBrokerOrPrebidContext=function(){var t=window;return!t.isPrebid&&!t.isBroker},t.prototype.checkIfPrebidContext=function(){return!!window.isPrebid},t.prototype.ajax=function(t,e,r,i,a,s,l,u,p,d){var h=n.isIE(),g={url:this.ApiPrefix+e,type:t,cache:!1,global:!1,dataType:p||(h?"jsonp":"json"),xhrFields:{withCredentials:l}};if(u&&(g.contentType=u),d&&(g.url=d+e),r){var m={};for(var y in r)r[y]&&(m[y]=""+r[y]);g.url+="?"+c.EncodeURIParams(m)}i&&(g.data=i),g.success=function(t,e){function n(n){n.Location?(t.url=n.Location,t.success=e?e(n.Data):null,o.ajax(t)):e&&e(n.Data)}return n}(g,a),g.error=function(t,e){function n(n,r,i){var o="Ajax "+t.type+(r?" "+r:"")+(n.status?" "+n.status:"")+" "+t.url;i&&(o+="\n"+n.status+" "+n.statusText+" - "+i),void 0!==t.data&&"string"!=typeof t.data&&(o+="\nSENT BODY:\n","object"==typeof JSON&&JSON.stringify?o+=JSON.stringify(t.data):o+="[data not serializable]"),n.responseText&&(o+="\nRECEIVED CONTENT:\n"+n.responseText),f.logger.log(f.LogLevel.WARNING,o),e&&e()}return n}(g,s),o.ajax(g)},t.prototype.synchronizeVisitor=function(t){var e="//fo-ssp.omnitagjs.com/fo-ssp",n="local-"+Math.random().toString(36).substring(2),r="";t&&(e=t.SspPrefix||e,n=t.Attempt||n,r=t.Placement);var i=document.createElement("script");i.async=!0,i.charset="UTF-8",i.src=e+"/sync?attempt="+n,this.getGDPRParamsForPlacement(r,this.checkIfPrebidContext(),(function(t){t.ScriptTagParams&&(t.ScriptTagParams.gdpr&&(i.src+="&gdpr="+t.ScriptTagParams.gdpr),t.ScriptTagParams.gdpr_consent&&(i.src+="&gdpr_consent="+t.ScriptTagParams.gdpr_consent),t.ScriptTagParams.gdpr_consent_string&&(i.src+="&gdpr_consent_string="+t.ScriptTagParams.gdpr_consent_string),t.ScriptTagParams.usp_consent_string&&(i.src+="&usp_consent_string="+t.ScriptTagParams.usp_consent_string)),w.setDomInjectionTarget({Attempt:n,Placement:r},i).then((function(t){return i.addEventListener("load",(function(){i.parentElement&&i.parentElement.removeChild(i)}))}))}))},t.prototype.getGDPRParamsForPlacement=function(t,e,n){var i=S("tcfapi"),o=S("cmp"),a=S("uspapi"),s={};if(i||o||a){var c=!1,l=!1,u=!1,p=!1,h=function(){!p&&(i&&c||!i)&&(o&&l||!o)&&(a&&u||!a)&&(p=!0,n({ScriptTagParams:s}))};return setTimeout((function(){l=!0,u=!0,c=!0,h()}),500),i&&(s.gdpr=!0,s.gdpr_consent=!1,i("getTCData",2,(function(t){t&&(s.gdpr="boolean"==typeof t.gdprApplies?t.gdprApplies:null,s.gdpr_consent_string=t.tcString,delete s.gdpr_consent,c=!0,h())}))),o&&(s.gdpr=!0,s.gdpr_consent=!1,o("getConsentData",null,(function(t){t&&(t=t.VendorConsentData||t,s.gdpr="boolean"==typeof t.gdprApplies?t.gdprApplies:null,s.gdpr_consent_string=t.consentData,delete s.gdpr_consent,l=!0,h())}))),void(a&&a("getUSPData",null,(function(t,e){e&&t&&(t=t.VendorConsentData||t,s.usp_consent_string=t.uspString),u=!0,h()})))}var f=d.GetScriptParamsForPlacement(t);if(0===Object.keys(f).length&&!e){var g=d.GetAllMatchingScriptsInDocument();g.length>0&&d.fillWithParams(f,g[0])}if(e){var m=r.GetCookie("euconsent");m&&n({ScriptTagParams:{gdpr:!0,gdpr_consent_string:m}})}var y=f.ScriptTagParams&&f.ScriptTagParams.us_privacy;y&&(f.ScriptTagParams.usp_consent_string=y,delete f.ScriptTagParams.us_privacy),n(f)},t}();function S(t){var e;if(h.InIframe())if(h.InSecuredIframe()){var n=h.getSafeFrameEXT();if(n){switch(t){case"cmp":n.cmp&&(e=function(t,e,r){n.register(300,250,(function(t,e){"cmpReturn"===t&&r(e,e.success)})),n.cmp(t)});break;case"uspapi":e=window.__uspapi;break;case"tcfapi":e=window.__tcfapi}if(e)return e}h.executeUntilTopMostWindow((function(n){var r;try{r=(n=n.parent).frames["__"+t+"Locator"]}catch(t){}if(!e&&r){var i=n;e=function(e,n,r){var o,a=Math.random()+"",s=((o={})["__"+t+"Call"]={command:e,parameter:n,callId:a},o);i.postMessage(s,"*"),window.addEventListener("message",(function(e){var n;try{n="string"==typeof e.data?JSON.parse(e.data):e.data}catch(t){}if("object"==typeof n){var i=n["__"+t+"Return"];i&&a===i.callId&&r(i.returnValue,i.success)}}))}}}))}else h.executeUntilTopMostWindow((function(n){e=e||n["__"+t]}));else e=window["__"+t];return e}e.AjaxBackend=_,e.Create=function(t){e.Backend=new _(t)}}.apply(e,r))||(t.exports=i)},171:(t,e,n)=>{var r,i;r=[n,e,n(5165),n(386),n(4220),n(5573),n(605),n(5890),n(2464)],void 0===(i=function(t,e,n,r,i,o,a,s,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationReader=void 0;var l=function(){function t(){this.readers={},this.waitingConfigs=[],this.locked=!1,this.hasBeenUnlocked=!1}return t.prototype.setConfiguration=function(e,i,l){var u=this;if(l&&this.locked)return this.waitingConfigs.push(e),void i(!1);this.locked=!0;var p=null,d=function(){t.instance.reader=p,u.readers[e.Attempt]=p,u.locked=!1,i(!0)};switch(e.IntegrationConfig.Kind){case o.NativeIntegration.TEMPLATE:p=new s.TemplateConfigurationReader(e),d();break;case o.NativeIntegration.WIDGET:p=new c.WidgetConfigurationReader(e),d();break;case o.NativeIntegration.PREMIUM:p=new a.PremiumConfigurationReader(e),d();break;case o.NativeIntegration.INJECTOR:p=new r.InjectorConfigurationReader(e),d();break;case o.NativeIntegration.SPONSOR_INJECTOR:p=new r.SponsorInjectorConfigurationReader(e),d();break;default:p=new n.GenericReader(e),d()}},t.prototype.unlockAndPopConfig=function(){return this.hasBeenUnlocked=this.hasBeenUnlocked||this.locked,this.locked=!1,this.waitingConfigs.pop()},t.getInstance=function(){return t.instance},t.prototype.getReader=function(e){return e?t.instance.readers[e]:(!this.locked&&this.hasBeenUnlocked&&i.logger.log(i.LogLevel.WARNING,"Trying to access configuration reader after ad initialisation."),t.instance.reader)},t.prototype.fillHTML=function(t){return this.getReader().fillHTML(t)},t.prototype.getProperty=function(t,e){return this.getReader(e).getProperty(t)},t.prototype.getBooleanProperty=function(t){var e=this.getReader();return e?e.getBooleanProperty(t):null},t.prototype.getStoryMode=function(){return this.getReader().getStoryMode()},t.prototype.getImageContent=function(t,e){return this.getReader(e).getImageContent(t)},t.prototype.getInviewUrl=function(t){var e;return null===(e=this.getReader(t))||void 0===e?void 0:e.getInviewUrl()},t.prototype.isLandingUrlSafe=function(t){return this.getReader(t).isLandingUrlSafe()},t.instance=new t,t}();e.ConfigurationReader=l.getInstance()}.apply(e,r))||(t.exports=i)},1643:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(6754),n(1190),n(7337),n(8637),n(7070),n(7528),n(5503),n(6488),n(9329),n(241),n(8275)],void 0===(i=function(t,e,n,r,i,o,s,c,l,u,p,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AylVastReaderDecorator=void 0,e.AylVastReaderDecorator=function(t,e,f,g){var m,y,v,E,b,T,w=!1,_=!1,S=!1,C=!1;return function(t){return function(t){function A(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this;return m=i.findConfigurationArg(e),E=m.Content.MainVideo.ViewedAt?m.Content.MainVideo.ViewedAt:0,b=window.atob(m.Content.MainVideo.Vast),T=new c.OpenMeasurement(m),(r=t.apply(this,e)||this).loadAd(),r}return a(A,t),A.prototype.loadAd=function(){var t=this;(new o.VASTParser).parseVAST((new DOMParser).parseFromString(b,"text/xml")).then((function(e){var n=e.ads[0],r=n.creatives.find((function(t){return null!==t.mediaFiles}));(y=new o.VASTTracker(null,n,r)).setMuted(!0);var i=r.mediaFiles.filter((function(t){return"application/x-javascript"===t.mimeType||"VPAID"===t.apiFramework})),a=r.mediaFiles.filter((function(t){return"application/x-javascript"!==t.mimeType&&"VPAID"!==t.apiFramework}));v=i.length>0?new u.VPAIDPlayer(y,i,g,f,r.adParameters):new p.VastPlayer(y,a,g,f),t.addAdEvents(),n.adVerifications.length>0?T.insertOMScript((function(){T.createOMSession(n,y,g),t.initAd()})):t.initAd()}))},A.prototype.initAd=function(){v.initAd(),this.videoState!==d.VideoState.LOADED||w||this.playAd()},A.prototype.addAdEvents=function(){var t=this;y.on(l.PlayerEvents.COMPLETE,(function(){t.stop()})),y.on(l.PlayerEvents.STARTED,(function(){t.setVideoState(d.VideoState.PLAYING,v.getRemainingTime()),_=!0})),y.on(l.PlayerEvents.AD_PROGRESS,(function(e){var n=v.getDuration()-v.getRemainingTime();-1!==E&&n>=E&&(E=-1,r.TriggerEvent(s.Event.VIDEO_PROGRESS,m,m.Campaign)),(m.Content.MainVideo.Pause&&!S||!C)&&t.pause()})),y.on(l.PlayerEvents.RESUMED,(function(){_=!0})),y.on(l.PlayerEvents.PAUSED,(function(){_=!1})),y.on(l.PlayerEvents.CREATIVE_VIEW,(function(){r.TriggerEvent(s.Event.VIDEO_CREATIVE_VIEW,m,m.Campaign)})),y.on(l.PlayerEvents.MUTE,(function(){document.dispatchEvent(new CustomEvent(l.PlayerEvents.MUTE))})),y.on(l.PlayerEvents.UNMUTE,(function(){document.dispatchEvent(new CustomEvent(l.PlayerEvents.UNMUTE))})),y.on(l.PlayerEvents.CLICKTHROUGH,(function(e){t.window.open(n.RedirUrl(t.config,e,s.Event.CLICK))})),y.on(l.PlayerEvents.AD_ERROR,(function(){t.stop(),r.TriggerEvent(s.Event.VPAID_ERROR,m,m.Campaign)}))},A.prototype.updateVisibleState=function(t){t&&(C=!0),S=t,t!==_&&(t?this.play():m.Content.MainVideo.Pause&&this.pause())},A.prototype.addListeners=function(){t.prototype.addListeners.call(this);var n=e.getValue()||g;h.Viewability.registerElement(n,this.updateVisibleState.bind(this),m.Content.MainVideo.Tolerance/100)},A.prototype.playAd=function(){v.startAd(),w=!0},A.prototype.start=function(){t.prototype.start.call(this),!w&&v&&this.playAd()},A.prototype.stop=function(){v.stopAd(),this.setVideoState(d.VideoState.ENDED),g.style.display="none",f.style.display="none",w=!1,t.prototype.stop.call(this)},A.prototype.play=function(){_||v.resumeAd()},A.prototype.pause=function(){_&&v.pauseAd()},A.prototype.resize=function(){t.prototype.resize.call(this),v.resize()},A.prototype.mute=function(t){return v.mute(t)},A}(t)}}}.apply(e,r))||(t.exports=i)},4162:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8175),n(8686)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CloseButtonDecorator=void 0,e.CloseButtonDecorator=function(t,e,i,o){return function(s){var c,l,u=t;return function(t){function s(){return null!==t&&t.apply(this,arguments)||this}return a(s,t),s.prototype.addHTMLElements=function(){t.prototype.addHTMLElements.call(this),l=e.getValue(),(c=i?i.getValue():document.createElement("div")).id="ayl_close_button",c.style.cssText=c.style.cssText+u,c.style.cursor="pointer";var r=document.createElement("img");r.src=n.AYL_URL.ADSERVER_FO_STATIC+"/native/images/fermer_white.png",r.style.width="100%",r.style.height="100%",c.appendChild(r),l.appendChild(c)},s.prototype.addListeners=function(){var e=this;t.prototype.addListeners.call(this);r.addClickListener(c,(function(t){t.preventDefault(),t.stopImmediatePropagation(),o?o():e.stop()}))},s}(s)}}}.apply(e,r))||(t.exports=i)},2703:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8686),n(4834),n(6322)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandableContainerDecorator=void 0,e.ExpandableContainerDecorator=function(t,e){return function(o){var s,c=function(t,e){void 0===e&&(e=!0),i.InIframe()&&!i.InSecuredIframe()?l(window,t):i.InIframe()||u(s,t),s.style.transition="height 0.7s ease",n.applyCSSRule(s,"height",t+"px",e?y:null),m=t},l=function(t,e,r){if(void 0===r&&(r=!0),t&&t!==top){var i=t.frameElement;i&&(i.style.transition="height 0.7s ease",n.applyCSSRule(i,"height",e+"px",r?y:null),i.ownerDocument.defaultView&&i.ownerDocument!==top.document?l(i.ownerDocument.defaultView,e,r):u(i,e))}},u=function(t,e){var r=t,i=e;for(r=t;r&&null!==r.parentElement&&r.parentElement!==top.document.body;){var o=getComputedStyle(r.parentElement);i+="relative"===o.position?r.offsetTop:r.offsetTop-r.parentElement.offsetTop;var a=parseInt(o.height,10);-1===m?a<i?(n.applyCSSRule(r.parentElement,"height",i+"px",y),n.applyCSSRule(r,"maxHeight","100%",y)):i=a:a>i&&(r.parentElement.style.minHeight=i+"px",r.style.maxHeight="100%"),r=r.parentElement}},p=function(){-1===f&&-1!==g&&(f=setInterval((function(){var t=g;if(i.InIframe()&&!i.InSecuredIframe())for(var e=s;e&&e.ownerDocument!==window.top.document;){e=e.ownerDocument.defaultView.frameElement;var n=h(e,g);t=Math.min(t,n)}var r=h(s,g);(t=Math.min(t,r))>-1&&t<m&&c(t,!1)}),400))},d=function(){clearInterval(f),f=-1},h=function(t,e){for(var n=t,r=-1,i=e;n&&null!==n.parentElement&&n.parentElement!==top.document.body;){var o="relative"===getComputedStyle(n.parentElement).position?n.offsetTop:n.offsetTop-n.parentElement.offsetTop;i+=o;var a=n.parentElement.style.height.indexOf("px")>=0?parseInt(n.parentElement.style.height,10):NaN;a<i&&(r=Math.max(a-o,r)),n=n.parentElement}return-1===r?e:r},f=-1,g=-1,m=-1,y=[],v=!1;return function(o){function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.apply(this,t)||this;return n.config=t[0],c=c.bind(n),l=l.bind(n),u=u.bind(n),p=p.bind(n),d=d.bind(n),h=h.bind(n),n}return a(f,o),f.prototype.start=function(){var n=this;s=t.getValue(),e&&!v?e.setOnChange((function(){v=!0,n.expand()})):this.expand(),o.prototype.start.call(this)},f.prototype.stop=function(){o.prototype.stop.call(this),n.removeCSSRules(y),this.currentForcedHeight=-1,d()},f.prototype.expand=function(){var t=i.getTopMostWindow(),n=0,o=e?e.getValue():0,a=o&&2===o.length?o[1]/o[0]:0;if(a)n=Math.round(s.offsetWidth*a);else if(this.config.InviewExpand&&r.isMobileDevice()&&t.innerHeight>t.innerWidth&&s.offsetHeight<t.innerHeight-70){var l=(t.innerHeight-70)/t.innerWidth;n=Math.round(s.offsetWidth*l)}else!r.isMobileDevice()&&s.offsetHeight<600&&(n=Math.round(600*s.offsetWidth/300));n&&(n=Math.min(600,n),g=n,c(n),p())},f.prototype.getSize=function(){var t=o.prototype.getSize.call(this);return m>0&&(t[1]=m),t},f}(o)}}}.apply(e,r))||(t.exports=i)},7068:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8686)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageButtonDecorator=void 0,e.ImageButtonDecorator=function(t,e,r,i,o,s){return function(c){var l,u,p,d=t;return function(t){function c(){return null!==t&&t.apply(this,arguments)||this}return a(c,t),c.prototype.addHTMLElements=function(){t.prototype.addHTMLElements.call(this),u=r.getValue(),(l=s?s.getValue():document.createElement("div")).id=i||"ayl_image_button",l.style.cssText=l.style.cssText+d,l.style.cursor="pointer",(p=document.createElement("img")).style.width="100%",p.style.height="100%",p.style.marginTop="0px",p.style.minHeight="0px",p.style.minWidth="0px",p.src=e,l.appendChild(p),u.appendChild(l)},c.prototype.addListeners=function(){if(t.prototype.addListeners.call(this),o){n.addClickListener(l,(function(t){t.preventDefault(),t.stopImmediatePropagation(),o.getValue()()}),!0)}},c}(c)}}}.apply(e,r))||(t.exports=i)},3152:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};r=[n,e,n(1190),n(7337),n(7070),n(4571),n(2679),n(241),n(8275),n(8686),n(6322),n(4834)],void 0===(i=function(t,e,n,r,i,o,c,l,u,p,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMAVastReaderDecorator=void 0,e.IMAVastReaderDecorator=function(t,e){var f,g,m,y,v,E,b,T,w,_,S,C=document.createElement("div"),A=document.createElement("video"),I=!1,O=!1,x=!1,P=!1,R=!1,L=!1,k=!1,N=-1,D=-1,M=function(t){return f&&R?(t?f.setVolume(0):f.setVolume(1),!f.getVolume()):!t},j=function(){y=d.getTopMostWindow().google.ima,O=!0,n.TriggerEvent(i.Event.VIDEO_CREATIVE_VIEW,v,v.Campaign),y.settings.setVpaidMode(y.ImaSdkSettings.VpaidMode.ENABLED),g&&g.destroy(),A.style.display="",C.style.display="",g=new y.AdDisplayContainer(C,A),(m=new y.AdsLoader(g)).getSettings().setAutoPlayAdBreaks(!1),_(),g.initialize(),V(m)},V=function(t){var e=new y.AdsRequest;e.adsResponse=w,e.setAdWillAutoPlay(!0),e.setAdWillPlayMuted(!0),t.requestAds(e)},U=function(){P=!0;var e=t.getValue();f.init(parseFloat(window.getComputedStyle(e).width),parseFloat(window.getComputedStyle(e).height),y.ViewMode.NORMAL),f.start()},F=function(t){t&&(k=!0),L=t,t!==R&&f&&(t?this.play():v.Content.MainVideo.Pause&&this.pause())},B=function(t){var e=t.match(/.*?<MediaFile.*?width="([^"]*)".*?<\/MediaFile>.*?/)||[],n=t.match(/.*?<MediaFile.*?height="([^"]*)".*?<\/MediaFile>.*?/)||[],r=e.length>=2?parseInt(e[1],10):NaN,i=n.length>=2?parseInt(n[1],10):NaN;N=isNaN(r)?N:r,D=isNaN(i)?D:i};return function(g){var V=new r.DecoratorParameter,W=new r.DecoratorParameter("width:16px;height:16px;border-radius:18px;position:absolute;bottom:10px;right:10px;"),H=new r.DecoratorParameter,z=new r.DecoratorParameter(M);return function(g){function M(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this;return v=r.findConfigurationArg(t),T=v.Content.MainVideo.ViewedAt?v.Content.MainVideo.ViewedAt:0,n=g.apply(this,t)||this,H.setValue(n.imgElement),F=F.bind(n),w=window.atob(v.Content.MainVideo.Vast),B(w),f=null,n}return a(M,g),M.prototype.addHTMLElements=function(){g.prototype.addHTMLElements.call(this);var e=t.getValue();V.getValue()||V.setValue(e),""===e.style.position&&(e.style.position="relative"),A.style.position="absolute",A.style.display="none",A.style.backgroundColor="black",A.style.left="0px",A.style.top="0px",A.style.width="100%",A.style.height="100%",A.style.transition="none",A.volume=0,A.muted=!0,A.setAttribute("playsinline","true"),A.setAttribute("webkit-playsinline","true"),C.style.position="absolute",C.style.display="none",C.style.width="100%",C.style.height="100%",C.style.transition="none",e.insertBefore(C,e.childNodes[0]),e.insertBefore(A,e.childNodes[0]),function(){if(d.getTopMostWindow().document.body.getElementsByClassName("ayl-ima").length>0)x=!0;else if(t.getValue()){var e=document.createElement("script");e.className="ayl-ima",e.type="text/javascript",e.setAttribute("src","https://imasdk.googleapis.com/js/sdkloader/ima3.js"),e.addEventListener("load",(function(){x=!0,j()})),d.getTopMostWindow().document.body.appendChild(e)}}()},M.prototype.addListeners=function(){var r=this;g.prototype.addListeners.call(this);var o=e.getValue()||A;u.Viewability.registerElement(o,F,v.Content.MainVideo.Tolerance/100),u.Viewability.registerElement(A,(function(){n.TriggerEvent(i.Event.VIEWABLE_VIDEO50,v,v.Campaign)}),.5,2e3);window.addEventListener("resize",(function(t,e){r.resize()})),document.addEventListener("visibilitychange",(function(){v.Content.MainVideo.Pause&&(document.hidden?r.pause():r.play())})),_=function(){m.addEventListener(y.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){var e=new y.AdsRenderingSettings;f=t.getAdsManager(A,e),S(),r.videoState!==l.VideoState.LOADED||P||U(),I=!0}),!1),m.addEventListener(y.AdErrorEvent.Type.AD_ERROR,(function(){r.stop(),n.TriggerEvent(i.Event.VPAID_ERROR,v,v.Campaign)}))},S=function(){f.addEventListener(y.AdEvent.Type.STARTED,(function(){r.setVideoState(l.VideoState.PLAYING,f.getRemainingTime()),R=!0})),f.addEventListener(y.AdEvent.Type.COMPLETE,(function(){r.stop()}));f.addEventListener(y.AdEvent.Type.AD_PROGRESS,(function(t){var e=t.getAdData().duration-f.getRemainingTime();-1!==T&&e>=T&&(T=-1,n.TriggerEvent(i.Event.VIDEO_PROGRESS,v,v.Campaign)),(v.Content.MainVideo.Pause&&!L||!k)&&r.pause()})),f.addEventListener(y.AdEvent.Type.PAUSED,(function(){r.setVideoState(l.VideoState.PAUSED)})),f.addEventListener(y.AdEvent.Type.RESUMED,(function(){r.setVideoState(l.VideoState.PLAYING,f.getRemainingTime())})),p.addClickListener(t.getValue(),(function(t){h.isMobileDevice()||(t.stopImmediatePropagation(),t.preventDefault())}))}},M.prototype.open=function(){g.prototype.open.call(this),!O&&x&&j()},M.prototype.start=function(){g.prototype.start.call(this),!P&&I&&this.videoState===l.VideoState.LOADED&&U()},M.prototype.stop=function(){f&&f.stop(),this.setVideoState(l.VideoState.ENDED),A.style.display="none",C.style.display="none",g.prototype.stop.call(this),P=!1,R=!1,O=!1,I=!1},M.prototype.play=function(){f&&(f.resume(),R=!0)},M.prototype.pause=function(){f&&(f.pause(),R=!1)},M.prototype.resize=function(){if(g.prototype.resize.call(this),f){var t=window.getComputedStyle(C),e=parseFloat(t.width),n=parseFloat(t.height);void 0!==b&&b===n&&E===e||(f.resize(e,n,y.ViewMode.NORMAL),E=e,b=n)}},M.prototype.getMediafileSize=function(){return[N,D]},M.prototype.setSoundButtonRootElement=function(t,e){V.setValue(t),W.setValue(e)},M=s([o.ReplayDecorator(H),c.SoundButtonDecorator(W,V,z)],M)}(g)}}}.apply(e,r))||(t.exports=i)},2202:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(1190),n(7337),n(7070),n(8686)],void 0===(i=function(t,e,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlaylistDecorator=void 0;var s="rgba(0, 0, 0, 0.05)";e.PlaylistDecorator=function(t,e,c,l){return function(u){var p,d,h,f,g,m,y=[],v=function(t){var e=t.container?t.container:document.createElement("div"),n=document.createElement("img"),r=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div");e.style.display="flex",e.style.flexDirection="row",e.style.alignContent="start",e.style.alignItems="start",e.style.justifyContent="start",e.style.width="100%",e.style.height="65px",e.style.margin="4px 0",e.style.overflow="hidden",n.style.flex="0 0 65px",n.style.width="65px",n.style.height="65px",n.style.objectFit="cover",n.src=t.thumbnail,r.style.display="flex",r.style.flex="1 1 0%",r.style.height="100%",r.style.padding="4px 0 4px 8px",r.style.flexDirection="column",i.style.width="210px",i.style.lineHeight="20px",i.style.display="block",i.style.flex="0 0 20px",i.innerHTML=t.title,i.style.fontWeight="bold",i.style.whiteSpace="nowrap",i.style.overflow="hidden",i.style.textOverflow="ellipsis",o.style.display="block",o.style.flex="1 1 0%",o.innerHTML=t.description,o.style.height="40px",o.style.overflow="hidden",r.appendChild(i),r.appendChild(o),e.appendChild(n),e.appendChild(r),y.push({container:e,thumbnail:n,textContainer:r,title:i,description:o})},E=function(t,e){t!==g&&(e&&(y[t].container.style.backgroundColor=s),"number"==typeof g&&(y[g].container.style.backgroundColor=""),g=t)};return function(u){function b(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return m=r.findConfigurationArg(t),u.apply(this,t)||this}return a(b,u),b.prototype.addHTMLElements=function(){u.prototype.addHTMLElements.call(this),h=l.getValue(),(p=document.createElement("div")).id="ayl_playlist",p.style.cssText=t,p.style.cursor="pointer",p.style.backgroundColor="white",p.style.opacity="0",p.style.visibility="hidden",p.style.transition="opacity 400ms ease-out",p.style.display="flex",p.style.flexDirection="column",p.style.alignItems="stretch",p.style.flexWrap="nowrap",(d=document.createElement("div")).style.flex="0 0 30px",d.style.padding="0 8px",d.style.lineHeight="30px",d.style.fontWeight="bold",d.innerHTML=e.getValue(),d.style.color="#333",d.style.textAlign="",(f=document.createElement("div")).style.padding="8px",f.style.maxHeight="211px",f.style.overflowY="scroll",c.getValue().forEach((function(t){v(t)})),y.forEach((function(t){f.appendChild(t.container)})),E(0,!0),h.appendChild(p),p.appendChild(d),p.appendChild(f)},b.prototype.addListeners=function(){u.prototype.addListeners.call(this),h.addEventListener("mouseover",(function(){p.style.visibility="visible",p.style.opacity="1"})),p.addEventListener("mouseout",(function(){p.style.visibility="hidden",p.style.opacity="0"}));for(var t=function(t){var e=y[t],r=t;o.addClickListener(e.container,(function(){E(r,!1),n.TriggerEvent(i.Event.PLAYLIST_CLICK,m,m.Campaign)})),e.container.addEventListener("mouseover",(function(){e.container.style.backgroundColor="rgba(0, 0, 0, 0.10)"})),e.container.addEventListener("mouseout",(function(){e.container.style.backgroundColor=r===g?s:""}))},e=0;e<y.length;e++)t(e)},b.prototype.start=function(){u.prototype.start.call(this),y.forEach((function(t){for(var e=t.description.innerHTML.split(" ");t.description.scrollHeight>t.description.offsetHeight;)e.pop(),t.description.innerHTML=e.join(" ")+"..."}))},b}(u)}}}.apply(e,r))||(t.exports=i)},3479:function(t,e,n){var r,i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBarDecorator=void 0,e.ProgressBarDecorator=function(t,e,n,r){return function(i){return function(i){function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i.apply(this,t)||this;return n.progressDivs=[],n.currentIndex=0,n.nbOfParts=0,n.spentTimeInCurrentPart=0,n.lastPlayCommand=-1,n}return o(a,i),a.prototype.addHTMLElements=function(){i.prototype.addHTMLElements.call(this);var o=t.getValue();this.nbOfParts=r.getValue().length;var a=document.createElement("div");a.style.cssText=a.style.cssText+e;for(var s=n.borderRadius,c=n.spaceBetweenParts,l=(this.nbOfParts-1)*c,u=100/this.nbOfParts,p=0;p<this.nbOfParts;p++){var d=document.createElement("div");d.style.position="relative",d.style.cssFloat="left",d.style.borderRadius=s+"px",d.style.overflow="hidden",d.style.height="100%",d.style.width="calc("+u+"% - "+l/this.nbOfParts+"px)",p!==this.nbOfParts-1&&(d.style.marginRight=c+"px"),d.style.backgroundColor="rgba(255, 255, 255, 0.267)";var h=document.createElement("div");h.style.backgroundColor="white",h.style.position="absolute",h.style.top="0px",h.style.height="100%",h.style.width="0%",this.progressDivs.push(h),d.appendChild(h),a.appendChild(d)}o.appendChild(a)},a.prototype.goTo=function(t){i.prototype.goTo.call(this,t),this.selectIndex(t)},a.prototype.pause=function(){i.prototype.pause.call(this),this.pauseDisplay()},a.prototype.resume=function(){i.prototype.resume.call(this),this.resumeDisplay()},a.prototype.onPageStarted=function(t,e){e&&(r.getValue()[t]=e),this.resumeDisplay()},a.prototype.selectIndex=function(t){this.lastPlayCommand=-1,this.spentTimeInCurrentPart=0,this.currentIndex=t;for(var e=0;e<this.nbOfParts;e++){var n=this.progressDivs[e];e<t?(n.style.width="0%",n.style.transition="",window.getComputedStyle(n).height,n.style.width="100%"):e===t?(n.style.transition="",n.style.width="0%",window.getComputedStyle(n).height):e>t&&(n.style.transition="",n.style.width="0%")}},a.prototype.pauseDisplay=function(){this.lastPlayCommand>0&&(this.spentTimeInCurrentPart+=(new Date).getTime()-this.lastPlayCommand);var t=this.progressDivs[this.currentIndex],e=window.getComputedStyle(t).width;t.style.width=e},a.prototype.resumeDisplay=function(){this.lastPlayCommand=(new Date).getTime(),this.progressDivs[this.currentIndex].style.transition="width "+(r.getValue()[this.currentIndex]-this.spentTimeInCurrentPart)/1e3+"s linear",this.progressDivs[this.currentIndex].style.width="100%"},a}(i)}}}.apply(e,[n,e]))||(t.exports=r)},4444:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};r=[n,e,n(4834),n(7337),n(6322),n(4162),n(171),n(6811),n(553),n(5831),n(8275),n(8039)],void 0===(i=function(t,e,n,r,i,o,c,l,u,p,d,h){"use strict";function f(t,e){return function(c){var f,g,m,y,v,E,b,T,w,_,S,C,A,I=!1,O=function(t){t&&(I=!0),w||t||!I||(w=!0,_&&R())},x=function(t){w&&t&&(w=!1,_&&P())},P=function(){C||((n.isFirefox()||n.isMobileDevice())&&N.setValue(!1),E&&(d.Viewability.unregisterElement(A),A=null,m.style.cssText=E,m.offsetHeight,m.style.transition=b,m.parentElement.removeChild(f),E=null,S.resize()),C=d.Viewability.registerElement(e.getValue()||m,O.bind(this),T.Content.MainVideo.Tolerance/100),S.handlesOptout()&&(m.appendChild(y),y.style.right="-10px",y.style.top="-3px"),v&&i.InIframe()&&m.appendChild(v))},R=function(){(n.isFirefox()||n.isMobileDevice())&&N.setValue(!0),d.Viewability.unregisterElement(C),C=null;var t=window.getComputedStyle(m);f.style.cssText=m.style.cssText,f.style.width=t.width,f.style.height=t.height,f.style.backgroundColor="",b=m.style.transition,m.style.setProperty("transition","none","important"),m.offsetHeight,E=m.style.cssText,m.style.cssText="",m.style.position="fixed",S.resize(),m.style.bottom="-184px",m.style.right="10px",m.style.opacity="0",m.style.transition="opacity 0.3s ease-out, bottom 0.3s linear",m.style.backgroundColor="black",m.style.zIndex="1000000001",window.getComputedStyle(m).height,m.style.opacity="1",m.style.bottom="10px",m.parentElement.appendChild(f),A=d.Viewability.registerElement(e.getValue()||f,x.bind(this),T.Content.MainVideo.Tolerance/100),S.handlesOptout()&&(S.injectorElement.appendChild(y),y.style.right="0px",y.style.top="18px"),v&&i.InIframe()&&S.injectorElement.appendChild(v)},L=function(){x(!0),d.Viewability.replaceCallback(C,(function(t){t&&(d.Viewability.unregisterElement(C),P())}))},k="width:16px;height:16px;position:absolute;top:10px;";n.isMobileDevice()?k+="left:10px;":k+="right:10px;";var N=new r.DecoratorParameter(!1),D=new r.DecoratorParameter(document.createElement("div"));return function(e){function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this;return T=r.findConfigurationArg(t),i=e.apply(this,t)||this,S=i,f=document.createElement("div"),w=!1,i}return a(c,e),c.prototype.addHTMLElements=function(){var n;e.prototype.addHTMLElements.call(this),y=null===(n=this.injectorElement)||void 0===n?void 0:n.getElementsByClassName("ayl_optout_button")[0],v=document.getElementById("ayl-hover-wording"),g=t.getValue(),(m=document.createElement("div")).style.position="absolute",m.style.zIndex="10",m.style.overflow="hidden",i.getTopMostWindow().document.body.appendChild(m),t.setValue(m),D.getValue().style.transition="opacity 0.4s ease-in"},c.prototype.addListeners=function(){var t=this;e.prototype.addListeners.call(this);var r=!n.isFirefox()&&!n.isMobileDevice();r&&m.addEventListener("mouseover",(function(){w&&N.setValue(!0)})),m.addEventListener("mouseenter",(function(){w||g.dispatchEvent(h.createNewEvent("mouseenter",{bubbles:!0}))})),m.addEventListener("mouseleave",(function(){g.dispatchEvent(h.createNewEvent("mouseleave",{bubbles:!0})),r&&N.setValue(!1)}));var o=i.getTopMostWindow();o.addEventListener("resize",this.resize.bind(this)),"complete"===o.document.readyState?this.resize():o.addEventListener("load",(function(){t.resize()}));var a=document.getElementById("ayl_"+T.Attempt);a&&(a.addEventListener("animationend",(function(){t.resize()})),a.addEventListener("transitionend",(function(){t.resize()})))},c.prototype.start=function(){if(e.prototype.start.call(this),this.handlesOptout()&&(m.appendChild(y),y.style.right="-10px",y.style.top="-3px"),v&&i.InIframe()&&m.appendChild(v),m.style.display="",w=!1,_=!0,d.Viewability.unregisterElement(C),C=null,-1!==m.style.transition.indexOf("height")&&"0px"===m.style.height){_=!1;var t=function(){_=!0,w?R():P(),m.removeEventListener("transitionend",t)};m.addEventListener("transitionend",t)}else P()},c.prototype.stop=function(){this.handlesOptout()&&(this.injectorElement.appendChild(y),y.style.right="0px",y.style.top="18px"),v&&i.InIframe()&&this.injectorElement.appendChild(v),x(!0),_=!1,m.style.display="none",e.prototype.stop.call(this)},c.prototype.resize=function(){if(_&&w){var t=Math.min(.5*i.getTopMostWindow().document.documentElement.clientWidth,300),n=9*t/16;m.style.setProperty("width",t+"px","important"),m.style.setProperty("height",n+"px","important")}else if(!w){var r=window.getComputedStyle(g),o=g.getBoundingClientRect(),a=o.left,s=o.top,c=0,l=0;i.executeUntilTopMostWindow((function(t){try{for(var e=t.parent,n=0;n<e.frames.length;n++)if(e.frames[n]===t){var r=frameElement.getBoundingClientRect();a+=r.left,s+=r.top}}catch(t){}c+=t.pageXOffset||t.document.documentElement.scrollLeft,l+=t.pageYOffset||t.document.documentElement.scrollTop})),m.style.width=r.width,m.style.height=r.height,m.style.left=c+a+"px",m.style.top=l+s+"px"}e.prototype.resize.call(this)},c.prototype.handlesOptout=function(){var t,e;return(null===(e=null===(t=this.config)||void 0===t?void 0:t.IntegrationConfig)||void 0===e?void 0:e.Widget)&&(this.config.IntegrationConfig.Widget.WidgetKind===l.IntegrationWidget.CREATIVE_TEMPLATE_2||this.config.IntegrationConfig.Widget.WidgetKind===l.IntegrationWidget.CREATIVE_TEMPLATE_3)&&this.config.VideoFormat===p.VideoFormat.FEED},c=s([o.CloseButtonDecorator(k,t,D,L),u.ToggleDecorator(N,D)],c)}(c)}}Object.defineProperty(e,"__esModule",{value:!0}),e.ReduceDecorator=e.ConditionnedReduceDecorator=void 0,e.ConditionnedReduceDecorator=function(t,e){if(c.ConfigurationReader.getBooleanProperty("isvideoreduce"))return f(t,e)},e.ReduceDecorator=f}.apply(e,r))||(t.exports=i)},4571:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};r=[n,e,n(6754),n(7337),n(8175),n(7070),n(7068),n(8686)],void 0===(i=function(t,e,n,r,i,o,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplayDecorator=void 0,e.ReplayDecorator=function(t){return function(e){var u,p,d,h,f,g=new r.DecoratorParameter,m=i.AYL_URL.ADSERVER_FO_STATIC+"/native/images/replay.svg",y=new r.DecoratorParameter,v=i.AYL_URL.ADSERVER_FO_STATIC+"/native/images/read_more.svg",E=new r.DecoratorParameter,b=new r.DecoratorParameter;return function(e){function i(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return h=r.findConfigurationArg(t),e.apply(this,t)||this}return a(i,e),i.prototype.addHTMLElements=function(){e.prototype.addHTMLElements.call(this),f=t.getValue(),E.setValue(document.createElement("div")),h.Content.MainVideo&&h.Content.MainVideo.ClickUrl||(E.getValue().style.display="none"),(p=document.createElement("div")).style.backgroundColor="black",p.style.opacity="0.5",p.style.left="0",p.style.top="0",p.style.position="absolute",p.style.width="100%",p.style.height="100%",p.style.zIndex="11",(d=document.createElement("div")).style.position="absolute",d.style.width="50%",d.style.height="50%",d.style.top="50%",d.style.left="50%",d.style.transform="translate(-50%, -50%)",d.style.zIndex="11",g.setValue(d),(u=document.createElement("div")).id="ayl_replay_area",u.style.display="none",u.style.position="absolute",u.style.transition="none",u.appendChild(p),u.appendChild(d),f&&f.parentNode.insertBefore(u,f)},i.prototype.addListeners=function(){var t=this;e.prototype.addListeners.call(this),y.setValue((function(){t.open()})),b.setValue((function(){window.open(n.RedirUrl(h,h.Content.MainVideo.ClickUrl,o.Event.CLICK),"_blank")})),l.addClickListener(p,(function(t){t.stopImmediatePropagation(),t.preventDefault(),y.getValue()()}))},i.prototype.open=function(){e.prototype.open.call(this),u.style.display="none"},i.prototype.stop=function(){e.prototype.stop.call(this),u&&(u.style.display=""),this.resize()},i.prototype.resize=function(){e.prototype.resize.call(this),f&&(u.style.left=f.offsetLeft+"px",u.style.top=f.offsetTop+"px",u.style.width=f.offsetWidth+"px",u.style.height=f.offsetHeight+"px")},i=s([c.ImageButtonDecorator("height:50%;",v,g,"ayl_readmore_button",b,E),c.ImageButtonDecorator("margin-bottom:5px;height:50%;",m,g,"ayl_replay_button",y)],i)}(e)}}}.apply(e,r))||(t.exports=i)},3658:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};r=[n,e,n(6754),n(3420),n(7337),n(2202),n(7070),n(7545),n(5220),n(8686)],void 0===(i=function(t,e,n,r,i,o,c,l,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeeMoreButtonDecorator=void 0,e.SeeMoreButtonDecorator=function(t,e,d){return function(h){var f={EN:"See more",FR:"Voir plus",PT:"Ver mais",getLabel:function(t){return this[t]}},g=new i.DecoratorParameter([]),m=function(){g.getValue().push({thumbnail:r.GetUrlDynamicImage(v,v.Content.Preview.Thumbnail.Image,65,65,!1),title:l.PreviewTranslation.TITLE.getValue(v.Content.Preview.Text),description:l.PreviewTranslation.DESCRIPTION.getValue(v.Content.Preview.Text),url:v.Content.Landing.Url,container:document.createElement("div")}),v.Content.Playlist.Elements.forEach((function(t){g.getValue().push({thumbnail:r.GetUrlDynamicImage(v,t.Image,65,65,!1),title:t.Title,description:t.Description,url:t.Link,container:document.createElement("div")})}))},y=d||new i.DecoratorParameter(document.createElement("div"));y.getValue().id="ayl_seemore_button";var v,E=new i.DecoratorParameter;return function(r){function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(v=i.findConfigurationArg(t)).Content.Playlist&&(E.setValue(f.getLabel(v.Lang.toString())),m()),r.apply(this,t)||this}return a(l,r),l.prototype.addListeners=function(){var t=this;r.prototype.addListeners.call(this),g.getValue().forEach((function(e){p.addClickListener(e.container,(function(){t.iframe&&(t.iframe.src=n.RedirUrl(v,e.url,c.Event.DISPLAY_SITE))}))}))},l=s([o.PlaylistDecorator("width:300px;position:absolute;top:0;right:0;",E,g,y),u.TimedButtonDecorator(t,new i.DecoratorParameter(0),E,e,y)],l)}(h)}}}.apply(e,r))||(t.exports=i)},2679:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8175),n(5503),n(8686)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SoundButtonDecorator=void 0,e.SoundButtonDecorator=function(t,e,o){return function(s){var c,l,u="url('"+n.AYL_URL.ADSERVER_FO_STATIC+"/native/images/volume_off.svg')",p="url('"+n.AYL_URL.ADSERVER_FO_STATIC+"/native/images/volume_up.svg')",d=!0,h=function(t){d=t,c.style.backgroundImage=t?u:p};return function(n){function s(){return null!==n&&n.apply(this,arguments)||this}return a(s,n),s.prototype.addHTMLElements=function(){n.prototype.addHTMLElements.call(this),l=e.getValue(),(c=document.createElement("button")).id="ayl_sound_button",c.style.background="transparent center no-repeat",c.style.backgroundSize="contain",c.style.cursor="pointer",c.style.border="none",c.style.outline="none",c.style.transition="none",c.style.cssText=c.style.cssText+t.getValue(),c.style.opacity="0",l.appendChild(c)},s.prototype.addListeners=function(){n.prototype.addListeners.call(this);i.addClickListener(c,(function(t){var e;t.preventDefault(),t.stopImmediatePropagation(),e=!d,o.getValue()(e)===e&&h(e)}),!0),document.addEventListener(r.PlayerEvents.MUTE,(function(){h(!0)})),document.addEventListener(r.PlayerEvents.UNMUTE,(function(){h(!1)}))},s.prototype.start=function(){n.prototype.start.call(this),c.style.opacity="1",h(!0)},s.prototype.stop=function(){n.prototype.stop.call(this),c&&(c.style.opacity="0")},s}(s)}}}.apply(e,r))||(t.exports=i)},5220:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(4834)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimedButtonDecorator=void 0,e.TimedButtonDecorator=function(t,e,r,i,o){return function(s){var c,l,u,p,d,h,f=t,g=e,m=r,y=function(){u.style.color="",u.style.pointerEvents="auto",p.style.border="",p.style.borderBottomColor="",p.style.boxSizing=""};return function(t){function s(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return c=e.getValue()>0,l=!0,i}return a(s,t),s.prototype.addHTMLElements=function(){t.prototype.addHTMLElements.call(this),h=i.getValue(),(u=o?o.getValue():document.createElement("div")).id=""!==u.id?u.id:"ayl_timed_button",u.style.cssText=f,u.style.cursor="pointer",u.style.display="inline-block",""===u.style.width&&(l=!1),(d=document.createElement("div")).innerHTML=m.getValue(),d.style.position="relative",d.style.fontFamily="sans-serif",d.style.fontSize="18px",d.style.marginLeft="5px",d.style.marginRight="5px",d.style.textAlign="center",d.style.top="50%",d.style.transform="translateY(-50%)",n.isSafari()&&"⨯"===r.getValue()&&(d.style.fontSize="30px",d.style.transform="translateY(-55%)"),(p=document.createElement("div")).style.width="100%",p.style.height="100%",p.style.position="absolute",p.style.backgroundColor="white",p.style.borderRadius="30px",p.style.lineHeight="30px",c&&(l&&(p.style.border="2px solid rgba(0, 0, 0, 0.25)",p.style.borderBottomColor="#666",p.style.boxSizing="border-box"),u.style.color="#666",u.style.pointerEvents="none"),h.appendChild(u),u.appendChild(p),u.appendChild(d)},s.prototype.start=function(){if(t.prototype.start.call(this),c){if(l){var e;c=!1;var n=0,r=0,i=function(t){e=requestAnimationFrame(i),o(r?t-r:16),r=t},o=function(t){n+=.45*t,p.style.transform="rotate("+n+"deg)"};i(0),setTimeout((function(){cancelAnimationFrame(e)}),g.getValue())}setTimeout(y.bind(this),g.getValue())}},s}(s)}}}.apply(e,r))||(t.exports=i)},1477:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};r=[n,e,n(7337),n(5220),n(8686)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimedCloseButtonDecorator=void 0,e.TimedCloseButtonDecorator=function(t,e,o){return function(c){var l,u=new n.DecoratorParameter(document.createElement("div"));return u.getValue().id="ayl_close_button",o||(o=new n.DecoratorParameter),function(c){function p(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l=n.findConfigurationArg(t),null===o.getValue()&&o.setValue(l.Content.ViewButtons.Close&&l.Content.ViewButtons.Close.Skip?l.Content.ViewButtons.Close.Skip:0),c.apply(this,t)||this}return a(p,c),p.prototype.addListeners=function(){c.prototype.addListeners.call(this),i.addClickListener(u.getValue(),this.stop.bind(this))},p=s([r.TimedButtonDecorator(t,o,new n.DecoratorParameter("⨯"),e,u)],p)}(c)}}}.apply(e,r))||(t.exports=i)},553:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleDecorator=void 0,e.ToggleDecorator=function(t,e){return function(n){var r=function(){!0===t.getValue()?(e.getValue().style.display="block",setTimeout((function(){e.getValue().style.opacity="1"}))):(e.getValue().style.display="none",e.getValue().style.opacity="0")};return t.setOnChange(r),r(),n}}}.apply(e,[n,e]))||(t.exports=r)},7337:(t,e,n)=>{var r,i;r=[n,e,n(4354)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorParameter=e.findConfigurationArg=void 0,e.findConfigurationArg=function(t){var e;return t.forEach((function(t){t.constructor===Object&&0!==Object.keys(t).length&&n.campaignSchema.isValidSync(t)&&(e=t)})),e};var r=function(){function t(t,e){this.value=void 0!==t?t:null,this.onChange=e||null}return t.prototype.setValue=function(t){this.value!==t&&(this.value=t,this.onChange&&this.onChange())},t.prototype.getValue=function(){return this.value},t.prototype.setOnChange=function(t){this.onChange=t},t}();e.DecoratorParameter=r}.apply(e,r))||(t.exports=i)},7014:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};r=[n,e,n(1190),n(7337),n(1643),n(7070),n(3152),n(4571),n(2679),n(8275),n(6322),n(8175)],void 0===(i=function(t,e,n,r,i,o,c,l,u,p,d,h){"use strict";function f(t,e){var c,d=document.createElement("div"),h=document.createElement("video"),f=-1,g=-1,m=function(t){var e=t.match(/.*?<MediaFile.*?width="([^"]*)".*?<\/MediaFile>.*?/)||[],n=t.match(/.*?<MediaFile.*?height="([^"]*)".*?<\/MediaFile>.*?/)||[],r=e.length>=2?parseInt(e[1],10):NaN,i=n.length>=2?parseInt(n[1],10):NaN;f=isNaN(r)?f:r,g=isNaN(i)?g:i};return function(y){var v=new r.DecoratorParameter,E=new r.DecoratorParameter("width:16px;height:16px;border-radius:18px;position:absolute;bottom:10px;right:10px;"),b=new r.DecoratorParameter,T=new r.DecoratorParameter;return function(y){function w(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this;c=r.findConfigurationArg(e),i=y.apply(this,e)||this,T.setValue(null===(t=i.mute)||void 0===t?void 0:t.bind(i)),b.setValue(i.imgElement);var o=window.atob(c.Content.MainVideo.Vast);return m(o),i}return a(w,y),w.prototype.addHTMLElements=function(){y.prototype.addHTMLElements.call(this);var e=t.getValue();v.getValue()||v.setValue(e),""===e.style.position&&(e.style.position="relative"),h.style.position="absolute",h.style.display="none",h.style.backgroundColor="black",h.style.left="0px",h.style.top="0px",h.style.width="100%",h.style.height="100%",h.style.transition="none",h.volume=0,h.setAttribute("playsinline","true"),h.setAttribute("webkit-playsinline","true"),d.style.position="absolute",d.style.display="none",d.style.width="100%",d.style.height="100%",d.style.transition="none",e.insertBefore(d,e.childNodes[0]),e.insertBefore(h,e.childNodes[0])},w.prototype.addListeners=function(){var t=this;y.prototype.addListeners.call(this),p.Viewability.registerElement(h,(function(){n.TriggerEvent(o.Event.VIEWABLE_VIDEO50,c,c.Campaign)}),.5,2e3);window.addEventListener("resize",(function(e,n){t.resize()})),document.addEventListener("visibilitychange",(function(){c.Content.MainVideo.Pause&&(document.hidden?t.pause():t.play())}))},w.prototype.getMediafileSize=function(){return[f,g]},w.prototype.setSoundButtonRootElement=function(t,e){v.setValue(t),E.setValue(e)},w=s([l.ReplayDecorator(b),u.SoundButtonDecorator(E,v,T),i.AylVastReaderDecorator(t,e,d,h)],w)}(y)}}Object.defineProperty(e,"__esModule",{value:!0}),e.VastReaderDecorator=e.ConditionnedVastReaderDecorator=void 0,e.ConditionnedVastReaderDecorator=function(t,e){return d.getTopMostWindow().document.body,h.shouldUseAylPlayer()?f(t,e):c.IMAVastReaderDecorator(t,e)},e.VastReaderDecorator=f}.apply(e,r))||(t.exports=i)},8275:(t,e,n)=>{var r,i;r=[n,e,n(8686),n(6322),n(6322)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Viewability=void 0;var o=function(){function t(){this.registeredElements={},this.listens=!1}return t.prototype.registerElement=function(e,n,r,i){void 0===r&&(r=t.DEFAULT_MINIMUM_VIEWABLE);var o=new a(e,n,r,i);return this.registeredElements[o.getId()]=o,this.observer&&this.observer.observe(e),i&&i>0&&o.setVisible(this.isVisible(r,e)),o.getId()},t.prototype.unregisterElement=function(t){delete this.registeredElements[t]},t.prototype.replaceCallback=function(t,e){this.registeredElements[t].setCallback(e)},t.prototype.checkViewability=function(t){var e=function(e){if(n.registeredElements.hasOwnProperty(e)){var r=n.registeredElements[e];n.observer&&t?t.forEach((function(t){if(r.value===t.target){var e=Math.round(100*t.intersectionRatio)/100>=r.tolerance;r.setVisible(e)}})):r.setVisible(n.isVisible(r.tolerance,r.value))}},n=this;for(var r in this.registeredElements)e(r)},t.prototype.isVisible=function(t,e){if(i.InIframe()&&document.body.contains(e)){var o=r.getSafeFrameEXT();if("function"==typeof(null==o?void 0:o.inViewPercentage))return o.inViewPercentage()/100>t}var a=r.getTopMostWindow(),s=a.document.body,c=e,l=window,u=n.GetParentIframe("#"+e.id);return u&&(c=u,s=window.parent.document.body,l=window.parent.window),!0!==a.document.hidden&&n.IsVisibleElement(l,c,t,s)},t.prototype.initListeners=function(t){if(!this.listens)try{if(window.hasOwnProperty("IntersectionObserver")){this.observer=new IntersectionObserver(this.checkViewability.bind(this),{root:null,rootMargin:"0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,.999]})}else t.addEventListener("resize",this.checkViewability.bind(this)),t.addEventListener("scroll",this.checkViewability.bind(this));this.listens=!0}catch(t){}},t.prototype.resetViewability=function(){this.listens=!1,this.registeredElements={},this.observer&&(this.observer.disconnect(),this.observer=null)},t.getInstance=function(){return t.instance},t.DEFAULT_MINIMUM_VIEWABLE=.5,t.instance=new t,t}(),a=function(){function t(t,e,n,r){this.callbackSent=!1,this.value=t,this.callback=e,this.tolerance=n,this.time=r,this.id=Math.round(1e6*Math.random())}return t.prototype.getId=function(){return this.id},t.prototype.setVisible=function(t){"number"==typeof this.time?(this.callbackSent||(t&&!this.isVisible?(this.timeoutStart=new Date,this.timeout=window.setTimeout(this.triggerTime.bind(this),this.time)):!t&&this.timeout&&(this.time-=(new Date).getTime()-this.timeoutStart.getTime(),clearTimeout(this.timeout),this.timeout=0)),this.isVisible=t):this.callback(t)},t.prototype.triggerTime=function(){this.isVisible&&(this.callback(!0),this.callbackSent=!0)},t.prototype.setCallback=function(t){this.callback=t},t}();e.Viewability=o.getInstance()}.apply(e,r))||(t.exports=i)},9893:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(6322),n(8686),n(7101)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Adreader=void 0;var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expandedRules=[],e}return a(e,t),e.prototype.addHTMLElements=function(){t.prototype.addHTMLElements.call(this),this.injectorElement.appendChild(this.rootElement),this.rootElement.setAttribute("style","overflow: hidden; display: block; position: relative; height: 0px;"),this.injectorElement.style.transition="height 0.7s linear",this.rootElement.style.transition="height 0.7s linear"},e.prototype.open=function(){var e=this;t.prototype.open.call(this);var i=function(){if(e.loaded){var t=window.getComputedStyle(e.injectorElement);e.videoHeight=9*parseInt(t.width,10)/16,e.formatHeight=parseInt(t.height,10),e.injectorElement.style.height=e.formatHeight+"px",e.rootElement.style.backgroundColor="black",setTimeout(o,0)}else setTimeout(i,100)},o=function(){var t=e.formatHeight+e.videoHeight;r.applyCSSRule(e.injectorElement,"height",t+"px",e.expandedRules),r.applyCSSRule(e.rootElement,"height",e.videoHeight+"px",e.expandedRules),n.InIframe()&&!n.InSecuredIframe()&&n.executeUntilTopMostWindow((function(n){try{if(n.parent.document.location.href.toString(),parseInt(n.parent.getComputedStyle(n.frameElement).height,10)<t){var i=n.frameElement;i.style.transition="height 0.7s linear",r.applyCSSRule(i,"height",t+"px",e.expandedRules)}}catch(t){}}))},a=!1,s=function(){a||(a=!0,e.start(),e.rootElement.removeEventListener("transitionend",s),e.opened=!0)};this.rootElement.addEventListener("transitionend",s),setTimeout(s,1e3),i()},e.prototype.stop=function(){this.opened&&(t.prototype.stop.call(this),this.rootElement.style.backgroundColor="",r.removeCSSRules(this.expandedRules))},e}(i.BaseVideoFormat);e.Adreader=o}.apply(e,r))||(t.exports=i)},3843:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseFormat=void 0;var n=function(){function t(t,e,n){var r=this;this.config=t,this.window=window;try{if(window.self!==window.top)window.parent.location.href&&(this.window=window.parent)}catch(t){}this.injectorElement=e,this.imgElement=e.querySelector("#ayl-img")||e.querySelector('img[src*="#mainImage=true"], [style*="#mainImage=true"]'),this.imgElement&&"ayl-img"!==this.imgElement.id&&(this.imgElement.id="ayl-img"),setTimeout((function(){r.addHTMLElements(),r.addListeners(),n&&n()}),0)}return t.prototype.clearHTMLElements=function(){},t.prototype.addHTMLElements=function(){},t.prototype.addListeners=function(){},t.prototype.start=function(){},t.prototype.stop=function(){},t.prototype.resize=function(){},t.prototype.setOpener=function(t){this.opener=t},t.prototype.executeOpener=function(){this.opener&&this.opener.start()},t.prototype.perform=function(){this.executeOpener()},t.prototype.getWindow=function(){return this.window},t}();e.BaseFormat=n}.apply(e,[n,e]))||(t.exports=r)},7101:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};r=[n,e,n(4834),n(5738),n(241),n(3843),n(4444),n(7014),n(7337),n(8686)],void 0===(i=function(t,e,n,r,i,o,c,l,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVideoFormat=void 0;var d=new u.DecoratorParameter,h=new u.DecoratorParameter,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.videoState=i.VideoState.INIT,e.videoStateListeners=[],e.transitionOngoing=!1,e.openTriggered=!1,e.loaded=!1,e.opened=!1,e}return a(e,t),e.prototype.addHTMLElements=function(){this.setVideoState(i.VideoState.INIT,-1),this.rootElement=document.createElement("div"),this.rootElement.id="ayl_native_root_element_"+r.EscapeHTML(this.config.Attempt),d.setValue(this.rootElement);var t=this.injectorElement.querySelector("#ayl-hover-wording");t&&(this.ctaElement=t)},e.prototype.setViewabilityReferenceElement=function(t){h.setValue(t)},e.prototype.addListeners=function(){var t=this,e=!1;p.addClickListener(this.rootElement,(function(t){e=!0,setTimeout((function(){e=!1}),0)})),p.addClickListener(this.injectorElement,(function(n){e||t.onClick(n)}));var r=function(e){if(!(e&&"width"!==e.propertyName&&"height"!==e.propertyName||t.transitionOngoing)){t.transitionOngoing=!0;var n=function(){this.resize(),this.transitionOngoing&&requestAnimationFrame(n)}.bind(t);n()}},i=function(e){"width"!==e.propertyName&&"height"!==e.propertyName||(t.transitionOngoing=!1,t.resize())};if(this.imgElement)if(this.imgElement.parentElement.addEventListener("transitionstart",(function(t){r(t)})),this.imgElement.parentElement.addEventListener("transitionend",(function(t){i(t)})),"IMG"===this.imgElement.nodeName){var o=function(){t.opened&&t.start(),t.loaded=!0};this.imgElement.complete?o():(this.imgElement.addEventListener("load",o),this.imgElement.addEventListener("error",o))}else this.loaded=!0;else this.loaded=!0;if(this.injectorElement.addEventListener("transitionstart",(function(t){r(t)})),this.injectorElement.addEventListener("transitionend",(function(t){i(t)})),n.isSafari()&&this.imgElement){var a="",s="";setInterval((function(){if(!t.transitionOngoing){var e=window.getComputedStyle(t.imgElement.parentElement),n=e.width,i=e.height;(""!==a&&a!==n||""!==s&&s!==i)&&r(),a=n,s=i}}),30)}},e.prototype.perform=function(){this.videoState!==i.VideoState.INIT||this.openTriggered||(this.openTriggered=!0,this.open())},e.prototype.onClick=function(t){this.executeOpener()},e.prototype.open=function(){this.ctaElement&&(this.ctaElement.style.display="")},e.prototype.start=function(){this.setVideoState(i.VideoState.LOADED,-1)},e.prototype.stop=function(){this.opened&&(t.prototype.stop.call(this),this.opened=!1,this.ctaElement&&(this.ctaElement.style.display="none"))},e.prototype.pause=function(){},e.prototype.play=function(){},e.prototype.getMediafileSize=function(){return[-1,-1]},e.prototype.setSoundButtonRootElement=function(t,e){},e.prototype.addStateChangedListener=function(t){this.videoStateListeners.push(t)},e.prototype.setVideoState=function(t,e){if(t!==this.videoState){this.videoState=t;for(var n=0,r=this.videoStateListeners;n<r.length;n++){r[n].onVideoStateChanged(t,e)}}},e=s([l.ConditionnedVastReaderDecorator(d,h),c.ConditionnedReduceDecorator(d,h)],e)}(o.BaseFormat);e.BaseVideoFormat=f}.apply(e,r))||(t.exports=i)},7878:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7101),n(6322)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPreview=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.addHTMLElements=function(){if(t.prototype.addHTMLElements.call(this),this.rootElement.style.position="absolute",this.imgElement){this.imgElement.style.zIndex="0";var e=this.imgElement.parentNode;if(this.imgElement.nextSibling?e.insertBefore(this.rootElement,this.imgElement.nextSibling):e.appendChild(this.rootElement),r.isCreative21(this.config))this.rootElement.style.left="0px",this.rootElement.style.top="0px",this.rootElement.style.width="100%",this.rootElement.style.height="100%";else if(this.imgElement.offsetHeight>0)this.resizeOnImage();else{this.imgElement.addEventListener("load",this.resizeOnImage.bind(this));parseInt(window.getComputedStyle(this.rootElement.parentElement).width,10);this.rootElement.style.left=this.imgElement.offsetLeft+"px",this.rootElement.style.top=this.imgElement.offsetTop+"px"}}else this.injectorElement.appendChild(this.rootElement),this.rootElement.style.left="0px",this.rootElement.style.top="0px",this.rootElement.style.width="100%",this.rootElement.style.height="100%"},e.prototype.resizeOnImage=function(){this.rootElement.style.left=this.imgElement.offsetLeft+"px",this.rootElement.style.top=this.imgElement.offsetTop+"px",this.rootElement.style.width=this.imgElement.offsetWidth+"px",this.rootElement.style.height=this.imgElement.offsetHeight+"px",this.resize()},e.prototype.open=function(){t.prototype.open.call(this),this.loaded&&this.start(),this.opened=!0},e}(n.BaseVideoFormat);e.InPreview=i}.apply(e,r))||(t.exports=i)},241:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoState=void 0,function(t){t.INIT="Initialized",t.LOADED="Loading",t.PLAYING="Playing",t.PAUSED="Paused",t.ENDED="Ended"}(e.VideoState||(e.VideoState={}))}.apply(e,[n,e]))||(t.exports=r)},5118:(t,e,n)=>{var r,i,o=n(7017);r=[n,e,n(4220),n(1168),n(3843),n(2313),n(5573),n(7614),n(4409),n(5831),n(6811),n(6322)],void 0===(i=function(t,e,r,i,a,s,c,l,u,p,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Load=void 0,e.Load=function(t,e,f){return new o((function(o,f){var g,m,y=0,v=2,E=function(){++y===v&&(null===g||e.Content.Banner||g.setOpener(m),o(g))},b=e.IntegrationConfig.Kind===c.NativeIntegration.WIDGET&&e.DisplayMode===d.WidgetDisplayMode.STORY&&e.Opener!==l.Opener.INVIEW;if(e.Content.MainVideo&&!b){var T=e.VideoFormat||e.Opener,w=void 0;switch(r.logger.log(r.LogLevel.INFO,"Init video format : "+T),T){case p.VideoFormat.ADREADER:w=n(9893),g=new w.Adreader(e,t,E);break;default:w=n(7878),g=new w.InPreview(e,t,E)}}else g=new a.BaseFormat(e,t,E),r.logger.log(r.LogLevel.INFO,"Init opener : "+e.Opener);switch(e.Opener){case l.Opener.FULLSCREEN:m=new s.FullscreenOpener(e,t,E);break;case l.Opener.LIGHTBOX:m=e.Content.Playlist?new i.SeeMorePopInOpener(e,t,E):new i.PopInOpener(e,t,E);break;case l.Opener.REDIRECT:m=new u.RedirectOpener(e,h.getTopMostWindow()),E();break;default:v--}}))}}.apply(e,r))||(t.exports=i)},7760:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};r=[n,e,n(6754),n(1190),n(6322),n(246),n(7615),n(7337),n(7070),n(2703),n(8275)],void 0===(i=function(t,e,n,r,i,o,c,l,u,p,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CliprBanner=void 0;var h=new l.DecoratorParameter,f=new l.DecoratorParameter,g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e=s([p.ExpandableContainerDecorator(h,f)],e)}(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visibilityCommand="",e.iabVisibilityCommand="",e.neededSize=[],e.messageQueue=[],e}return a(e,t),e.prototype.createMainContainer=function(){t.prototype.createMainContainer.call(this);var e=this.element.style;e.overflow="hidden",e.borderRadius="10px"},e.prototype.addHTMLElements=function(){t.prototype.addHTMLElements.call(this),h.setValue(this.element),this.iframe.style.opacity="0",this.iframe.style.borderRadius="10px"},e.prototype.addListeners=function(){var e=this;t.prototype.addListeners.call(this),window.addEventListener("message",(function(t){"APPLICATION_READY"===t.data.key&&(t.data.size&&(e.neededSize=t.data.size.split("x")),e.onContentLoad(!0))}))},e.prototype.setClickthroughListener=function(){},e.prototype.updateVisibleState=function(t){var e=c.CliprInterface.getEvent("CLIPR_PAUSE");t&&(e=c.CliprInterface.getEvent("CLIPR_RESUME")),e!==this.visibilityCommand&&(this.postDataKey(e),this.visibilityCommand=e)},e.prototype.updateVisibleIABState=function(t){var e=c.CliprInterface.getEvent("VISIBILITY_UNDER_50");t&&(e=c.CliprInterface.getEvent("VISIBILITY_OVER_50")),e!==this.iabVisibilityCommand&&(this.postDataKey(e),this.iabVisibilityCommand=e)},e.prototype.onContentLoad=function(e){var n=this,o=c.CliprInterface.isCliprIntegration(this.config);if((!o||e)&&(f.setValue(this.neededSize),r.TriggerEvent(u.Event.INVIEW_IMPRESSION,this.config),d.Viewability.registerElement(this.iframe,(function(){r.TriggerEvent(u.Event.INVIEW_VISIBLE_IMPRESSION,n.config)}),.5,1e3),t.prototype.onContentLoad.call(this),this.iframe.style.transition="opacity 0.7s ease-in",this.iframe.style.opacity="1",o)){var a,s=c.CliprInterface.getEvent("PAGE_URL");a=i.InSecuredIframe()?i.getTopMostWindow().document.referrer.substring(0,1500):i.getTopMostWindow().document.location.href.substring(0,1500),this.postDataKey(s,a),this.config.Content.Landing.InViewContentUrl&&this.postDataKey(c.CliprInterface.getEvent("LANDING_URL"),this.config.Content.Landing.Url);for(var l=c.CliprInterface.getAylEvents(),p=0;p<l.length;p++){var h=c.CliprInterface.generateUrls(this.config,l[p].key,this.element);1===h.pixelTrackings.length?this.postDataKey(l[p].value,h.pixelTrackings[0]):this.postDataKey(l[p].value,h.pixelTrackings),1===h.jsTrackings.length?this.postDataKey(l[p].value,h.jsTrackings[0],"javascript"):h.jsTrackings.length>1&&this.postDataKey(l[p].value,h.jsTrackings,"javascript")}d.Viewability.registerElement(this.iframe,this.updateVisibleState.bind(this),.4),d.Viewability.registerElement(this.iframe,this.updateVisibleIABState.bind(this),.5)}},e.prototype.CreateOptOutButton=function(){return null},e.prototype.postDataKey=function(t,e,n){if(t){var r={key:t};e&&(r.value=e),n&&(r.type=n),this.messageQueue.push(r)}else if(0===this.messageQueue.length)return;if(this.contentLoaded)for(;this.iframe.contentWindow&&0!==this.messageQueue.length;)this.iframe.contentWindow.postMessage(this.messageQueue.shift(),"*")},e.prototype.wrapUrl=function(t){return n.RedirUrl(this.config,t,u.Event.INVIEW_OPENED)},e}(o.Banner));e.CliprBanner=g}.apply(e,r))||(t.exports=i)},7615:(t,e,n)=>{var r,i;r=[n,e,n(5738),n(1190),n(7070)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CliprInterface=void 0;var o=function(){function t(){}return t.isCliprIntegration=function(t){var e,n=t;if(n.Content&&n.Content.Landing){var r=(null===(e=n.Content.Banner)||void 0===e?void 0:e.Url)||n.Content.Landing.InViewContentUrl||n.Content.Landing.Url;if(r&&-1!==r.indexOf("clipr"))return!0}return!1},t.getEvent=function(e){return t.CLIPR_EVENTS.filter((function(t){return t.key===e})).map((function(t){return t.value}))[0]},t.getAylEvents=function(){return t.CLIPR_EVENTS.filter((function(t){return t.key instanceof i.EventKind}))},t.generateUrls=function(t,e,o){var a=[r.generateTrackingUrl(e,t)],s=[];Array.isArray(e)?e.forEach((function(e,n){s.push(r.getOnEvents(e,t))})):s.push(r.getOnEvents(e,t));var c=[];return{pixelTrackings:a=(a=a.concat(s.filter((function(t){return t.Kind===i.OnEventType.PIXEL_URL})).map((function(t){return n.SubstituteTokens(t.Url)})))).concat(s.filter((function(t){return t.Kind===i.OnEventType.PARTNER_PIXEL_URL&&t.Partner})).map((function(t){return r.MakeTriggerUrlFromPartner(t.Partner,o)}))),jsTrackings:c=(c=c.concat(s.filter((function(t){return t.Kind===i.OnEventType.JAVASCRIPT_URL})).map((function(t){return n.SubstituteTokens(t.Url)})))).concat(s.filter((function(t){return t.Kind===i.OnEventType.PARTNER_JAVASCRIPT_URL&&t.Partner})).map((function(t){return n.SubstituteTokens(t.Url)})))}},t.CLIPR_EVENTS=[{key:i.Event.CLICK,value:"PXL_URL_CTA"},{key:"VISIBILITY_OVER_50",value:"IFRAME_VISIBILITY_OVER_50"},{key:"VISIBILITY_UNDER_50",value:"IFRAME_VISIBILITY_UNDER_50"},{key:"CLIPR_PAUSE",value:"PAUSE_CURRENT_CLIP"},{key:"CLIPR_RESUME",value:"RESUME_CURRENT_CLIP"},{key:"PAGE_URL",value:"PAGE_URL"},{key:"LANDING_URL",value:"REDIRECT_URL_CTA"}],t}();e.CliprInterface=o}.apply(e,r))||(t.exports=i)},246:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(4834),n(1190),n(7070),n(3505),n(8686),n(6322)],void 0===(i=function(t,e,n,r,i,o,s,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Banner=void 0;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentLoaded=!1,e}return a(e,t),e.prototype.addHTMLElements=function(){var t=this,e='<html><head></head><body style="margin: 0px; overflow:hidden;">'+this.config.Content.Banner.ADM+"</body></html>",r=this.config.Content.Banner.Width,i=this.config.Content.Banner.Height;this.iframe=document.createElement("iframe");var o=this.iframe.style;o.width="100%",o.height="100%",o.maxWidth="100%",o.borderWidth="0px",o.position="absolute",o.left="50%",o.transform="translate(-50%, 0px)",this.config.Content.Banner.Url?this.iframe.setAttribute("src",this.wrapUrl(this.config.Content.Banner.Url)):n.isIE()?this.iframe.setAttribute("src","data:text/html;charset=utf-8,"+e):this.iframe.setAttribute("srcdoc",e),this.iframe.onload=function(){t.contentLoaded||t.onContentLoad()},this.element.style.width=r?r+"px":"100%",this.element.style.height=i?i+"px":"100%",this.element.appendChild(this.iframe)},e.prototype.addListeners=function(){t.prototype.addListeners.call(this),this.setClickthroughListener()},e.prototype.setClickthroughListener=function(){var t=this;if(n.isChrome())c.getTopMostWindow().addEventListener("blur",(function(){document.activeElement===t.iframe&&r.TriggerEvent(i.Event.CLICK,t.config)}));else var e=setInterval((function(){var n=document.activeElement;n&&"IFRAME"===n.tagName&&(n.contains(t.iframe)||n===t.iframe)&&(r.TriggerEvent(i.Event.CLICK,t.config),clearInterval(e))}),100)},e.prototype.wrapUrl=function(t){return t},e.prototype.onContentLoad=function(){this.contentLoaded=!0,"function"==typeof this.loadedCallback&&this.loadedCallback()},e.prototype.setLoadedCallback=function(t){this.loadedCallback=t},e.prototype.getMainImgSrc=function(){var t=null;try{t=s.findBiggerElement(this.iframe.contentWindow.document.body,"IMG").src}catch(t){}return t},e.prototype.triggerClick=function(){var t=null;try{t=s.findBiggerElement(this.iframe.contentWindow.document.body,"A")}catch(t){}(t=t||this.mainImage)&&(t.click(),r.TriggerEvent(i.Event.CLICK,this.config))},e}(o.GenericWidget);e.Banner=l}.apply(e,r))||(t.exports=i)},3910:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8943),n(6754),n(2282),n(5738),n(2920),n(8709),n(7614),n(7070),n(7545),n(7545),n(8686)],void 0===(i=function(t,e,n,r,i,o,s,c,l,u,p,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Comment=void 0;var f=function(t){function e(e,n,i){var a=t.call(this,e,n,i)||this;return a.injectClickTrackings=function(t){for(var e=0;e<t.length;e++){var n=t[e].href;"A"===t[e].nodeName&&n&&-1===n.indexOf("tracking.omnitagjs.com")?t[e].href=r.RedirUrl(a.config,n,u.Event.CLICK):t[e].childElementCount>0&&a.injectClickTrackings(t[e].children)}},h.onDomReady((function(){for(var t,e,n=[],r=new RegExp("^\\s*@(?:(Title|Content|Author|AuthorLogo|Datetime)|AYL:(?:"+o.EscapeHTML(a.config.Placement).replace(/[^a-fA-F0-9]/g,"")+":)?([a-z0-9_]+)(?:\\((.*)\\))?)\\s*$","i"),i=document.getElementsByTagName("*"),s=0,l=i.length;s<l;s++)for(var u=0,p=(t=i[s].childNodes).length;u<p;u++)if(8===(e=t[u]).nodeType){var d=!1;try{d=!!(e.data&&e.data.indexOf("@")>=0)}catch(t){}if(d){var h=e.data;if(h){var f=h.match(r);if(f){var g=(f[2]||f[1]).toUpperCase(),m=void 0;switch(g){case"TITLE":m=a.getTitleNodes();break;case"CONTENT":m=a.getContentNodes();break;case"AUTHOR":m=a.getAuthorNodes();break;case"AUTHORLOGO":m=a.getAuthorLogoNodes();break;case"DATETIME":m=a.getDatetimeNodes()}m&&(n.push({after:e,nodes:m}),"CONTENT"===g&&(a.mainContentElement=m[0]))}}}}a.injectedNodes=[];for(s=0;s<n.length;s++){for(u=n[s].nodes.length-1;u>=0;u--)c.InsertAfter(n[s].nodes[u],n[s].after);a.injectedNodes.push.apply(a.injectedNodes,n[s].nodes)}})),a}return a(e,t),e.prototype.parseHTML=function(t){return t=t.replace(/[®™©]/g,(function(t){return"<sup style='vertical-align: super'>"+t+"</sup>"})),c.ParseHTML(t)},e.prototype.getContentNodes=function(){if(this.config.Opener===l.Opener.SPONSORPOST){var t=new i.Widget(d.SponsoTranslation.POSTCONTENT.getValue(this.config.Content.Sponso.Text,""),this.config).Text(),e=this.parseHTML(t);return this.injectClickTrackings(e),e}return this.parseHTML("")},e.prototype.getTitleNodes=function(){var t;return t=this.config.Opener===l.Opener.SPONSORPOST?d.SponsoTranslation.TITLE.getValue(this.config.Content.Sponso.Text,""):p.PreviewTranslation.TITLE.getValue(this.config.Content.Preview.Text,""),this.parseHTML("<div>"+o.EscapeHTML(t)+"</div>")},e.prototype.getAuthorNodes=function(){var t="";return this.config.Opener===l.Opener.SPONSORPOST&&(t=d.SponsoTranslation.SPONSOR.getValue(this.config.Content.Sponso.Text,"")),this.parseHTML("<div>"+o.EscapeHTML(t)+"</div>")},e.prototype.getAuthorLogoNodes=function(){return this.parseHTML("<div></div>")},e.prototype.getDatetimeNodes=function(){var t=this.config.Lang.toString(),e=s.TIME_FORMATS[t]||s.TIME_FORMATS.EN,n=s.TIME_LOCALES[t]||s.TIME_LOCALES.EN;return this.parseHTML("<div>"+s.DefaultStrftime(e.long,n)+"</div>")},e.prototype.InjectOptOutButton=function(){},e}(n.Integration);e.Comment=f}.apply(e,r))||(t.exports=i)},8943:(t,e,n)=>{var r,i;r=[n,e,n(8709),n(8686)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Integration=void 0;var i=function(){function t(t,e,n){this.minHeightAdChoiceIframe=200,this.minWidthAdChoiceIframe=300,this.ID_ADCHOICE_CSS="css-for-adchoice",this.config=t,this.UITrigger=e,this.injectedNodes=[],this.targetElement=n}return t.prototype.SetConfig=function(t){this.config=t},t.prototype.Execute=function(){},t.prototype.Refresh=function(){},t.prototype.GetInjectedNodes=function(){return this.injectedNodes},t.prototype.GetMainContentElement=function(){return this.mainContentElement},t.prototype.Remove=function(){for(var t,e=0;e<this.injectedNodes.length;e++)(t=this.injectedNodes[e]).parentNode.removeChild(t)},t.prototype.InjectOptOutButton=function(){var t=this.CreateOptOutButton();t&&this.mainContentElement.appendChild(t)},t.prototype.CreateOptOutButton=function(){var t,e,n=this,i=document.createElement("img");switch(this.config.Lang.toString()){case"FR":e="Suspendre le ciblage publicitaire Adyoulike";break;default:e="Opt out of Adyoulike ad targeting"}var o="15px";return i.setAttribute("src",null===(t=this.config.Content.Preview)||void 0===t?void 0:t.Credit.Logo.Resource.Data.External.Url),i.setAttribute("title",e),i.setAttribute("class","ayl_optout_button"),i.style.position="absolute",i.style.right="0",i.style.top="0",i.style.width=o,i.style.height=o,i.style.padding="5px",i.style.boxSizing="content-box",r.addClickListener(i,(function(t){if(n.adChoiceUrl=n.config.Content.Preview.Credit.Url,!n.isAdyoulikeADChoice(n.adChoiceUrl)||!n.canShowADChoice())return window.open(n.adChoiceUrl,"_blank"),void t.stopPropagation();var e="right";t.target instanceof Element&&(e=n.getSide(window.getComputedStyle(t.target))),n.showAdChoiceElement(e),t.stopPropagation()}),!0),i},t.prototype.getSide=function(t){return parseInt(t.getPropertyValue("right"),10)<parseInt(t.getPropertyValue("left"),10)?"right":"left"},t.prototype.composeAdChoice=function(t){var e=this,n=document.createElement("div"),i=document.createElement("iframe"),o=document.createElement("div");return n.className="ayl-adchoice-container",n.style.position="absolute","right"===t?n.style.right="5px":n.style.left="5px",n.style.top="5px",n.style.zIndex="10000000",n.style.backgroundColor="white",n.style.overflow="hidden",n.style.width="300px",n.style.height="200px",n.style.boxShadow="2px -2px 4px 1px rgba(168,168,168,0.51)",n.style.opacity="0",n.style.transition="opacity 0.6s ease-out",setTimeout((function(){n.style.opacity="1"}),0),this.adChoiceContainer=n,i.setAttribute("src",this.adChoiceUrl),i.style.width="100%",i.style.height="100%",i.style.border="none",o.innerText="×",o.style.position="absolute",o.style.right="2px",o.style.top="4px",o.style.width="20px",o.style.height="20px",o.style.lineHeight="20px",o.style.textAlign="center",r.addClickListener(o,(function(){e.mainContentElement.removeChild(n),event.stopPropagation()})),n.appendChild(i),n.appendChild(o),n},t.prototype.pauseAd=function(){return!1},t.prototype.resumeAd=function(){return!1},t.prototype.resizeAd=function(t,e,n){return!1},t.prototype.isAdyoulikeADChoice=function(t){return/omnitagjs.com/.test(t)},t.prototype.canShowADChoice=function(){return this.mainContentElement.offsetWidth>this.minWidthAdChoiceIframe&&this.mainContentElement.offsetHeight>this.minHeightAdChoiceIframe},t.prototype.showAdChoiceElement=function(t){this.mainContentElement.appendChild(this.composeAdChoice(t)),n.AddClass(this.adChoiceContainer,"expand")},t}();e.Integration=i}.apply(e,r))||(t.exports=i)},5165:(t,e,n)=>{var r,i;r=[n,e,n(4220),n(7614),n(6811)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericReader=void 0;var o=function(){function t(t){this.config=t}return t.prototype.getProperty=function(t){switch(t){case"descriptionlength":case"thumbnailwidth":case"thumbnailheight":return"0";case"sponsor":return"<div>"+this.config.AdDomain+"</div>";default:return n.logger.log(n.LogLevel.INFO,"Property could not be found : "+t),""}},t.prototype.getBooleanProperty=function(t){var e;switch(t){case"isvideoreduce":var n=this.config.DisplayMode===i.WidgetDisplayMode.STORY;return(null===(e=this.config.Content.MainVideo)||void 0===e?void 0:e.Reduce)&&!n;default:return null}},t.prototype.getStoryMode=function(){return this.config.Opener===r.Opener.INVIEW?"INVIEW":"NONE"},t.prototype.getImageContent=function(t){return""},t.prototype.getInviewUrl=function(t){var e,n=null===(e=this.config.Content.Banner)||void 0===e?void 0:e.Url;return!n&&this.config.Content.Landing&&(this.getProperty("description"),n=this.config.Content.Landing.InViewContentUrl||this.config.Content.Landing.Url),n},t.prototype.isLandingUrlSafe=function(t){var e,n;return this.config.Opener!==r.Opener.INVIEW||(!!(null===(e=this.config.Content.Landing)||void 0===e?void 0:e.InViewContentUrl)||null!==(null===(n=this.getProperty("description"))||void 0===n?void 0:n.match(/.*\[inviewurl=(.*)\]$/g)))},t}();e.GenericReader=o}.apply(e,r))||(t.exports=i)},6493:function(t,e,n){var r,i,o,a=n(6887),s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(1312),n(3420),n(2282),n(5738),n(2920),n(4220),n(4920),n(7545),n(7545)],void 0===(i=function(t,e,n,r,i,o,c,l,u,p,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InjectorEnvSponsorpost=e.InjectorEnv=void 0;var h=function(){function t(t){this._integrator=t,this.JQuery=a,this.config=this._integrator.config,this.Translation=n.Translation,this.NativeUITrigger=n.UITrigger,this.Uid="uid"+o.EscapeHTML(this.config.Attempt)}return t.prototype._run=function(){var t=this;window.AylInjectorEnv=window.AylInjectorEnv||{},window.AylInjectorEnv[this.Uid]=this,this.Html="\x3c!-- ayl_template_beacon_"+this.Uid+" --\x3e";var e=new Function("g","__break__",this._integrator.injector+"\nreturn __break__;"),n=new Object;if(e(this,n)===n){var r=(new Date).getTime(),i=function(){document.body.innerHTML.indexOf("ayl_template_beacon_"+t.Uid)>=0?t._integrator.InjectorSuccessCallback():(new Date).getTime()-r>=2e3?l.logger.log(l.LogLevel.WARNING,"InjectorEnv timeout."):setTimeout(i,200)};i()}},t.prototype.Template=function(t){switch(t){case n.Template.Remove:return'<a>    <div id="aylclose_'+this.Uid+'" style="background-image:url('+o.EscapeHTML(this.config.StaticPrefix)+'/./native/images/ayl_close.png);cursor:pointer;height:0.917em;width:0.917em;display:block;"></div></a>';case n.Template.Sponsor:var e='<div id="aylsponsor_'+this.Uid+'"';if(this.config.Content.Preview.Sponsor){var i="";this.config.HasSponsorImage&&this.config.Content.Preview.Sponsor.Logo?(i='<img  alt="'+o.EscapeHTML(this.config.Content.Preview.Sponsor.Name)+'" src="'+r.GetUrlFromResourceImage(this.config,this.config.Content.Preview.Sponsor.Logo.Resource)+'" style="display:inline;height:32px;width:32px !important;border:0;padding:0;margin:0 0.3em 0 0.3em;float:none;background:transparent;">',e+=' style="margin-top:-27px;margin-bottom:-20px;">'+this.Text(n.Translation.TranslationNativeSponsor)+i):(i=" "+o.EscapeHTML(this.config.Content.Preview.Sponsor.Name),e+=">"+this.Text(n.Translation.TranslationNativeSponsor)+i)}else e+=">"+this.Text(n.Translation.TranslationNativeSponsor);return e+="</div>",'<div style="display:inline;border:0;padding:0;margin:0;"><style type="text/css">#aylsponsor_'+this.Uid+"{{opacity:0.5;}} #aylsponsor_"+this.Uid+":hover{{opacity:1;}}</style>"+e+"</div>";default:return""}},t.prototype.UITrigger=function(t){var e;switch(t){case n.UITrigger.NativeUITriggerLoad:e=u.NativeUITrigger.LOAD;break;case n.UITrigger.NativeUITriggerClickArticle:e=u.NativeUITrigger.CLICK;break;case n.UITrigger.NativeUITriggerClickClose:e=u.NativeUITrigger.CLICK_CLOSE;break;case n.UITrigger.NativeUITriggerScroll:e=u.NativeUITrigger.SCROLL;break;case n.UITrigger.NativeUITriggerMouserOver:e=u.NativeUITrigger.CLICK;break;default:throw new Error("Trigger not implemented: "+e)}return this._integrator.UITrigger(e)},t.prototype.InlineUITrigger=function(t){return"if (typeof event !== &quot;undefined&quot; && event !== null && event.preventDefault) event.preventDefault();  AylInjectorEnv['"+this.Uid+"'].UITrigger(AylInjectorEnv['"+this.Uid+"'].NativeUITrigger.cast(&quot;"+t+"&quot;));"},t.prototype.Strftime=function(t,e){var n=""+this.config.Lang;return c.DefaultStrftime(t,c.TIME_LOCALES[n]||c.TIME_LOCALES.EN)},t.prototype.ImageUrl=function(t,e){var i,o;try{o=n.Image.cast(t)}catch(e){throw new Error("Unknown ImageKind "+t)}switch(o){case n.Image.ImageSponsor:i=this.config.Content.Preview.Sponsor.Logo.Resource;break;case n.Image.ImageThumbnail:i=this.config.Content.Preview.Thumbnail.Image;break;default:throw new Error("ImageKind not implemented :"+o)}return e.raw?r.GetUrlFromResourceImage(this.config,i):r.GetUrlDynamicImage(this.config,i,e.width,e.height,e.lowres)},t.prototype.Text=function(e,r){var i;switch(void 0===r&&(r={}),e){case n.Translation.TranslationNativeCallToAction:i=p.PreviewTranslation.CALLTOACTION.getValue(this.config.Content.Preview.Text,"");break;case n.Translation.TranslationNativeCategory:i=p.PreviewTranslation.CATEGORY.getValue(this.config.Content.Preview.Text,"");break;case n.Translation.TranslationNativeLegal:i=this.config.Legal;break;case n.Translation.TranslationNativeSponsor:i=p.PreviewTranslation.SPONSOR.getValue(this.config.Content.Preview.Text,"");break;case n.Translation.TranslationNativeDescription:i=p.PreviewTranslation.DESCRIPTION.getValue(this.config.Content.Preview.Text,"");break;case n.Translation.TranslationNativeSubtitle:i=p.PreviewTranslation.SUBTITLE.getValue(this.config.Content.Preview.Text,"");break;case n.Translation.TranslationNativeTitle:i=p.PreviewTranslation.TITLE.getValue(this.config.Content.Preview.Text,"");break;default:throw new Error("Translation not implemented :"+e)}return i=r.maxLength>0?t.Truncate({text:o.EscapeHTML(i),length:r.maxLength}):o.EscapeHTML(i),i=o.Superscript(i)},t.Truncate=function(t){for(var e=t.text.split("[BREAK]"),n=0,r=0,i=e.length;r<i;++r){if((n+=e[r].length)>t.length)return e.slice(0,r).join("")||e[0]}return e.join("")},t}();e.InjectorEnv=h;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.Text=function(t,e){switch(void 0===e&&(e={}),t){case n.Translation.TranslationNativeTitle:return o.EscapeHTML(d.SponsoTranslation.TITLE.getValue(this.config.Content.Sponso.Text,""));case n.Translation.TranslationNativeSponsor:return o.EscapeHTML(d.SponsoTranslation.SPONSOR.getValue(this.config.Content.Sponso.Text,""));case n.Translation.TranslationNativePostContent:return new i.Widget(d.SponsoTranslation.POSTCONTENT.getValue(this.config.Content.Sponso.Text,""),this.config).Text();default:throw new Error("Translation not implemented :"+t)}},e}(h);e.InjectorEnvSponsorpost=f}.apply(e,r))||(t.exports=i)},1312:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UITrigger=e.UITriggerKind=e.Image=e.ImageKind=e.ImageEnum=e.Translation=e.TranslationKind=e.Template=e.TemplateKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Remove=new i("REMOVE"),e.Sponsor=new i("SPONSOR"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.TemplateKind=i,e.Template=new r;var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TranslationNativeCallToAction=new s("CALLTOACTION"),e.TranslationNativeCategory=new s("CATEGORY"),e.TranslationNativeLegal=new s("LEGAL"),e.TranslationNativeSponsor=new s("SPONSOR"),e.TranslationNativeDescription=new s("DESCRIPTION"),e.TranslationNativeSubtitle=new s("SUBTITLE"),e.TranslationNativeTitle=new s("TITLE"),e.TranslationNativePostContent=new s("POSTCONTENT"),e}return a(e,t),e}(n.Enum),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.TranslationKind=s,e.Translation=new o;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ImageThumbnail=new l("NATIVE_THUMBNAIL"),e.ImageSponsor=new l("SPONSOR_LOGO"),e}return a(e,t),e}(n.Enum);e.ImageEnum=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.ImageKind=l,e.Image=new c;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NativeUITriggerLoad=new p("LOAD"),e.NativeUITriggerClickArticle=new p("CLICK"),e.NativeUITriggerClickClose=new p("CLICK_CLOSE"),e.NativeUITriggerScroll=new p("SCROLL"),e.NativeUITriggerMouserOver=new p("MOUSE_OVER"),e}return a(e,t),e}(n.Enum),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.UITriggerKind=p,e.UITrigger=new u}.apply(e,r))||(t.exports=i)},8307:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8943),n(6493),n(5738),n(4220),n(8686)],void 0===(i=function(t,e,n,r,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SponsorInjector=e.Injector=void 0;var c=function(t){function e(e,n,r){var a=t.call(this,e,n)||this;return a.InjectorSuccessCallback=function(){if(!a.loaded){for(var t="ayl_template_beacon_uid"+i.EscapeHTML(a.config.Attempt),e=document.getElementsByTagName("*"),n=void 0,r=void 0,o=0,s=e.length;o<s;o++)for(var c=0,l=(n=e[o].childNodes).length;c<l;c++)if(8===(r=n[c]).nodeType){var u=!1;try{u=!!(r.data&&r.data.indexOf(t)>=0)}catch(t){}if(u){for(var p=r.nextSibling;p&&1!==p.nodeType;)p=p.nextSibling;if(!p)throw new Error("Unable to find injected element for attempt "+i.EscapeHTML(a.config.Attempt));a.mainContentElement=p,a.injectedNodes=[p];break}}a.afterInject()}},a.injector=a.config.IntegrationConfig.Injector,a.afterInject=r,s.onDomReady((function(){if((""+window.location).match(/^[^:]+:\/\/([^\/]+\.)?omnitag(js|sb)\.com\.?(\/|$)/))throw new Error("Error, can't execute injector in omnitag domain");if((""+window.location).match(/^[^:]+:\/\/((?!demo|native\-generator|public|video|mobile|www|preview-)[^\/]+\.)?adyoulike\.(co\.)?[^.]+\.?(\/|$)/))throw new Error("Error, can't execute injector in adyoulike domain");document.body.innerHTML.indexOf("ayl_template_beacon_uid"+i.EscapeHTML(a.config.Attempt))>=0?o.logger.log(o.LogLevel.INFO,"Integration already inserted"):a.RunEnv()})),a}return a(e,t),e.prototype.Refresh=function(){this.mainContentElement.parentElement&&this.mainContentElement.parentElement.removeChild(this.mainContentElement),new r.InjectorEnv(this)._run()},e.prototype.RunEnv=function(){new r.InjectorEnv(this)._run()},e}(n.Integration);e.Injector=c;var l=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.injector=i.config.IntegrationConfig.SponsorInjector,i}return a(e,t),e.prototype.RunEnv=function(){new r.InjectorEnvSponsorpost(this)._run()},e}(c);e.SponsorInjector=l}.apply(e,r))||(t.exports=i)},386:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(5165)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SponsorInjectorConfigurationReader=e.InjectorConfigurationReader=void 0;var r=/(\(g.ImageUrl\("NATIVE_THUMBNAIL",(?:[\s]+)?{(?:[\s]+)?((?:width|height):(?:[\s]+)?([0-9]+)),(?:[\s]+)?((?:width|height):(?:[\s]+)?([0-9]+)),(?:[\s]+)?lowres:(?:[\s]+)?[a-z]+(?:[\s]+)?}\)\))/gm,i=/\(g\.Text\(g\.TranslationKind\.TranslationNativeDescription,(?:[\s]+)?{(?:[\s]+)?maxLength:(?:[\s]+)?([0-9]+)(?:[\s]+)?}\)\)/gm,o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.getProperty=function(e){switch(e){case"descriptionlength":return this.descriptionInfo?this.descriptionInfo[1]:"0";case"thumbnailwidth":return this.getThumbnailSize("width");case"thumbnailheight":return this.getThumbnailSize("height");default:return t.prototype.getProperty.call(this,e)}},e.prototype.getThumbnailSize=function(t){return!this.thumbnailInfo||"width"!==t&&"height"!==t?"0":-1!==this.thumbnailInfo[2].indexOf(t)?this.thumbnailInfo[3]:this.thumbnailInfo[5]},e}(n.GenericReader),s=function(t){function e(e){var n=t.call(this,e)||this;return n.injector=e.IntegrationConfig.Injector,n.descriptionInfo=i.exec(n.injector),n.thumbnailInfo=r.exec(n.injector),n}return a(e,t),e}(o);e.InjectorConfigurationReader=s;var c=function(t){function e(e){var n=t.call(this,e)||this;return n.injector=e.IntegrationConfig.SponsorInjector,n.descriptionInfo=i.exec(n.injector),n.thumbnailInfo=r.exec(n.injector),n}return a(e,t),e}(o);e.SponsorInjectorConfigurationReader=c}.apply(e,r))||(t.exports=i)},3808:(t,e,n)=>{var r,i,o=n(7017);r=[n,e,n(4220),n(5573),n(246),n(7760),n(7615),n(3910),n(171),n(3827),n(7614),n(4155),n(8307),n(5633),n(9509),n(6811),n(5850)],void 0===(i=function(t,e,n,r,i,a,s,c,l,u,p,d,h,f,g,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Load=void 0,e.Load=function(t,e,v,E){var b=new o((function(o,T){var w;if(e.Opener===p.Opener.INVIEW){var _={Url:l.ConfigurationReader.getInviewUrl(e.Attempt),ADM:"",Width:0,Height:0};t===r.NativeIntegration.WIDGET&&e.DisplayMode!==m.WidgetDisplayMode.STORY&&(_=Object.assign(_,e.IntegrationConfig.Widget.Placeholders.Size)),e.Content.Banner=_,t=r.NativeIntegration.WIDGET}if(e.DisplayMode===m.WidgetDisplayMode.VIDEO)return n.logger.log(n.LogLevel.INFO,"Init display mode : VIDEO"),o(new g.Widget169(e,v,E)),b;switch(n.logger.log(n.LogLevel.INFO,"Init integration : "+t),t){case r.NativeIntegration.NONE:w=new u.None(e,v,E),o(w);break;case r.NativeIntegration.COMMENT:w=new c.Comment(e,v,E),o(w);break;case r.NativeIntegration.TEMPLATE:if(e.Content.Banner){var S=new i.Banner(e,v,E);o(S)}else w=new f.Template(e,v,E),o(w);break;case r.NativeIntegration.SPONSOR_COMMENT:w=new c.Comment(e,v,E),o(w);break;case r.NativeIntegration.SPONSOR_INJECTOR:w=new h.SponsorInjector(e,v,(function(){o(w)}));break;case r.NativeIntegration.WIDGET:if(e.Content.Banner&&s.CliprInterface.isCliprIntegration(e)){S=new a.CliprBanner(e,v,E);o(S)}else if(e.Content.Banner&&e.DisplayMode!==m.WidgetDisplayMode.STORY){S=new i.Banner(e,v,E);o(S)}else y.getWidget(e,v,E).then((function(t){o(t)}));break;case r.NativeIntegration.PREMIUM:w=new d.Premium(e,v),o(w);break;default:T("Unknown : "+t)}}));return b}}.apply(e,r))||(t.exports=i)},3827:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8943)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.None=void 0;var r=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.mainContentElement=document.body,i.injectedNodes=[],i}return a(e,t),e.prototype.InjectOptOutButton=function(){},e}(n.Integration);e.None=r}.apply(e,r))||(t.exports=i)},9653:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_MAIN_ELEMENT_DISPLAY_MODE=e.DEFAULT_IMAGE_HEIGHT=e.DEFAULT_IMAGE_WIDTH=e.DEFAULT_DESCRIPTION_LENGTH=e.SPONSOR_WITHOUT_IMG=e.IMAGE_LOW_RESOLUTION_ATTR=e.IMAGE_RAW_ATTR=e.IMAGE_HEIGHT_ATTR=e.IMAGE_WIDTH_ATTR=e.DESCRIPTION_LENGTH_ATTR=e.MAIN_ELEMENT_DISPLAY_MODE_ATTR=e.ACTION_REMOVE_CLASS=e.ACTION_CLICK_CLASS=e.SPONSOR_CLASS=e.LEGAL_CLASS=e.CTA_CLASS=e.IMAGE_CLASS=e.DESCRIPTION_CLASS=e.TITLE_CLASS=e.CONTENT_PREFIX=e.ATTR_PREFIX=void 0,e.ATTR_PREFIX="data-ayl-attr-",e.CONTENT_PREFIX="ayl-p-content-",e.TITLE_CLASS=e.CONTENT_PREFIX+"title",e.DESCRIPTION_CLASS=e.CONTENT_PREFIX+"description",e.IMAGE_CLASS=e.CONTENT_PREFIX+"image",e.CTA_CLASS=e.CONTENT_PREFIX+"cta",e.LEGAL_CLASS=e.CONTENT_PREFIX+"legal",e.SPONSOR_CLASS=e.CONTENT_PREFIX+"sponsor",e.ACTION_CLICK_CLASS=e.CONTENT_PREFIX+"action-click",e.ACTION_REMOVE_CLASS=e.CONTENT_PREFIX+"action-remove",e.MAIN_ELEMENT_DISPLAY_MODE_ATTR=e.ATTR_PREFIX+"main-element-display-mode",e.DESCRIPTION_LENGTH_ATTR=e.ATTR_PREFIX+"description-length",e.IMAGE_WIDTH_ATTR=e.ATTR_PREFIX+"image-width",e.IMAGE_HEIGHT_ATTR=e.ATTR_PREFIX+"image-height",e.IMAGE_RAW_ATTR=e.ATTR_PREFIX+"image-raw",e.IMAGE_LOW_RESOLUTION_ATTR=e.ATTR_PREFIX+"image-low-resolution",e.SPONSOR_WITHOUT_IMG=e.ATTR_PREFIX+"sponsor-without-img",e.DEFAULT_DESCRIPTION_LENGTH=200,e.DEFAULT_IMAGE_WIDTH=250,e.DEFAULT_IMAGE_HEIGHT=250,e.DEFAULT_MAIN_ELEMENT_DISPLAY_MODE="block"}.apply(e,[n,e]))||(t.exports=r)},4155:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8943),n(3452),n(3593),n(4920)],void 0===(i=function(t,e,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Premium=void 0;var s=function(t){function e(e,n){return t.call(this,e,n)||this}return a(e,t),e.prototype.fillTemplate=function(){var t=this,e=document.querySelector(r.MakeMainSelector(this.config));if(!e)throw new Error("No main element for integration PREMIUM for placement: "+this.config.Placement);return i.Fill(this.config,e),i.addClickAction((function(){t.UITrigger(o.NativeUITrigger.CLICK)})),i.addRemoveAction((function(){t.UITrigger(o.NativeUITrigger.CLICK_CLOSE)})),e},e.prototype.Refresh=function(){this.Execute()},e.prototype.Execute=function(){this.mainContentElement=this.fillTemplate(),this.injectedNodes=[this.mainContentElement]},e}(n.Integration);e.Premium=s}.apply(e,r))||(t.exports=i)},605:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(9653),n(3420),n(5738),n(5165),n(7545)],void 0===(i=function(t,e,n,r,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PremiumConfigurationReader=void 0;var c=function(t){function e(e){var n=t.call(this,e)||this;return n.mainElement=n.fetchElement("",document.querySelector(n.getProperty("mainselector"))),n.imageElement=n.fetchImage(),n.descriptionElement=n.fetchDescription(),n}return a(e,t),e.prototype.getProperty=function(e){switch(e){case"mainselector":return"#"+n.CONTENT_PREFIX+this.config.Placement;case"titleselector":return this.getProperty("mainselector")+" ."+n.TITLE_CLASS;case"descriptionselector":return this.getProperty("mainselector")+" ."+n.DESCRIPTION_CLASS;case"imageselector":return this.getProperty("mainselector")+" ."+n.IMAGE_CLASS;case"ctaselector":return this.getProperty("mainselector")+" ."+n.CTA_CLASS;case"legalselector":return this.getProperty("mainselector")+" ."+n.LEGAL_CLASS;case"sponsorselector":return this.getProperty("mainselector")+" ."+n.SPONSOR_CLASS;case"clickselector":return this.getProperty("mainselector")+" ."+n.ACTION_CLICK_CLASS+","+this.getProperty("mainselector")+"."+n.ACTION_CLICK_CLASS;case"removeselector":return this.getProperty("mainselector")+" ."+n.ACTION_REMOVE_CLASS;case"image":return this.getImageContent();case"calltoaction":return s.PreviewTranslation.CALLTOACTION.getValue(this.config.Content.Preview.Text);case"description":return s.PreviewTranslation.DESCRIPTION.getValue(this.config.Content.Preview.Text);case"descriptionlength":return""+this.descriptionElement.Attributes.Length;case"displaymode":return this.mainElement.Attributes[n.MAIN_ELEMENT_DISPLAY_MODE_ATTR]||"";case"legal":return this.config.Legal;case"sponsor":return this.getSponsorContent();case"title":return s.PreviewTranslation.TITLE.getValue(this.config.Content.Preview.Text);case"thumbnailwidth":return""+this.imageElement.Attributes.Width;case"thumbnailheight":return""+this.imageElement.Attributes.Height;default:return t.prototype.getProperty.call(this,e)}},e.prototype.getImageContent=function(){var t=this.imageElement.Attributes.Width,e=this.imageElement.Attributes.Height,n=this.imageElement.Attributes.LowRes,i=this.config.Content.Preview.Thumbnail.Image;return r.GetUrlDynamicImage(this.config,i,t,e,n)},e.prototype.getSponsorContent=function(){var t="";if(this.config.Content.Preview.Sponsor)if(t=s.PreviewTranslation.SPONSOR.getValue(this.config.Content.Preview.Text,""),this.config.HasSponsorImage&&this.config.Content.Preview.Sponsor.Logo){t+=' <img src="'+r.GetUrlFromResourceImage(this.config,this.config.Content.Preview.Sponsor.Logo.Resource)+'" style="max-width:100px;max-height:50px;vertical-align:middle;">'}else t+=" "+i.EscapeHTML(this.config.Content.Preview.Sponsor.Name);return t},e.prototype.fetchElement=function(t,e){if(!e&&t&&(e=document.querySelector(t)),e){for(var r={},i=0;i<e.attributes.length;i++){var o=e.attributes[i],a=o.nodeName.split(n.ATTR_PREFIX);2===a.length&&(r[n.ATTR_PREFIX+a[1]]=o.nodeValue)}return{Element:e,Attributes:r}}},e.prototype.fetchImage=function(){var t=this.fetchElement(this.getProperty("imageselector"));if(t){var e=t.Attributes[n.IMAGE_WIDTH_ATTR],r=t.Attributes[n.IMAGE_HEIGHT_ATTR],i=t.Attributes[n.IMAGE_LOW_RESOLUTION_ATTR],o=e?parseInt(e,10):n.DEFAULT_IMAGE_WIDTH,a=r?parseInt(r,10):n.DEFAULT_IMAGE_HEIGHT,s=!(!i||"true"!==i.toLowerCase());return{Element:t.Element,Attributes:{Width:o,Height:a,LowRes:s}}}},e.prototype.fetchDescription=function(){var t=this.fetchElement(this.getProperty("descriptionselector"));if(t){var e=t.Attributes[n.DESCRIPTION_LENGTH_ATTR],r=e?parseInt(e,10):n.DEFAULT_DESCRIPTION_LENGTH;return{Element:t.Element,Attributes:{Length:r}}}},e}(o.GenericReader);e.PremiumConfigurationReader=c}.apply(e,r))||(t.exports=i)},3452:(t,e,n)=>{var r,i;r=[n,e,n(9653),n(3593),n(4220)],void 0===(i=function(t,e,n,r,i){"use strict";function o(t){return"#"+r.MakeMainContentId(t)}function a(t){return o(t)+" ."+n.TITLE_CLASS}function s(t){return o(t)+" ."+n.IMAGE_CLASS}function c(t){return o(t)+" ."+n.ACTION_CLICK_CLASS+","+o(t)+"."+n.ACTION_CLICK_CLASS}Object.defineProperty(e,"__esModule",{value:!0}),e.CheckSelector=e.MakeActionRemoveSelector=e.MakeActionClickSelector=e.MakeSponsorSelector=e.MakeLegalSelector=e.MakeCtaSelector=e.MakeImageSelector=e.MakeDescriptionSelector=e.MakeTitleSelector=e.MakeMainSelector=void 0,e.MakeMainSelector=o,e.MakeTitleSelector=a,e.MakeDescriptionSelector=function(t){return o(t)+" ."+n.DESCRIPTION_CLASS},e.MakeImageSelector=s,e.MakeCtaSelector=function(t){return o(t)+" ."+n.CTA_CLASS},e.MakeLegalSelector=function(t){return o(t)+" ."+n.LEGAL_CLASS},e.MakeSponsorSelector=function(t){return o(t)+" ."+n.SPONSOR_CLASS},e.MakeActionClickSelector=c,e.MakeActionRemoveSelector=function(t){return o(t)+" ."+n.ACTION_REMOVE_CLASS},e.CheckSelector=function(t,e,n){for(var r=[o(t),a(t),s(t),c(t)],l=0;l<r.length;l++)if(!document.querySelector(r[l]))return i.logger.log(i.LogLevel.INFO,"missing selector "+r[l]),void n();e()}}.apply(e,r))||(t.exports=i)},3593:(t,e,n)=>{var r,i;r=[n,e,n(9653),n(5738),n(171),n(8686)],void 0===(i=function(t,e,n,r,i,o){"use strict";function a(t,e){var r=i.ConfigurationReader.getProperty("displaymode").toLowerCase();switch(r){case"inline":case"block":case"flex":case"inline-block":case"inline-flex":case"inline-table":case"list-item":case"none":case"initial":case"inherit":e.style.display=r;break;default:e.style.display=n.DEFAULT_MAIN_ELEMENT_DISPLAY_MODE}}function s(t){var e=document.querySelector(i.ConfigurationReader.getProperty("titleselector"));e&&(e.innerHTML=i.ConfigurationReader.getProperty("title"))}function c(t){var e=document.querySelector(i.ConfigurationReader.getProperty("descriptionselector"));if(e){var n=i.ConfigurationReader.getProperty("description"),o=parseInt(i.ConfigurationReader.getProperty("descriptionlength"),10);e.innerHTML=r.ChunkText(n,o)}}function l(t){var e=document.querySelector(i.ConfigurationReader.getProperty("imageselector"));if(e){var n=i.ConfigurationReader.getProperty("image"),r=document.createElement("img");e.nodeName!==r.nodeName?(r.src=n,r.setAttribute("width","100%"),r.setAttribute("height","100%"),e.appendChild(r)):e.src=n}}function u(t){var e=document.querySelector(i.ConfigurationReader.getProperty("ctaselector"));e&&(e.innerHTML=i.ConfigurationReader.getProperty("calltoaction"))}function p(t){var e=document.querySelector(i.ConfigurationReader.getProperty("legalselector"));e&&(e.innerHTML=i.ConfigurationReader.getProperty("legal"))}function d(t){var e=document.querySelector(i.ConfigurationReader.getProperty("sponsorselector"));if(e){var n=i.ConfigurationReader.getProperty("sponsor");e.innerHTML=n}}Object.defineProperty(e,"__esModule",{value:!0}),e.addRemoveAction=e.addClickAction=e.Fill=e.MakeMainContentId=void 0,e.MakeMainContentId=function(t){return function(t){return n.CONTENT_PREFIX+t.Placement}(t)},e.Fill=function(t,e){for(var n=[a,s,c,l,u,p,d],r=0;r<n.length;r++)n[r](t,e)},e.addClickAction=function(t){var e=document.querySelector(i.ConfigurationReader.getProperty("clickselector"));e&&o.addClickListener(e,(function(){t()}))},e.addRemoveAction=function(t){var e=document.querySelector(i.ConfigurationReader.getProperty("removeselector"));e&&o.addClickListener(e,(function(){t()}))}}.apply(e,r))||(t.exports=i)},5633:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8943),n(4073),n(4220),n(4920),n(171),n(6322),n(7005),n(8709),n(8686),n(8039)],void 0===(i=function(t,e,n,r,i,o,s,c,l,u,p,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Template=void 0;var h=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.Uid=i.config.Attempt,i.templateIntegration=i.config.IntegrationConfig.Template,i.kind="TEMPLATE",i}return a(e,t),e.prototype.makeTemplate=function(){var t,e;if(this.config.Content.Preview.Text&&this.config.Content.Preview.Thumbnail){var n=s.ConfigurationReader.fillHTML(this.config.IntegrationConfig.Template.Html||'<div id="{{uid}}" style="text-align:center;"> <img src="{{image}}"> <div> <h2>{{title}} </h3> <p>{{description}} </p> <p>{{legal}} <span><b>{{calltoaction}}</b></span> </p> </div></div>');e=(e=n).replace(/[®™©]/g,(function(t){return t})),t=u.ParseHTML(e)[0]}return this.insertStyleSheet("StyleSheet",t.getAttribute("id")),t},e.prototype.insertStyleSheet=function(t,e){var n=this.templateIntegration[t];if(n=n?s.ConfigurationReader.fillHTML(n):"",e){var r=s.ConfigurationReader.getProperty("sizewidth"),i=s.ConfigurationReader.getProperty("sizeheight");r&&(n=" #"+e+" { width:"+r+"; height:"+i+"; } \n"+n)}var o=document.createElement("style"),a=document.createTextNode(n);o.appendChild(a),window.document.head.appendChild(o)},e.prototype.Trigger=function(t){this.UITrigger(o.NativeUITrigger.cast(t))},e.prototype.Refresh=function(){var t,e=this,n=this.makeTemplate();null===(t=this.nativeTemplate.parentNode)||void 0===t||t.replaceChild(n,this.nativeTemplate),this.nativeTemplate=n,this.templateIntegration.ClickFormat&&(p.addClickListener(this.nativeTemplate,(function(){e.Trigger("CLICK")})),this.nativeTemplate.style.cursor="pointer"),this.mainContentElement=this.nativeTemplate,this.injectedNodes=[this.nativeTemplate]},e.prototype.Execute=function(){var t=this,e="\x3c!-- ayl_template_beacon_uid"+this.Uid+" --\x3e";if(document.body.innerHTML.indexOf(e)>=0)i.logger.log(i.LogLevel.INFO,"Integration already inserted");else{if(window.AylTemplateEnv=window.AylInjectorEnv||{},window.AylTemplateEnv[this.Uid]=this,this.nativeTemplate=this.makeTemplate(),this.targetElement)this.targetElement.appendChild(this.nativeTemplate);else if(this.templateIntegration.Selector){var n=r.QuerySelector(this.config,this.templateIntegration.Selector);if(n)switch(n&&n.parentNode&&"HEAD"===n.parentNode.tagName&&(n=document.body,this.templateIntegration.Insertion=l.IntegrationInsertion.APPEND),this.templateIntegration.Insertion){case l.IntegrationInsertion.BEFORE:n.insertAdjacentElement("beforebegin",this.nativeTemplate),this.nativeTemplate=n.previousSibling;break;case l.IntegrationInsertion.PREPEND:this.nativeTemplate=n.insertBefore(this.nativeTemplate,n.firstChild);break;case l.IntegrationInsertion.APPEND:this.nativeTemplate=n.appendChild(this.nativeTemplate);break;case l.IntegrationInsertion.AFTER:var o=n.nextSibling,a=n.parentNode;this.nativeTemplate=n&&o?a.insertBefore(this.nativeTemplate,o):a.appendChild(this.nativeTemplate);break;case l.IntegrationInsertion.REPLACE:n.parentNode.replaceChild(this.nativeTemplate,n);break;default:throw new Error("Unknown IntegrationInsertion "+this.templateIntegration.Insertion.toString())}}if("WIDGET"!==this.kind||this.nativeTemplate||(this.nativeTemplate=document.querySelector("#ayl_"+this.Uid)),!this.nativeTemplate.parentElement&&c.InIframe()&&document.body.appendChild(this.nativeTemplate),this.templateIntegration.ClickFormat&&(p.addClickListener(this.nativeTemplate,(function(e){t.Trigger("CLICK"),e.stopPropagation()}),!1),this.nativeTemplate.style.cursor="pointer"),this.nativeTemplate.insertAdjacentHTML("beforebegin",e),this.mainContentElement=this.nativeTemplate,this.injectedNodes=[this.nativeTemplate],!this.config.Content.Banner){var s=window.getComputedStyle(this.mainContentElement).getPropertyValue("position");"absolute"!==s&&"fixed"!==s&&(this.mainContentElement.style.position="relative")}var u=this.mainContentElement.querySelector("#ayl-img")||this.mainContentElement.querySelector('img[src*="#mainImage=true"], [style*="#mainImage=true"]');u&&(u.offsetHeight>0?this.mainContentElement.dispatchEvent(d.createNewEvent("resize")):u.addEventListener("load",(function(){t.mainContentElement.dispatchEvent(d.createNewEvent("resize"))})))}},e.prototype.InjectOptOutButton=function(){var t=this.CreateOptOutButton();t&&this.nativeTemplate.appendChild(t)},e}(n.Integration);e.Template=h}.apply(e,r))||(t.exports=i)},5890:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(3420),n(5738),n(2920),n(5165),n(7545),n(6322)],void 0===(i=function(t,e,n,r,i,o,s,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateConfigurationReader=void 0;var l=function(t){function e(e){var n=t.call(this,e)||this;return n.integration=e.IntegrationConfig.Template,n}return a(e,t),e.prototype.fillHTML=function(t){var e=t.match(/{{([a-zA-Z\_]+)}}/g);if(e)for(var n=0;n<e.length;n++){var r=e[n],i=r.substring(2,r.length-2).toLowerCase();t=t.replace(r,this.getProperty(i))}return t},e.prototype.getProperty=function(e){var i,o,a;switch(e){case"title":return r.EscapeHTML(s.PreviewTranslation.TITLE.getValue(null===(i=this.config.Content.Preview)||void 0===i?void 0:i.Text));case"legal":return r.EscapeHTML(this.config.Legal);case"image":return this.getImageContent()+"#mainImage=true";case"calltoaction":return r.EscapeHTML(s.PreviewTranslation.CALLTOACTION.getValue(null===(o=this.config.Content.Preview)||void 0===o?void 0:o.Text,"See More"));case"description":return this.getDescriptionContent();case"descriptionlength":return this.getDescriptionLength();case"remove":return this.getRemoveContent();case"sponsor":return this.getSponsorContent()||t.prototype.getProperty.call(this,"sponsor");case"raw_sponsor":return this.getRawSponsorContent();case"now":return this.getStrftime();case"uid":return"ayl_"+this.config.Attempt;case"fontfamily":return this.getFont();case"titlecolor":return this.getColor(this.integration.Placeholders.Title.Color);case"bodycolor":return this.getColor(this.integration.Placeholders.Body.Color);case"bodybackgroundcolor":return this.getColor(this.integration.Placeholders.Body.BackgroundColor);case"boxshadow":return this.getBoxShadow();case"bodywidth":return this.getBodyWidth();case"thumbnailwidth":return this.getThumbnailSize("Width");case"thumbnailheight":return this.getThumbnailSize("Height");case"sizewidth":return this.getSize("Width");case"sizeheight":return this.getSize("Height");case"bodyalign":return this.getBodyAlign();case"calltoactioncolor":return this.getColor(this.integration.Placeholders.CallToAction.Color);case"sponsorcolor":return this.getColor(this.integration.Placeholders.Sponsor.Color);case"logo":var c=(null===(a=this.config.Content.Preview)||void 0===a?void 0:a.Sponsor)||{};return c.Logo?n.GetUrlFromResourceImage(this.config,c.Logo.Resource):"";case"action_close":return this.getActionClickContent("CLICK_CLOSE");case"action_click":return this.getActionClickContent("CLICK");case"addomain":return this.config.AdDomain||"";case"opener":var l=this.config.Opener.toString();return l?"ayl-"+l.toLowerCase():"";default:return t.prototype.getProperty.call(this,e)}},e.prototype.getImageContent=function(t){var e,r,i,o;if(null===(r=null===(e=this.integration)||void 0===e?void 0:e.Placeholders)||void 0===r?void 0:r.Image){var a=t&&"number"==typeof t.width?t.width:this.integration.Placeholders.Image.Width,s=t&&"number"==typeof t.height?t.height:this.integration.Placeholders.Image.Height,c=null===(o=null===(i=this.config.Content.Preview)||void 0===i?void 0:i.Thumbnail)||void 0===o?void 0:o.Image,l=this.integration.Placeholders.Image.Lowres;return n.GetUrlDynamicImage(this.config,c,a,s,l)}return null},e.prototype.getDescriptionContent=function(){var t,e,n="",i="";if(this.config.Content.Preview){var o=this.config.Content.Preview.Text,a=null==(n=r.ChunkText(r.EscapeHTML(s.PreviewTranslation.DESCRIPTION.getValue(o)),null===(t=this.integration.Placeholders.Description)||void 0===t?void 0:t.Length))?void 0:n.match(/(.*)\[inviewurl=(.*)\]$/);a&&(n=a[1],i=a[2]),i&&!(null===(e=this.config.Content.Landing)||void 0===e?void 0:e.InViewContentUrl)&&(this.config.Content.Landing?this.config.Content.Landing.InViewContentUrl=i:this.config.Content.Landing={InViewContentUrl:i,Url:"",LegacyTracking:!1})}return n},e.prototype.getDescriptionLength=function(){var t=0;return this.integration.Placeholders.Description&&(t=this.integration.Placeholders.Description.Length),""+t},e.prototype.getRemoveContent=function(){return'<a onclick="'+this.getActionClickContent("CLICK_CLOSE")+'"><div style="background-image:url('+r.EscapeHTML(this.config.StaticPrefix)+'/./native/images/ayl_close.png);cursor:pointer;height:0.917em;width:0.917em;display:block;"></div></a>'},e.prototype.getActionClickContent=function(t){return this.integration.ClickFormat?"":"if (typeof event !== &quot;undefined&quot; && event !== null && event.preventDefault) event.preventDefault(); event.stopPropagation(); window.AylTemplateEnv[&quot;"+this.config.Attempt+"&quot;].Trigger(&quot;"+t+"&quot;);"},e.prototype.getSponsorContent=function(){var t,e,i="",o=null===(t=this.config.Content.Preview)||void 0===t?void 0:t.Sponsor;if(o){var a=r.EscapeHTML(o.Name),s=o.Logo;if(c.isCreative21(this.config)||!this.config.HasSponsorImage||!s||this.integration.Placeholders.Sponsor&&this.integration.Placeholders.Sponsor.WithoutLogo)a&&(i+=this.getSponsorText()+" "+a);else{var l='<img  alt="'+a+'" src="'+n.GetUrlFromResourceImage(this.config,null===(e=this.config.Content.Preview)||void 0===e?void 0:e.Sponsor.Logo.Resource)+'" style="display:inline;height: 32px;max-height: 32px;width: 32px;max-width: 32px;vertical-align: middle;border:0;padding:0;margin:0 0.3em 0 0.3em;float:none;background:transparent;">';i+=this.getSponsorText()+" "+l}}else i+=this.getSponsorText();return i?"<div class='ayl_native_template_credit'>"+i+"</div>":""},e.prototype.getSponsorText=function(){var t,e;return this.integration.Placeholders.Sponsor?this.integration.Placeholders.Sponsor.Label?"":r.EscapeHTML(s.PreviewTranslation.SPONSOR.getValue(null===(t=this.config.Content.Preview)||void 0===t?void 0:t.Text,"")):r.EscapeHTML(s.PreviewTranslation.SPONSOR.getValue(null===(e=this.config.Content.Preview)||void 0===e?void 0:e.Text,""))},e.prototype.getRawSponsorContent=function(){var t;return this.getSponsorText()+" "+r.EscapeHTML(null===(t=this.config.Content.Preview)||void 0===t?void 0:t.Sponsor.Name)},e.prototype.getStrftime=function(){var t,e=""+this.config.Lang;return i.DefaultStrftime(null===(t=this.integration.Placeholders.Now)||void 0===t?void 0:t.Format,i.TIME_LOCALES[e]||i.TIME_LOCALES.EN)},e.prototype.getFont=function(){return this.integration.Placeholders.Body.FontFamily},e.prototype.getColor=function(t){return t?"rgba("+t.R+","+t.G+","+t.B+","+t.A/100+")":"rgba(255, 255, 255, 100%)"},e.prototype.getBoxShadow=function(){return this.integration.Placeholders.Body.BoxShadow?"0px 0px 10px rgba(34,34,34,.2)":""},e.prototype.getBodyWidth=function(){return this.integration.Placeholders.Body.Width?this.integration.Placeholders.Body.Width:"100%"},e.prototype.getThumbnailSize=function(t){var e,n=this.integration.Placeholders?this.integration.Placeholders.Size:null;switch(t){case"Width":e=300;break;case"Height":e=250;break;default:return""}if(n&&("string"!=typeof n[t]||!n[t].endsWith("%"))){var r=parseInt(n[t],10);isNaN(r)||(e=r)}return""+e},e.prototype.getSize=function(t){var e;if("Width"!==t&&"Height"!==t)return"";var n=(null===(e=this.integration.Placeholders)||void 0===e?void 0:e.Size)||[];return n[t]?n[t]:""},e.prototype.getBodyAlign=function(){return this.integration.Placeholders.Body&&this.integration.Placeholders.Body.Align?this.integration.Placeholders.Body.Align:"margin: auto;"},e}(o.GenericReader);e.TemplateConfigurationReader=l}.apply(e,r))||(t.exports=i)},4503:(t,e,n)=>{var r,i;r=[n,e,n(4073),n(3452),n(5573)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkIntegration=void 0,e.checkIntegration=function(t,e,o){switch(t.IntegrationConfig.Kind){case i.NativeIntegration.TEMPLATE:n.CheckSelector(t,t.IntegrationConfig.Template.Selector,(function(){e()}),(function(){o()}));break;case i.NativeIntegration.WIDGET:n.CheckSelector(t,t.IntegrationConfig.Widget.Selector,(function(){e()}),(function(){o()}));break;case i.NativeIntegration.PREMIUM:r.CheckSelector(t,(function(){e()}),(function(){o()}));break;case i.NativeIntegration.COMMENT:case i.NativeIntegration.SPONSOR_COMMENT:case i.NativeIntegration.SPONSOR_INJECTOR:case i.NativeIntegration.NONE:e();break;default:throw new Error("CheckIntegration: Integration not implemented for kind:"+t.IntegrationConfig.Kind.toString())}}}.apply(e,r))||(t.exports=i)},9509:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8819),n(171)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget169=void 0;var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transitionString="transform 6s ease",e.fontSizeScale=1,e.baseWidth=730,e}return a(e,t),e.prototype.makeTemplate=function(){var e=t.prototype.makeTemplate.call(this);return this.element.style.width="100%",this.element.style.height="100%",e},e.prototype.addHTMLElements=function(){t.prototype.addHTMLElements.call(this);var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="rgba(0,0,0,0.5)",this.backgroundContainer.appendChild(e),this.imgStyle=this.imageContainer.style,this.imgStyle.position="absolute",this.imgStyle.width="60%",this.imgStyle.marginBottom="86px",this.imgStyle.right="0px",this.imgStyle.overflow="hidden",this.element.appendChild(this.imageContainer);var n=document.createElement("div");this.textsStyle=n.style,this.textsStyle.position="absolute",this.textsStyle.display="flex",this.textsStyle.flexDirection="column",this.textsStyle.justifyContent="space-between",this.textsStyle.left="5%",this.textsStyle.width="30%",this.textsStyle.color="white",n.appendChild(this.title),n.appendChild(this.description);var r=document.createElement("div");r.appendChild(this.cta),n.appendChild(r),this.element.appendChild(n)},e.prototype.createMainContainer=function(){t.prototype.createMainContainer.call(this);var e=this.element.style;e.fontFamily="Arial, Helvetica, sans-serif",e.overflow="hidden"},e.prototype.createTitle=function(){t.prototype.createTitle.call(this);var e=this.title.style;e.textOverflow="",e.overflow="",e.whiteSpace="",e.fontWeight="bold",this.titleStyle=e},e.prototype.createDescription=function(){t.prototype.createDescription.call(this),this.descStyle=this.description.style,this.descStyle.display="-webkit-box",this.descStyle.overflow="hidden",this.descStyle["-webkit-box-orient"]="vertical",this.descStyle["-webkit-line-clamp"]="5",this.descStyle.textOverflow="ellipsis"},e.prototype.createCTA=function(){t.prototype.createCTA.call(this);var e=this.cta.style;e.display="inline-block",e.left="0px",e.textOverflow="ellipsis",e.whiteSpace="nowrap",e.color="white",e.backgroundColor="#059FFF",e.textTransform="initial",e.fontWeight="bold",e.boxSizing="initial",this.ctaStyle=e},e.prototype.createImage=function(){t.prototype.createImage.call(this);var e=this.image.style;e.backgroundSize="",e.backgroundRepeat="no-repeat",e.backgroundPosition="center",e.transition=this.transitionString,e.transform="scale(1)"},e.prototype.CreateOptOutButton=function(){var e=t.prototype.CreateOptOutButton.call(this),n=e.style;return n.position="absolute",n.right="8px",n.top="8px",n.width="21px",n.height="21px",n.padding="0px",e},e.prototype.start=function(){var e=this;t.prototype.start.call(this),setTimeout((function(){e.image.style.backgroundImage="url("+r.ConfigurationReader.getImageContent({width:e.image.offsetWidth,height:0},e.config.Attempt)+")",e.image.style.transform="scale(1.2)"}),0)},e.prototype.pauseAd=function(){var t=this.image.style;if(!this.pausedTransform){var e=window.getComputedStyle(this.image);return this.pausedTransform=e.transform,t.transition="",t.transform=this.pausedTransform,!0}return!1},e.prototype.resumeAd=function(){var t=this.image.style;return!!this.pausedTransform&&(t.transition=this.transitionString,t.transform="scale(1.2)",this.pausedTransform="",!0)},e.prototype.resizeAd=function(t,e,n){return this.adjustStyle(t),!0},e.prototype.adjustStyle=function(t){this.fontSizeScale=t/this.baseWidth,this.ctaStyle.fontSize=Math.max(this.scaleSize(18),10)+"px",this.ctaStyle.height=this.scaleSize(45)+"px",this.ctaStyle.lineHeight=this.scaleSize(45)+"px",this.ctaStyle.borderRadius=this.scaleSize(22)+"px",this.ctaStyle.padding="0px "+this.scaleSize(40)+"px",this.ctaStyle.margin=this.scaleSize(20)+"px 0px "+this.scaleSize(10)+"px 0px",this.descStyle.fontSize=Math.max(this.scaleSize(16),10)+"px",this.descStyle.lineHeight=Math.max(this.scaleSize(23),11)+"px",this.descStyle.margin=this.scaleSize(10)+"px 0px",this.titleStyle.fontSize=this.scaleSize(26)+"px",this.titleStyle.margin=this.scaleSize(10)+"px 0px";var e=Math.min(this.scaleSize(58),58);this.imgStyle.marginTop=e+"px",this.textsStyle.marginTop=e+"px";var n=Math.min(this.scaleSize(86),58);this.imgStyle.marginBottom=n+"px",this.textsStyle.marginBottom=n+"px";var r=e+n,i=Math.round(9/16*t)-r;this.imgStyle.height=i+"px",this.textsStyle.height=i+"px",i<350&&(this.descStyle["-webkit-line-clamp"]="4",this.descStyle.margin="0px"),i>450&&(this.descStyle["-webkit-line-clamp"]="6",this.titleStyle.margin=this.scaleSize(10)+"px 0px 0px 0px")},e.prototype.scaleSize=function(t){return Math.round(t*this.fontSizeScale)},e}(n.BlurredBackWidget);e.Widget169=i}.apply(e,r))||(t.exports=i)},8819:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(171),n(3505)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlurredBackWidget=void 0;var i=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return a(e,t),e.prototype.addHTMLElements=function(){this.backgroundContainer=this.createBackground(),this.element.prepend(this.backgroundContainer),t.prototype.addHTMLElements.call(this)},e.prototype.start=function(){t.prototype.start.call(this);var e=window.getComputedStyle(this.backgroundContainer).width;this.computedWidth=e.indexOf("%")<0?parseInt(e,10):parseInt(window.getComputedStyle(this.element).width,10),this.backgroundImg.src=n.ConfigurationReader.getImageContent({width:this.computedWidth,height:0})},e.prototype.createBackground=function(){this.backgroundImg=document.createElement("img"),this.backgroundImg.style.position="absolute",this.backgroundImg.style.left="-25%",this.backgroundImg.style.top="-25%",this.backgroundImg.style.width="150%",this.backgroundImg.style.height="150%",this.backgroundImg.style.maxWidth="150%",this.backgroundImg.style.maxHeight="150%",this.backgroundImg.style.filter="blur(30px)";var t=document.createElement("div");return t.id="story-back",t.style.position="absolute",t.style.overflow="hidden",t.style.width="100%",t.style.height="100%",t.appendChild(this.backgroundImg),t},e.prototype.CreateOptOutButton=function(){var e=t.prototype.CreateOptOutButton.call(this),n=e.style;return n.position="absolute",n.right="8px",n.top="8px",n.width="15px",n.height="15px",e},e}(r.GenericWidget);e.BlurredBackWidget=i}.apply(e,r))||(t.exports=i)},7451:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8686),n(4834),n(171),n(3505),n(6322)],void 0===(i=function(t,e,n,r,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionalWidget=void 0;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hoveredRules=[],e}return a(e,t),e.prototype.makeTemplate=function(){var e=this;this.createHoverWording();var i=t.prototype.makeTemplate.call(this);return r.isMobileDevice()||(this.infosContainer.style.transition="opacity 0s linear, all 0.4s ease-out",this.hoverWording.style.transition="all 0.4s ease-out",this.imageContainer.style.transition="all 0.4s ease-out",this.element.addEventListener("mouseenter",(function(){0===e.hoveredRules.length&&e.addHoverRules()})),this.element.addEventListener("mouseleave",(function(){n.removeCSSRules(e.hoveredRules)}))),i},e.prototype.addHTMLElements=function(){this.element.appendChild(this.sponsorTop),this.element.appendChild(this.wrapper),this.wrapper.appendChild(this.imageContainer),this.wrapper.appendChild(this.infosContainer);var t=this.config.Content.Landing&&this.config.Content.Landing.Url,e=this.config.Content.MainVideo&&this.config.Content.MainVideo.ClickUrl;(t||e)&&this.imageContainer.appendChild(this.hoverWording),this.hoverWording.appendChild(this.hoverSponsorLogo),this.hoverWording.appendChild(this.cta),this.infosContainer.appendChild(this.sponsorLogo),this.infosContainer.appendChild(this.wording),this.wording.appendChild(this.title),this.wording.appendChild(this.description),this.wording.appendChild(this.adDomain),this.wording.appendChild(this.legal)},e.prototype.createMainContainer=function(){t.prototype.createMainContainer.call(this);var e=this.element.style;e.opacity="1",e.boxSizing="border-box"},e.prototype.createSponsorTop=function(){t.prototype.createSponsorTop.call(this),this.sponsorTop.innerHTML=i.ConfigurationReader.getProperty("sponsor");var e=this.sponsorTop.style;e.width="100%",e.textAlign="right",e.paddingBottom="3px",e.fontSize="9px",e.fontWeight="400",e.lineHeight="1",e.letterSpacing="1px",e.textTransform="uppercase",e.height="9px",e.marginBottom="2px",e.display="block",e.color=i.ConfigurationReader.getProperty("titlecolor")},e.prototype.createSponsorLogo=function(){t.prototype.createSponsorLogo.call(this);var e=this.sponsorLogo.style;(e=this.sponsorLogo.style).position="absolute",e.margin="auto",e.top="0",e.bottom="0",e.left="8px","DIV"===this.sponsorLogo.tagName?(this.hoverSponsorLogo=document.createElement("div"),this.hoverSponsorLogo.innerHTML=this.sponsorLogo.innerHTML,(e=this.hoverSponsorLogo.style).fontSize="22px",e.lineHeight="28px",e.background="black",e.color="white",e.textAlign="center",e.fontWeight="bold",e.textTransform="uppercase"):"IMG"===this.sponsorLogo.tagName&&(e.objectFit="contain",this.hoverSponsorLogo=document.createElement("img"),this.hoverSponsorLogo.src=i.ConfigurationReader.getProperty("logo"),(e=this.hoverSponsorLogo.style).objectFit="contain"),e.position="relative",e.left="0px",e.top="3px",e.marginRight="5px",e.cssFloat="left",e.width="28px",e.height="28px",this.hoverSponsorLogo.id="ayl-hover-sponsor-logo"},e.prototype.createAdDomain=function(){t.prototype.createAdDomain.call(this),this.adDomain.innerHTML=i.ConfigurationReader.getProperty("addomain");var e=this.adDomain.style;e.color=i.ConfigurationReader.getProperty("titlecolor"),e.fontWeight="400",e.letterSpacing="1px",e.textTransform="uppercase",e.display="block",e.marginTop="4px",e.maxHeight="12px",e.whiteSpace="nowrap",e.overflow="hidden",e.textOverflow="ellipsis"},e.prototype.createLegal=function(){this.legal=document.createElement("div"),this.legal.innerHTML=i.ConfigurationReader.getProperty("legal");var t=this.legal.style;t.color=i.ConfigurationReader.getProperty("titlecolor"),t.maxHeight="12px",t.fontWeight="700",t.letterSpacing="1px",t.fontSize="11px"},e.prototype.createWrapper=function(){t.prototype.createWrapper.call(this);var e=this.wrapper.style;e.background=i.ConfigurationReader.getProperty("bodybackgroundcolor"),e.boxSizing="border-box",e.padding="10px",e.position="relative",e.cursor="pointer",e.display="block",e.fontSize="16px",e.overflow="hidden",e.height="calc("+i.ConfigurationReader.getProperty("sizeheight")+" - 38px)",e.boxShadow=i.ConfigurationReader.getProperty("boxshadow"),s.InIframe()&&""!==e.boxShadow?(e.width="calc(100% - 20px)",e.margin="auto"):e.width="100%"},e.prototype.createImage=function(){t.prototype.createImage.call(this);var e=this.imageContainer.style;e.position="relative",e.display="inline-block",e.overflow="hidden",(e=this.image.style).backgroundPosition="50% 50%"},e.prototype.createHoverWording=function(){this.hoverWording=document.createElement("div"),this.hoverWording.id="ayl-hover-wording";var t=this.hoverWording.style;t.position="absolute",t.left="-1000px",t.bottom="-2px",t.width="auto",t.height="auto",t.padding="2px 5px 2px 0px",t.background=i.ConfigurationReader.getProperty("bodybackgroundcolor"),t.zIndex="12",t.pointerEvents="none"},e.prototype.createCTA=function(){t.prototype.createCTA.call(this);var e=this.cta.style;e.background=i.ConfigurationReader.getProperty("titlecolor"),e.color="#fff",e.position="relative",e.zIndex="0",e.cursor="pointer",e.fontSize="12px",e.fontWeight="700",e.padding="0px 1em",e.width="auto",e.height="28px",e.lineHeight="28px",e.cssFloat="left",e.marginTop="3px"},e.prototype.createInfosContainer=function(){t.prototype.createInfosContainer.call(this),this.infosContainer.style.position="absolute"},e.prototype.createWording=function(){t.prototype.createWording.call(this);var e=this.wording.style;e.position="absolute",e.margin="auto",e.top="0",e.bottom="0",e.height="auto",e.maxHeight="75px"},e.prototype.createTitle=function(){t.prototype.createTitle.call(this);var e=this.title.style;e.color=i.ConfigurationReader.getProperty("titlecolor"),e.fontSize="16px",e.letterSpacing="1px",e.fontWeight="700",e.width="100%",e.lineHeight="16px",e.maxHeight="16px"},e.prototype.createDescription=function(){t.prototype.createDescription.call(this);var e=this.description.style;e.color=i.ConfigurationReader.getProperty("bodycolor"),e.fontSize="0.8em",e.wordBreak="break-word",e.maxHeight="30px",e.textOverflow="ellipsis",e.overflow="hidden",e.lineHeight="1.2"},e.prototype.CreateOptOutButton=function(){var e=t.prototype.CreateOptOutButton.call(this),n=e.style;return n.top="18px",n.padding="10px",e},e.prototype.addHoverRules=function(){n.applyCSSRule(this.infosContainer,"opacity","0",this.hoveredRules),n.applyCSSRule(this.hoverWording,"left","0",this.hoveredRules)},e.prototype.start=function(){var e=this;t.prototype.start.call(this),setTimeout((function(){r.isMobileDevice()?e.setImage(e.image.offsetWidth,e.image.offsetHeight):e.setImage(e.wrapper.offsetWidth,e.wrapper.offsetHeight)}),0)},e}(o.GenericWidget);e.DirectionalWidget=c}.apply(e,r))||(t.exports=i)},5850:(t,e,n)=>{var r,i,o=n(7017);r=[n,e,n(6811),n(4220),n(4990),n(5573),n(2578),n(7614),n(3993),n(3761),n(682),n(5860),n(8175)],void 0===(i=function(t,e,n,r,i,a,s,c,l,u,p,d,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWidget=void 0,e.getWidget=function(t,e,f){var g,m=t.IntegrationConfig;return new o((function(o,y){if(m.Kind===a.NativeIntegration.WIDGET)if(t.DisplayMode===n.WidgetDisplayMode.STORY&&t.Opener!==c.Opener.INVIEW)r.logger.log(r.LogLevel.INFO,"Init widget with display mode : "+n.WidgetDisplayMode.STORY),o(g=new p.StoryWidget(t,e,f));else{switch(r.logger.log(r.LogLevel.INFO,"Init widget type : "+m.Widget.WidgetKind),m.Widget.WidgetKind){case n.IntegrationWidget.CREATIVE_TEMPLATE_1:g=new i.LeftWidget(t,e,f);break;case n.IntegrationWidget.CREATIVE_TEMPLATE_2:g=new d.TopWidget(t,e,f);break;case n.IntegrationWidget.CREATIVE_TEMPLATE_3:g=new l.RightWidget(t,e,f);break;case n.IntegrationWidget.CREATIVE_TEMPLATE_4:g=h.isBeta()?new u.SocialWidget(t,e,f):new s.OldSocialWidget(t,e,f)}o(g)}else o()}))}}.apply(e,r))||(t.exports=i)},3505:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(6322),n(8175),n(171),n(5633)],void 0===(i=function(t,e,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericWidget=void 0;var s=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.templateIntegration=i.config.IntegrationConfig.Widget||i.templateIntegration,i.kind="WIDGET",i.config=e,i}return a(e,t),e.prototype.makeTemplate=function(){var t;return this.createMainContainer(),this.createSponsorTop(),this.createSponsorLogo(),this.createAdDomain(),this.createLegal(),this.createWrapper(),this.createImage(),this.createCTA(),this.createInfosContainer(),this.createWording(),this.createTitle(),this.createDescription(),this.insertStyleSheet("ExtraStyleSheet"),this.addHTMLElements(),this.addListeners(),(null===(t=this.config.IntegrationConfig.Widget)||void 0===t?void 0:t.Creative20)&&this.insert21CSS(),this.element},e.prototype.insert21CSS=function(){n.InIframe()&&(document.body.style.width="100%",document.body.style.height="100%",document.documentElement.style.width="100%",document.documentElement.style.height="100%")},e.prototype.createMainContainer=function(){this.element=document.createElement("div"),this.element.id=i.ConfigurationReader.getProperty("uid");var t=this.element.style;t.lineHeight="normal",t.width=i.ConfigurationReader.getProperty("sizewidth"),t.height=i.ConfigurationReader.getProperty("sizeheight"),t.maxWidth="100%",t.maxHeight="100%",t.position="relative",t.cursor="pointer",t.fontFamily=i.ConfigurationReader.getProperty("fontfamily")+", verdana, sans-serif",this.element.setAttribute("style",this.element.getAttribute("style")+i.ConfigurationReader.getProperty("bodyalign"))},e.prototype.createSponsorTop=function(){this.sponsorTop=document.createElement("span"),this.sponsorTop.id="ayl-sponsor-top";var t=this.sponsorTop.style;t.position="relative",t.boxSizing="border-box"},e.prototype.createSponsorLogo=function(){var t=i.ConfigurationReader.getProperty("logo");if(""===t){this.sponsorLogo=document.createElement("div");var e=this.sponsorLogo.style;this.config.AdDomain?this.sponsorLogo.innerHTML=this.config.AdDomain[0]:e.display="none",e.cssFloat="left",e.background="black",e.color="white",e.textAlign="center",e.fontWeight="bold",e.textTransform="uppercase"}else this.sponsorLogo=document.createElement("img"),this.sponsorLogo.src=t;this.sponsorLogo.id="ayl-sponsor-logo"},e.prototype.createAdDomain=function(){this.adDomain=document.createElement("span"),this.adDomain.id="ayl-adomain",this.adDomain.style.fontSize="11px"},e.prototype.addVerifiedAdDomain=function(){var t=this.adDomain.firstChild;if(this.adDomain.style.width="100%",t){var e=t.style;e.display="inline-block",e.overflow="hidden",e.textOverflow="ellipsis",e.whiteSpace="nowrap",e.verticalAlign="middle",e.paddingRight="6px"}this.verifiedLogo=document.createElement("div"),this.verifiedLogo.style.width="12px",this.verifiedLogo.style.height="12px",this.verifiedLogo.style.verticalAlign="middle",this.verifiedLogo.style.display="inline-block",this.verifiedLogo.style.backgroundImage="url("+r.AYL_URL.ADSERVER_FO_STATIC+"/native/images/certified.svg)",this.adDomain.appendChild(this.verifiedLogo)},e.prototype.createLegal=function(){this.legal=document.createElement("span"),this.legal.innerHTML=i.ConfigurationReader.getProperty("legal")},e.prototype.createWrapper=function(){this.wrapper=document.createElement("div"),this.wrapper.id="ayl-wrapper"},e.prototype.createImage=function(){this.imageContainer=document.createElement("div"),this.imageContainer.id="ayl-image-container",this.image=document.createElement("div"),this.image.id="ayl-img";var t=this.image.style;t.width="100%",t.height="100%",t.backgroundSize="cover",t.backgroundRepeat="no-repeat",this.imageContainer.appendChild(this.image)},e.prototype.createCTA=function(){this.cta=document.createElement("div"),this.cta.id="ayl-cta",this.cta.innerHTML=i.ConfigurationReader.getProperty("calltoaction"),this.cta.style.textTransform="uppercase"},e.prototype.createInfosContainer=function(){this.infosContainer=document.createElement("div"),this.infosContainer.id="ayl-infos-container"},e.prototype.createWording=function(){this.wording=document.createElement("div"),this.wording.id="ayl-wording"},e.prototype.createTitle=function(){this.title=document.createElement("div"),this.title.id="ayl-title",this.title.innerHTML=i.ConfigurationReader.getProperty("title");var t=this.title.style;t.textOverflow="ellipsis",t.overflow="hidden",t.whiteSpace="nowrap"},e.prototype.createDescription=function(){this.description=document.createElement("div"),this.description.id="ayl-description",this.description.innerHTML=i.ConfigurationReader.getProperty("description")},e.prototype.Execute=function(){t.prototype.Execute.call(this),this.start()},e.prototype.Refresh=function(){t.prototype.Refresh.call(this),this.clearHTMLElements(),this.addHTMLElements(),this.addListeners(),this.start()},e.prototype.addHTMLElements=function(){},e.prototype.clearHTMLElements=function(){},e.prototype.addListeners=function(){},e.prototype.start=function(){},e.prototype.setImage=function(t,e){var n=this;if((t<2||e<2)&&ResizeObserver&&!this.resizeObserver){this.resizeObserver=new ResizeObserver((function(){var t=n.image.offsetWidth,e=n.image.offsetHeight;t>1&&e>1&&(n.resizeObserver.unobserve(n.image),n.resizeObserver=null,n.setImage(t,e))})),this.resizeObserver.observe(this.image)}else this.image.style.backgroundImage="url("+i.ConfigurationReader.getImageContent({width:t,height:e},this.config.Attempt)+")"},e.prototype.stop=function(){this.clearHTMLElements()},e.prototype.resize=function(){},e.prototype.applyBoxShadow=function(t){var e=i.ConfigurationReader.getProperty("boxshadow"),r=n.InSecuredIframe();if(r&&e&&""!==e)t.style.boxShadow=e,t.style.borderRadius="8px",t.style.margin="10px",t.style.width=parseInt(i.ConfigurationReader.getProperty("sizewidth"),10)-20+"px",t.style.height=parseInt(i.ConfigurationReader.getProperty("sizeheight"),10)-20+"px",t.style.maxWidth="calc(100% - 20px)",t.style.maxHeight="calc(100% - 20px)";else if(n.InIframe()&&!r){for(var o=window.frameElement,a=void 0;o;)a=o,o=o.ownerDocument.defaultView.frameElement;a.style.boxShadow=e,a.style.borderRadius="8px"}else t.style.boxShadow=e},e}(o.Template);e.GenericWidget=s}.apply(e,r))||(t.exports=i)},4990:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8686),n(5522)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LeftWidget=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.createImage=function(){t.prototype.createImage.call(this);var e=this.imageContainer.style;e.boxSizing="border-box",(e=this.image.style).position="absolute",e.top="0px",e.left="0px"},e.prototype.createInfosContainer=function(){t.prototype.createInfosContainer.call(this),this.infosContainer.style.right="0px"},e.prototype.addHoverRules=function(){t.prototype.addHoverRules.call(this),n.applyCSSRule(this.infosContainer,"transform","translateX(100%)",this.hoveredRules)},e}(r.SideWidget);e.LeftWidget=i}.apply(e,r))||(t.exports=i)},2578:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8175),n(171),n(3505),n(7614),n(5831)],void 0===(i=function(t,e,n,r,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OldSocialWidget=void 0;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.makeTemplate=function(){return this.createSponsor(),this.createCredit(),this.config.Opener!==o.Opener.FULLSCREEN&&this.config.Opener!==o.Opener.INVIEW||this.createSponsorAnimation(),t.prototype.makeTemplate.call(this)},e.prototype.addHTMLElements=function(){this.element.appendChild(this.sponsorTop),this.element.appendChild(this.wrapper),this.sponsorTop.appendChild(this.sponsor),this.sponsorTop.appendChild(this.credit),this.sponsorAnimation&&this.sponsor.appendChild(this.sponsorAnimation),this.sponsor.appendChild(this.sponsorLogo),this.credit.appendChild(this.adDomain),this.credit.appendChild(this.legal),this.wrapper.appendChild(this.imageContainer),this.wrapper.appendChild(this.wording);var t=this.config.Content.Landing&&this.config.Content.Landing.Url,e=this.config.Content.MainVideo&&this.config.Content.MainVideo.ClickUrl;this.config.VideoFormat===s.VideoFormat.FEED||!t&&!e||this.imageContainer.appendChild(this.cta),this.wording.appendChild(this.title),this.wording.appendChild(this.description)},e.prototype.createSponsorAnimation=function(){var t=this;this.sponsorAnimation=document.createElementNS("http://www.w3.org/2000/svg","svg");var e=this.sponsorAnimation.style;this.sponsorAnimation.setAttribute("width","40"),this.sponsorAnimation.setAttribute("height","40"),e.position="absolute",e.left="-3px",e.top="-3px";var n=document.createElementNS("http://www.w3.org/2000/svg","circle");this.sponsorAnimation.appendChild(n),n.setAttribute("cx","50%"),n.setAttribute("cy","50%"),n.setAttribute("r","19"),n.setAttribute("stroke-width","1"),n.setAttribute("stroke",r.ConfigurationReader.getProperty("titlecolor")),n.setAttribute("fill","none"),n.setAttribute("stroke-dasharray","128"),n.setAttribute("stroke-dashoffset","112");var i,o=0,a=function(t){requestAnimationFrame(a),o||(o=t-1),l(t-o),o=t};!function(t){t[t.EXPAND=1]="EXPAND",t[t.REDUCE=2]="REDUCE"}(i||(i={}));var s=i.EXPAND,c=0,l=function(e){var r;s===i.EXPAND?(r=.2,c+=.1*e):s===i.REDUCE&&(r=-.1,c+=.25*e),r=parseInt(n.getAttribute("stroke-dashoffset"),10)-r*e,c>360&&(c-=360),r<16?(s=i.REDUCE,r=16):r>112&&(s=i.EXPAND,r=112),n.setAttribute("stroke-dashoffset",r.toString()),t.sponsorAnimation.style.transform="rotate("+c+"deg)"};a(0)},e.prototype.createMainContainer=function(){t.prototype.createMainContainer.call(this);var e=this.element.style;e.display="flex",e.flexDirection="column",e.flexWrap="nowrap",e.overflow="hidden",e.backgroundColor=r.ConfigurationReader.getProperty("bodybackgroundcolor"),e.borderRadius="4px",this.applyBoxShadow(this.element)},e.prototype.createSponsor=function(){this.sponsor=document.createElement("div"),this.sponsor.id="ayl-sponsor";var t=this.sponsor.style;t.borderRadius="33px",t.width="33px",t.height="33px",t.flex="0 0 33px",t.marginRight="10px",t.position="relative";var e=this.config.Opener!==o.Opener.FULLSCREEN&&this.config.Opener!==o.Opener.INVIEW&&""===r.ConfigurationReader.getProperty("logo"),n=""===r.ConfigurationReader.getProperty("logo")&&!this.config.AdDomain;(e||n)&&(t.display="none")},e.prototype.createSponsorTop=function(){t.prototype.createSponsorTop.call(this);var e=this.sponsorTop.style;e.display="flex",e.flex="0 0 52px",e.flexDirection="row",e.justifyContent="start",e.alignItems="center",e.alignContent="center",e.padding="8px 35px 8px 8px",e.overflow="hidden"},e.prototype.createSponsorLogo=function(){t.prototype.createSponsorLogo.call(this);var e=this.sponsorLogo.style;e.width="34px",e.height="34px",e.borderRadius="34px","DIV"===this.sponsorLogo.tagName?(e.fontSize="20px",e.lineHeight="34px"):"IMG"===this.sponsorLogo.tagName&&(e.objectFit="cover")},e.prototype.createAdDomain=function(){t.prototype.createAdDomain.call(this),this.adDomain.innerHTML=r.ConfigurationReader.getProperty("sponsor");var e=this.adDomain.style;e.opacity="1",e.fontSize="14px",e.lineHeight="20px",e.height="20px",e.fontWeight="700",(this.adDomain.innerHTML&&this.config.Opener===o.Opener.FULLSCREEN||this.config.Opener===o.Opener.INVIEW)&&this.addVerifiedAdDomain()},e.prototype.createCredit=function(){this.credit=document.createElement("div");var t=this.credit.style;t.flex="1 1 0%",t.fontSize="9px",t.fontWeight="bold",t.lineHeight="12px",t.display="flex",t.flexDirection="column",t.color=r.ConfigurationReader.getProperty("bodycolor"),t.overflow="hidden",t.whiteSpace="nowrap",t.textOverflow="ellipsis"},e.prototype.createLegal=function(){t.prototype.createLegal.call(this);var e=this.legal.style;e.overflow="hidden",e.textOverflow="ellipsis",e.fontWeight="400",e.fontSize="9px",e.color="#7E7E7E"},e.prototype.createWrapper=function(){t.prototype.createWrapper.call(this);var e=this.wrapper.style;e.display="flex",e.flex="1 0 0%",e.flexDirection="column"},e.prototype.createImage=function(){t.prototype.createImage.call(this);var e=this.imageContainer.style;e.flex="1 1 0%",e.position="relative",(e=this.image.style).position="absolute",e.backgroundColor="#efefef",e.backgroundPosition="center"},e.prototype.createCTA=function(){t.prototype.createCTA.call(this);var e=this.cta.style;e.padding="0 25px 0px 10px",e.boxSizing="border-box",e.color=r.ConfigurationReader.getProperty("bodybackgroundcolor"),e.backgroundColor=r.ConfigurationReader.getProperty("titlecolor").replace(/[^,][1-9\.]{0,4}(?=\))/,"0.7"),e.position="absolute",e.bottom="0px",e.left="0px",e.width="100%",e.lineHeight="30px",e.fontSize="13px",e.fontWeight="700",e.overflow="hidden",e.textOverflow="ellipsis",e.whiteSpace="nowrap",e.zIndex="9",e.textTransform="";var i=document.createElement("img");(e=i.style).mask="url("+n.AYL_URL.ADSERVER_FO_STATIC+"/native/images/arrow.svg)",e.webkitMask="url("+n.AYL_URL.ADSERVER_FO_STATIC+"/native/images/arrow.svg)",e.backgroundColor=r.ConfigurationReader.getProperty("bodybackgroundcolor"),e.width="6px",e.height="8px",e.position="absolute",e.top="12px",e.right="12px",this.cta.appendChild(i)},e.prototype.createWording=function(){t.prototype.createWording.call(this);var e=this.wording.style;e.flex="0 1 auto",e.padding="8px 10px 10px",e.boxSizing="border-box",e.height="45px",e.fontSize="13px",e.fontWeight="bold",e.display="block"},e.prototype.createTitle=function(){t.prototype.createTitle.call(this);var e=this.title.style;e.color=r.ConfigurationReader.getProperty("bodycolor"),e.fontSize="12px",e.fontWeight="700",e.lineHeight="15px"},e.prototype.createDescription=function(){t.prototype.createDescription.call(this);var e=this.description.style;e.lineHeight="14px",e.fontSize="10px",e.fontWeight="400",e.textOverflow="ellipsis",e.overflow="hidden",e.whiteSpace="nowrap"},e.prototype.addVerifiedAdDomain=function(){t.prototype.addVerifiedAdDomain.call(this),this.verifiedLogo.style.verticalAlign="top",this.verifiedLogo.style.marginTop="5px"},e.prototype.CreateOptOutButton=function(){var e=t.prototype.CreateOptOutButton.call(this),n=e.style;return n.width="16px",n.height="16px",n.top="18px",n.right="18px",n.padding="0px",e},e.prototype.start=function(){var e=this;t.prototype.start.call(this),setTimeout((function(){e.setImage(e.image.offsetWidth,e.image.offsetHeight)}),0)},e}(i.GenericWidget);e.OldSocialWidget=c}.apply(e,r))||(t.exports=i)},2464:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7614),n(5890),n(6811)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetConfigurationReader=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.integration=e.IntegrationConfig.Widget,n}return a(e,t),e.prototype.getSize=function(t){var e;if("Width"!==t&&"Height"!==t)return"";var n=(null===(e=this.integration.Placeholders)||void 0===e?void 0:e.Size)||[];return n[t]?n[t]:"100%"},e.prototype.getStoryMode=function(){return this.config.DisplayMode===i.WidgetDisplayMode.STORY&&this.config.Opener!==n.Opener.INVIEW?"DISPLAY":t.prototype.getStoryMode.call(this)},e}(r.TemplateConfigurationReader);e.WidgetConfigurationReader=o}.apply(e,r))||(t.exports=i)},3993:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8686),n(5522)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RightWidget=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.createImage=function(){t.prototype.createImage.call(this);var e=this.imageContainer.style;e.maxWidth="100%",e.cssFloat="right"},e.prototype.createInfosContainer=function(){t.prototype.createInfosContainer.call(this),this.infosContainer.style.left="0px"},e.prototype.addHoverRules=function(){t.prototype.addHoverRules.call(this),n.applyCSSRule(this.infosContainer,"transform","translateX(-100%)",this.hoveredRules)},e}(r.SideWidget);e.RightWidget=i}.apply(e,r))||(t.exports=i)},5522:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8686),n(4834),n(7451),n(6322)],void 0===(i=function(t,e,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SideWidget=void 0;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.smallScreenRules=[],e.isSmallScreen=!1,e}return a(e,t),e.prototype.createMainContainer=function(){t.prototype.createMainContainer.call(this),this.element.style.maxHeight="800px"},e.prototype.makeTemplate=function(){var e=this,i=t.prototype.makeTemplate.call(this),a=o.getTopMostWindow();if(r.isMobileDevice()){var s=function(){a.innerWidth<480?e.isSmallScreen||(e.addSmallScreenRules(),e.isSmallScreen=!0):e.isSmallScreen&&(n.removeCSSRules(e.smallScreenRules),e.isSmallScreen=!1)};a.addEventListener("resize",s),s()}return i},e.prototype.createImage=function(){t.prototype.createImage.call(this);var e=this.imageContainer.style;e.width="45%",e.height="100%"},e.prototype.createSponsorLogo=function(){t.prototype.createSponsorLogo.call(this);var e=this.sponsorLogo.style;"DIV"===this.sponsorLogo.tagName?(e.width="62px",e.height="62px",e.lineHeight="62px",e.fontSize="28px"):"IMG"===this.sponsorLogo.tagName&&(e.width="61px",e.height="61px")},e.prototype.createInfosContainer=function(){t.prototype.createInfosContainer.call(this);var e=this.infosContainer.style;e.top="0px",e.display="block",e.width="55%",e.height="100%"},e.prototype.createWording=function(){t.prototype.createWording.call(this);var e=this.wording.style;e.left="80px",e.width="calc(100% - 88px)"},e.prototype.addHoverRules=function(){t.prototype.addHoverRules.call(this),n.applyCSSRule(this.imageContainer,"width","100%",this.hoveredRules)},e.prototype.addSmallScreenRules=function(){n.applyCSSRule(this.imageContainer,"height","calc(100% - 80px)",this.smallScreenRules),n.applyCSSRule(this.imageContainer,"width","100%",this.smallScreenRules),n.applyCSSRule(this.sponsorLogo,"width","48px",this.smallScreenRules),n.applyCSSRule(this.sponsorLogo,"height","48px",this.smallScreenRules),n.applyCSSRule(this.sponsorLogo,"line-height","48px",this.smallScreenRules),n.applyCSSRule(this.infosContainer,"position","absolute",this.smallScreenRules),n.applyCSSRule(this.infosContainer,"width","100%",this.smallScreenRules),n.applyCSSRule(this.infosContainer,"height","75px",this.smallScreenRules),n.applyCSSRule(this.infosContainer,"bottom","5px",this.smallScreenRules),n.applyCSSRule(this.infosContainer,"left","0px",this.smallScreenRules),n.applyCSSRule(this.infosContainer,"top","inherit",this.smallScreenRules),n.applyCSSRule(this.wording,"position","absolute",this.smallScreenRules),n.applyCSSRule(this.wording,"right","0px",this.smallScreenRules),n.applyCSSRule(this.wording,"left","60px",this.smallScreenRules),n.applyCSSRule(this.wording,"width","calc(100% - 65px)",this.smallScreenRules),n.applyCSSRule(this.wording,"max-height","75px",this.smallScreenRules)},e}(i.DirectionalWidget);e.SideWidget=s}.apply(e,r))||(t.exports=i)},3761:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8175),n(171),n(3505),n(7614),n(8686)],void 0===(i=function(t,e,n,r,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SocialWidget=void 0;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.makeTemplate=function(){return this.createSponsor(),this.createCredit(),this.createArrow(),this.createArrowButton(),this.config.Opener!==o.Opener.FULLSCREEN&&this.config.Opener!==o.Opener.INVIEW||this.createSponsorAnimation(),t.prototype.makeTemplate.call(this)},e.prototype.addHTMLElements=function(){this.element.appendChild(this.sponsorTop),this.element.appendChild(this.wrapper),this.sponsorTop.appendChild(this.sponsor),this.sponsorTop.appendChild(this.credit),this.sponsorAnimation&&this.sponsor.appendChild(this.sponsorAnimation),this.sponsor.appendChild(this.sponsorLogo),this.credit.appendChild(this.adDomain),this.credit.appendChild(this.legal),this.imageContainer.appendChild(this.arrowButton),this.wrapper.appendChild(this.imageContainer),this.wrapper.appendChild(this.wording),this.wording.appendChild(this.title),this.wording.appendChild(this.description),this.wording.appendChild(this.cta)},e.prototype.createSponsorAnimation=function(){var t=this;this.sponsorAnimation=document.createElementNS("http://www.w3.org/2000/svg","svg");var e=this.sponsorAnimation.style;this.sponsorAnimation.setAttribute("width","40"),this.sponsorAnimation.setAttribute("height","40"),e.position="absolute",e.left="-3px",e.top="-3px";var n=document.createElementNS("http://www.w3.org/2000/svg","circle");this.sponsorAnimation.appendChild(n),n.setAttribute("cx","50%"),n.setAttribute("cy","50%"),n.setAttribute("r","19"),n.setAttribute("stroke-width","1"),n.setAttribute("stroke",r.ConfigurationReader.getProperty("titlecolor")),n.setAttribute("fill","none"),n.setAttribute("stroke-dasharray","128"),n.setAttribute("stroke-dashoffset","112");var i,o=0,a=function(t){requestAnimationFrame(a),o||(o=t-1),l(t-o),o=t};!function(t){t[t.EXPAND=1]="EXPAND",t[t.REDUCE=2]="REDUCE"}(i||(i={}));var s=i.EXPAND,c=0,l=function(e){var r;s===i.EXPAND?(r=.2,c+=.1*e):s===i.REDUCE&&(r=-.1,c+=.25*e),r=parseInt(n.getAttribute("stroke-dashoffset"),10)-r*e,c>360&&(c-=360),r<16?(s=i.REDUCE,r=16):r>112&&(s=i.EXPAND,r=112),n.setAttribute("stroke-dashoffset",r.toString()),t.sponsorAnimation.style.transform="rotate("+c+"deg)"};a(0)},e.prototype.createMainContainer=function(){t.prototype.createMainContainer.call(this);var e=this.element.style;e.display="flex",e.flexDirection="column",e.flexWrap="nowrap",e.overflow="hidden",e.backgroundColor=r.ConfigurationReader.getProperty("bodybackgroundcolor"),e.borderRadius="4px",this.applyBoxShadow(this.element)},e.prototype.createSponsor=function(){this.sponsor=document.createElement("div"),this.sponsor.id="ayl-sponsor";var t=this.sponsor.style;t.borderRadius="30px",t.width="30px",t.height="30px",t.flex="0 0 30px",t.marginRight="8px",t.position="relative";var e=this.config.Opener!==o.Opener.FULLSCREEN&&this.config.Opener!==o.Opener.INVIEW&&""===r.ConfigurationReader.getProperty("logo"),n=""===r.ConfigurationReader.getProperty("logo")&&!this.config.AdDomain;(e||n)&&(t.display="none")},e.prototype.createSponsorTop=function(){t.prototype.createSponsorTop.call(this);var e=this.sponsorTop.style;e.display="flex",e.flexDirection="row",e.justifyContent="start",e.alignItems="center",e.alignContent="center",e.padding="5px 35px 5px 10px",e.overflow="hidden"},e.prototype.createSponsorLogo=function(){t.prototype.createSponsorLogo.call(this);var e=this.sponsorLogo.style;e.width="30px",e.height="30px",e.borderRadius="30px","DIV"===this.sponsorLogo.tagName?(e.fontSize="20px",e.lineHeight="30px"):"IMG"===this.sponsorLogo.tagName&&(e.objectFit="cover")},e.prototype.createAdDomain=function(){t.prototype.createAdDomain.call(this),this.adDomain.innerHTML=r.ConfigurationReader.getProperty("sponsor");var e=this.adDomain.style;e.opacity="1",e.fontSize="14px",e.lineHeight="18px",e.height="18px",e.fontWeight="700",(this.adDomain.innerHTML&&this.config.Opener===o.Opener.FULLSCREEN||this.config.Opener===o.Opener.INVIEW)&&this.addVerifiedAdDomain()},e.prototype.createCredit=function(){this.credit=document.createElement("div");var t=this.credit.style;t.flex="1 1 0%",t.fontSize="9px",t.fontWeight="bold",t.display="flex",t.flexDirection="column",t.color=r.ConfigurationReader.getProperty("bodycolor"),t.overflow="hidden",t.whiteSpace="nowrap",t.textOverflow="ellipsis"},e.prototype.createLegal=function(){t.prototype.createLegal.call(this);var e=this.legal.style;e.overflow="hidden",e.textOverflow="ellipsis",e.fontWeight="400",e.fontSize="9px",e.color="#7E7E7E"},e.prototype.createWrapper=function(){t.prototype.createWrapper.call(this);var e=this.wrapper.style;e.display="flex",e.flex="1 0 0%",e.flexDirection="column",e.width="100%"},e.prototype.createImage=function(){t.prototype.createImage.call(this);var e=this.imageContainer.style;e.flex="1 1 0%",e.position="relative",e.width="80%",(e=this.image.style).position="absolute",e.backgroundColor="#efefef",e.backgroundPosition="center",e.width="100%",this.blurredImage=document.createElement("img"),this.blurredImageContainer=document.createElement("div"),(e=this.blurredImage.style).width="100%%",e.height="100%",e.filter="blur(10px)",e.transform="scale(1.1)",(e=this.blurredImageContainer.style).position="absolute",e.width="80%",e.height="100%",e.left="calc(100% + 4px)",e.overflow="hidden",this.blurredImageContainer.appendChild(this.blurredImage),this.imageContainer.appendChild(this.blurredImageContainer)},e.prototype.createCTA=function(){t.prototype.createCTA.call(this);var e=this.cta.style;e.lineHeight="20px",e.fontWeight="700",e.overflow="hidden",e.textOverflow="ellipsis",e.whiteSpace="nowrap",e.fontSize="14px",e.color=r.ConfigurationReader.getProperty("calltoactioncolor"),e.textTransform="";var n=this.arrow.cloneNode();(e=n.style).backgroundColor=r.ConfigurationReader.getProperty("calltoactioncolor"),e.marginLeft="3px",this.cta.appendChild(n)},e.prototype.createWording=function(){t.prototype.createWording.call(this);var e=this.wording.style;e.flex="0 1 auto",e.padding="8px 10px 10px",e.boxSizing="border-box",e.height="60px",e.fontSize="13px",e.fontWeight="bold",e.display="block"},e.prototype.createTitle=function(){t.prototype.createTitle.call(this);var e=this.title.style;e.color="black",e.fontSize="12px",e.fontWeight="700",e.lineHeight="15px"},e.prototype.createDescription=function(){t.prototype.createDescription.call(this);var e=this.description.style;e.lineHeight="14px",e.fontSize="10px",e.fontWeight="400",e.textOverflow="ellipsis",e.overflow="hidden",e.whiteSpace="nowrap"},e.prototype.createArrowButton=function(){var t=this.arrow.cloneNode();t.style.backgroundColor="white",this.arrowButton=document.createElement("div"),this.arrowButton.style.position="absolute",this.arrowButton.style.left="calc(120% - 21px)",this.arrowButton.style.top="50%",this.arrowButton.style.background="rgb(0, 0, 0, 0.5)",this.arrowButton.style.width="26px",this.arrowButton.style.height="26px",this.arrowButton.style.borderRadius="20px",this.arrowButton.style.justifyContent="center",this.arrowButton.style.alignItems="center",this.arrowButton.appendChild(t),this.arrowButton.style.transform="translate(0%, -50%)",this.arrowButton.style.display="flex"},e.prototype.createArrow=function(){this.arrow=document.createElement("img");var t=this.arrow.style;t.mask="url("+n.AYL_URL.ADSERVER_FO_STATIC+"/native/images/arrow.svg)",t.webkitMask="url("+n.AYL_URL.ADSERVER_FO_STATIC+"/native/images/arrow.svg)",t.webkitMaskPosition="center",t.maskRepeat="no-repeat",t.webkitMaskRepeat="no-repeat",t.width="8px",t.height="8px",s.injectHtmlAsChild(document.head,"<link href='https://fonts.googleapis.com/css?family=Montserrat&display=swap' rel='stylesheet'>")},e.prototype.addVerifiedAdDomain=function(){t.prototype.addVerifiedAdDomain.call(this),this.verifiedLogo.style.verticalAlign="top",this.verifiedLogo.style.marginTop="5px"},e.prototype.CreateOptOutButton=function(){var e=t.prototype.CreateOptOutButton.call(this),n=e.style;return n.width="14px",n.height="14px",n.top="8px",n.right="10px",n.padding="0px",e},e.prototype.setImage=function(e,n){t.prototype.setImage.call(this,e,n),this.blurredImage.src=r.ConfigurationReader.getImageContent({width:e,height:n},this.config.Attempt)},e.prototype.start=function(){var e=this;t.prototype.start.call(this),setTimeout((function(){e.setImage(e.image.offsetWidth,e.image.offsetHeight)}),0)},e}(i.GenericWidget);e.SocialWidget=c}.apply(e,r))||(t.exports=i)},6929:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(5678),n(246)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n,i,o,a,s,c){var l=t.call(this,e,n,i,o)||this;l.started=!1,l.element=document.createElement("div");var u=l.element.style;return u.position="absolute",u.width="100%",u.height=a.Content.Banner.Height+"px",u.top="50%",u.transform="translate(0px, -50%) scale(0.9)",u.margin="auto",e.appendChild(l.element),l.bannerWidget=new r.Banner(a,s,l.element),l.bannerWidget.setLoadedCallback((function(){l.element.firstElementChild.style.boxShadow="0px 0px 15px black",c(l.bannerWidget,l.bannerWidget.getMainImgSrc())})),l.bannerWidget.Execute(),l}return a(e,t),e.prototype.hide=function(){},e.prototype.setSize=function(e,n){t.prototype.setSize.call(this,e,n)},e.prototype.start=function(){var e=this;t.prototype.start.call(this),this.started||(this.started=!0,this.bannerWidget.start()),window.setTimeout((function(){e.setState(n.SlideState.PLAYING)}),0)},e.prototype.pause=function(){},e.prototype.resume=function(){},e}(n.Slide);e.default=i}.apply(e,r))||(t.exports=i)},7172:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.willExpand=!1,this.parentElement=t,this.desc=e,this.willExpand=n,this.mainElement=document.createElement("div"),this.mainElement.style.position="absolute",this.mainElement.style.bottom="72px",this.mainElement.style.marginLeft="40px",this.mainElement.style.marginRight="40px",this.mainElement.style.textAlign="left",this.descContainer=document.createElement("span"),this.descContainer.id="ayl-description",this.descContainer.style.color="rgb(255, 255, 255)",this.descContainer.style.fontWeight="bold",this.descContainer.style.fontSize="12px",this.descContainer.style.background="rgba(0, 0, 0, 0.5)",this.descContainer.style.boxShadow="0px 0 0 2px rgba(0, 0, 0, 0.5)",this.resize(),e&&e.length>0&&this.mainElement.appendChild(this.descContainer),t.appendChild(this.mainElement)}return t.prototype.resize=function(){var t=this,e=getComputedStyle(this.parentElement),n=e.height,r=e.width;""===n&&setTimeout((function(){t.resize()}));var i=document.createElement("span");i.innerHTML=this.desc,""!==n&&parseInt(n,10)<400&&!this.willExpand&&(i.style.display="inline-block",i.style.whiteSpace="nowrap",i.style.overflow="hidden",i.style.textOverflow="ellipsis",i.style.width=parseInt(r,10)-110+"px",i.style.marginBottom="-3px",this.mainElement.style.bottom="46px"),this.descContainer.innerHTML=i.outerHTML+" <span style='text-decoration: underline;'>Plus</span>"},t}();e.default=n}.apply(e,[n,e]))||(t.exports=r)},8199:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(5678),n(241)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a.videoSlide=o,a.hide(),a}return a(e,t),e.prototype.start=function(){var e=this;this.videoSlide&&(this.slideDuration=this.videoSlide.getDuration()/3),t.prototype.start.call(this),setTimeout((function(){e.setState(n.SlideState.PLAYING,e.slideDuration)}),0)},e.prototype.ended=function(){var e=this;2===this.slideIndex&&this.videoSlide?this.videoSlide.getVideoState()===r.VideoState.ENDED?t.prototype.ended.call(this):setTimeout((function(){e.ended()}),100):t.prototype.ended.call(this)},e}(n.Slide);e.default=i}.apply(e,r))||(t.exports=i)},41:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(5678)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,n,r,i,o,a){void 0===o&&(o=""),void 0===a&&(a="");var s=t.call(this,e,n,r,i)||this,c=n/1e3;return s.transitionString="transform "+c+"s ease",s.initialTransform=a,s.targetTransform=o,s.image=document.createElement("div"),s.imageStyle=s.image.style,s.imageStyle.position="absolute",s.imageStyle.visibility="hidden",s.imageStyle.left="0px",s.imageStyle.top="0px",s.imageStyle.width="100%",s.imageStyle.height="100%",e.appendChild(s.image),s.hide(),s}return a(e,t),e.prototype.hide=function(){t.prototype.hide.call(this),this.image&&(this.imageStyle.transition="",this.imageStyle.transform=this.initialTransform,this.imageStyle.visibility="hidden")},e.prototype.setSize=function(e,n){t.prototype.setSize.call(this,e,n),this.imageStyle.backgroundSize=this.width+"px auto"},e.prototype.setImage=function(t){this.imageStyle.background="url("+t+") center center / contain no-repeat"},e.prototype.start=function(){var e=this;t.prototype.start.call(this),this.imageStyle.transition="",this.imageStyle.transform=this.initialTransform,window.getComputedStyle(this.image).height,window.setTimeout((function(){e.imageStyle.visibility="visible",e.imageStyle.transition=e.transitionString,e.imageStyle.transform=e.targetTransform,e.setState(n.SlideState.PLAYING)}),0)},e.prototype.pause=function(){t.prototype.pause.call(this);var e=window.getComputedStyle(this.image).transform;this.imageStyle.transform=e},e.prototype.resume=function(){t.prototype.resume.call(this),this.imageStyle.transform=this.targetTransform},e}(n.Slide);e.default=r}.apply(e,r))||(t.exports=i)},5678:(t,e,n)=>{var r,i;r=[n,e,n(7796)],void 0===(i=function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.Slide=e.SlideState=void 0,function(t){t.STOPPED="STOPPED",t.PLAYING="PLAYING",t.PAUSED="PAUSED"}(r=e.SlideState||(e.SlideState={}));var i=function(){function t(t,e,n,i){this.width=300,this.height=600,this.slideState=r.STOPPED,this.slideIndex=-1,this.parentElement=t,this.slideDuration=e,this.slideStateCallback=n,this.slideIndex=i}return t.prototype.hide=function(){this.callbackTimer&&(this.callbackTimer.cancel(),this.callbackTimer=null)},t.prototype.setSize=function(t,e){this.width=t,this.height=e},t.prototype.setState=function(t,e){this.slideState=t,this.slideStateCallback&&this.slideStateCallback(this.slideIndex,t,e)},t.prototype.start=function(){this.callbackTimer&&(this.callbackTimer.cancel(),this.callbackTimer=null),this.callbackTimer=new n.default(this.ended.bind(this),this.slideDuration)},t.prototype.ended=function(){this.setState(r.STOPPED)},t.prototype.getDuration=function(){return this.slideDuration},t.prototype.pause=function(){this.callbackTimer&&this.callbackTimer.pause()},t.prototype.resume=function(){this.callbackTimer&&this.callbackTimer.resume()},t}();e.Slide=i}.apply(e,r))||(t.exports=i)},682:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};r=[n,e,n(4834),n(3420),n(5678),n(8175),n(6929),n(8819),n(171),n(7337),n(7172),n(8199),n(2703),n(41),n(3479),n(7602),n(8275),n(8686),n(8686),n(4490)],void 0===(i=function(t,e,n,r,i,o,c,l,u,p,d,h,f,g,m,y,v,E,b,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StoryWidget=void 0;var w=5e3,_=new p.DecoratorParameter,S=new p.DecoratorParameter,C=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.textPanelHeight=30,i.slides=[],i.currentSlide=0,i.lastStartCommand=0,i.lastClickTime=0,i.touchStartTime=0,i.longPressActionTimeout=0,i.arrowIcon=document.createElement("div"),i.arrowIcon.style.mask="url("+o.AYL_URL.ADSERVER_FO_STATIC+"/native/images/arrow.svg)",i.arrowIcon.style.webkitMask="url("+o.AYL_URL.ADSERVER_FO_STATIC+"/native/images/arrow.svg)",i.arrowIcon.style.maskPosition="center",i.arrowIcon.style.webkitMaskPosition="center",i.arrowIcon.style.maskRepeat="no-repeat",i.arrowIcon.style.webkitMaskRepeat="no-repeat",i.arrowIcon.style.width="8px",i.arrowIcon.style.height="8px",i.arrowIcon.style.backgroundColor="white",b.injectHtmlAsChild(document.head,"<link href='https://fonts.googleapis.com/css?family=Montserrat&display=swap' rel='stylesheet'>"),i}return a(e,t),e.prototype.makeTemplate=function(){return this.createSponsor(),this.createCredit(),t.prototype.makeTemplate.call(this)},e.prototype.addHTMLElements=function(){var e=this;this.credit.appendChild(this.adDomain),this.credit.appendChild(this.legal),this.sponsor.appendChild(this.sponsorLogo),this.sponsorTop.appendChild(this.sponsor),this.sponsorTop.appendChild(this.credit),this.element.appendChild(this.sponsorTop),this.config.Content.Banner||new d.default(this.element,u.ConfigurationReader.getProperty("description"),!(!this.config.InviewExpand||!n.isMobileDevice())),t.prototype.addHTMLElements.call(this);var r=this.onSlideStateChanged.bind(this);if(this.config.Content.Banner){var i=new c.default(this.backgroundContainer,w,r,this.slides.length,this.config,this.uiTrigger,(function(t,n){n&&(e.cta.style.visibility="visible",e.element.style.cursor="pointer"),e.bannerWidget=t,e.backgroundImg.onload=function(){e.backgroundImg.style.opacity="1"},e.backgroundImg.style.transition="opacity .2s ease-out",e.backgroundImg.style.opacity="0",e.backgroundImg.src=n,"DIV"===e.sponsorLogo.tagName&&(e.sponsorLogo.style.background="url("+n+")",e.sponsorLogo.style.backgroundSize="cover",e.sponsorLogo.style.backgroundPosition="center")}));this.slides.push(i),this.slides.push(new h.default(this.backgroundContainer,w,r,this.slides.length))}else if(this.config.Content.MainVideo){var o=new y.default(this.backgroundContainer,w,r,this.slides.length,this.config);this.slides.push(o),this.slides.push(new h.default(this.backgroundContainer,w,r,this.slides.length,o)),this.slides.push(new h.default(this.backgroundContainer,w,r,this.slides.length,o))}else this.slides.push(new g.default(this.backgroundContainer,w,r,this.slides.length,"scale(1.4)")),this.slides.push(new g.default(this.backgroundContainer,w,r,this.slides.length,"translate(0px, -"+this.textPanelHeight/2+"px) scale(1)","scale(1.4)"));var a=document.createElement("div");a.style.position="absolute",a.style.top="0px",a.style.left="-50%",a.style.width="200%",a.style.height="100%",a.style.maxWidth="none",a.style.boxShadow="inset 0px 90px 100px rgba(0,0,0,0.3)",a.style.pointerEvents="none";var s=document.createElement("div");s.style.position="absolute",s.style.top="0px",s.style.left="-50%",s.style.width="200%",s.style.height="100%",s.style.maxWidth="none",s.style.boxShadow="inset 0px -130px 100px rgba(0,0,0,0.3)",s.style.pointerEvents="none",this.backgroundContainer.appendChild(a),this.backgroundContainer.appendChild(s),S.setValue(this.slides.map((function(t){return t.getDuration()}))),this.element.appendChild(this.cta),n.isMobileDevice()||(this.leftButton=document.createElement("div"),this.leftButton.style.display="none",this.leftButton.style.position="absolute",this.leftButton.style.left="8px",this.leftButton.style.top="50%",this.leftButton.style.background="rgb(0, 0, 0, 0.5)",this.leftButton.style.width="26px",this.leftButton.style.height="26px",this.leftButton.style.borderRadius="20px",this.leftButton.style.justifyContent="center",this.leftButton.style.alignItems="center",this.leftButton.appendChild(this.arrowIcon.cloneNode()),this.leftButton.style.transform="rotate(-180deg) translate(0%, 50%)",this.rightButton=document.createElement("div"),this.rightButton.style.position="absolute",this.rightButton.style.right="8px",this.rightButton.style.top="50%",this.rightButton.style.background="rgb(0, 0, 0, 0.5)",this.rightButton.style.width="26px",this.rightButton.style.height="26px",this.rightButton.style.borderRadius="20px",this.rightButton.style.justifyContent="center",this.rightButton.style.alignItems="center",this.rightButton.appendChild(this.arrowIcon.cloneNode()),this.rightButton.style.transform="translate(0%, -50%)",this.element.appendChild(this.rightButton),this.element.appendChild(this.leftButton))},e.prototype.updateButtonVisibility=function(t){this.leftButton&&(0===this.currentSlide?(this.rightButton.style.display="flex",this.leftButton.style.display="none"):this.currentSlide===this.slides.length-1?(this.rightButton.style.display="none",this.leftButton.style.display="flex"):(this.rightButton.style.display="flex",this.leftButton.style.display="flex"))},e.prototype.createMainContainer=function(){t.prototype.createMainContainer.call(this),this.element.style.fontFamily="'Montserrat', sans-serif",_.setValue(this.element);var e=this.element.style;e.overflow="hidden",e.borderRadius="8px",this.applyBoxShadow(this.element)},e.prototype.createSponsor=function(){this.sponsor=document.createElement("div"),this.sponsor.id="ayl-sponsor";var t=this.sponsor.style;t.borderRadius="33px",t.width="33px",t.height="33px",t.flex="0 0 33px",t.marginRight="8px",t.position="relative"},e.prototype.createSponsorTop=function(){t.prototype.createSponsorTop.call(this);var e=this.sponsorTop.style;e.position="absolute",e.left="8px",e.top="16px",e.display="flex",e.flex="0 0 43px",e.flexDirection="row",e.justifyContent="start",e.alignItems="center",e.alignContent="center",e.padding="5px 0px 5px 5px",e.overflow="hidden",e.maxWidth="85%"},e.prototype.createSponsorLogo=function(){var e,n,i,o;t.prototype.createSponsorLogo.call(this);var a=this.sponsorLogo.style;if(a.width="33px",a.height="33px",a.borderRadius="33px","DIV"===this.sponsorLogo.tagName){this.sponsorLogo.innerHTML="",a.display="",a.backgroundSize="cover",a.backgroundRepeat="no-repeat";var s=r.GetUrlDynamicImage(this.config,null===(o=null===(i=null===(n=null===(e=this.config)||void 0===e?void 0:e.Content)||void 0===n?void 0:n.Preview)||void 0===i?void 0:i.Thumbnail)||void 0===o?void 0:o.Image,33,33,!1,!0,!1,!0);a.background="url('"+s+"')"}else"IMG"===this.sponsorLogo.tagName&&(a.objectFit="cover")},e.prototype.createAdDomain=function(){t.prototype.createAdDomain.call(this),this.adDomain.innerHTML=u.ConfigurationReader.getProperty("sponsor"),this.adDomain.style.opacity="1",this.adDomain.style.fontSize="13px",this.adDomain.style.lineHeight="15px",this.adDomain.innerHTML&&this.addVerifiedAdDomain()},e.prototype.createCredit=function(){this.credit=document.createElement("div");var t=this.credit.style;t.flex="1 1 0%",t.fontSize="9px",t.fontWeight="bold",t.lineHeight="12px",t.display="flex",t.flexDirection="column",t.color="white",t.overflow="hidden",t.whiteSpace="nowrap",t.textOverflow="ellipsis",t.paddingTop="2px"},e.prototype.createLegal=function(){t.prototype.createLegal.call(this);var e=this.legal.style;e.overflow="hidden",e.textOverflow="ellipsis",e.opacity="0.8",e.textAlign="left",e.paddingTop="1px"},e.prototype.createCTA=function(){t.prototype.createCTA.call(this),this.cta.innerHTML="";var e=this.cta.style;e.position="absolute",e.height="33px";var r=n.isFirefox()?"-moz-":"";e.width=r+"fit-content",n.isIE()&&(e.width="190px"),e.left="50%",e.transform="translate(-50%, 0px)";var i=n.isMobileDevice()?8:65;e.maxWidth="calc(100% - 2*("+i+"px))",e.textOverflow="ellipsis",e.bottom="20px",e.color="black",e.backgroundColor="white",e.textTransform="initial",e.margin="auto",e.boxSizing="initial",e.borderRadius="22px",e.padding="0px 25px",this.ctaIcon=this.arrowIcon.cloneNode();var o=this.ctaIcon.style;o.backgroundColor="black",o.padding="2px 0px",o.width="24px",o.height="30px",o.cssFloat="left",o.marginRight="-8px",o.boxSizing="initial",this.ctaLabel=document.createElement("div");var a=this.ctaLabel.style;a.fontSize="13px",a.lineHeight="33px",a.textOverflow="ellipsis",a.whiteSpace="nowrap",a.overflow="hidden",a.height="33px",a.fontWeight="bold",a.maxWidth="100%",a.cssFloat="left",a.paddingLeft="3px",this.ctaLabel.innerHTML=u.ConfigurationReader.getProperty("calltoaction"),this.cta.appendChild(this.ctaLabel),this.cta.appendChild(this.ctaIcon)},e.prototype.CreateOptOutButton=function(){var e=t.prototype.CreateOptOutButton.call(this);return e.style.top="20px",e},e.prototype.addListeners=function(){window.addEventListener("resize",this.resize.bind(this))},e.prototype.backgroundTouchDown=function(t){this.touchStartTime=(new Date).getTime(),this.longPressActionTimeout=window.setTimeout(this.pause.bind(this),500)},e.prototype.backgroundTouchUp=function(t){window.clearTimeout(this.longPressActionTimeout),(new Date).getTime()-this.touchStartTime<500?this.backgroundClickHandler(t):this.resume()},e.prototype.backgroundClickHandler=function(t){var e=(new Date).getTime();e-this.lastClickTime<500?(this.Trigger("CLICK"),t.stopPropagation()):(this.lastClickTime=e,(t.pageX?E.getRelativeCoordinates(t,this.element).x:t.changedTouches[0].clientX)>parseInt(window.getComputedStyle(this.element).width,10)/2?this.next():this.previous(),t.stopPropagation())},e.prototype.goTo=function(t){this.slides[this.currentSlide].hide(),this.currentSlide=t;var e=this.slides[t],n=this.getSize();e.setSize(n[0],n[1]),e.start(),this.lastStartCommand=(new Date).getTime(),this.leftButton&&this.updateButtonVisibility(n)},e.prototype.resize=function(){var t=this.getSize();this.slides[this.currentSlide].setSize(t[0],t[1]),!(t[1]<400)||n.isMobileDevice()&&this.config.InviewExpand||(this.cta.style.height="26px",this.cta.style.bottom="10px",this.ctaLabel.style.lineHeight="26px",this.ctaLabel.style.fontSize="12px",this.ctaIcon.style.width="12px",this.ctaIcon.style.height="23px")},e.prototype.next=function(){this.slides.length<=1||this.goTo(T.positive_modulo(this.currentSlide+1,this.slides.length))},e.prototype.previous=function(){if(!(this.slides.length<=1)){var t=-1;!(this.config.Content.MainVideo&&0===this.currentSlide)&&(new Date).getTime()-this.lastStartCommand>2e3&&(t=0),this.goTo(T.positive_modulo(this.currentSlide+t,this.slides.length))}},e.prototype.start=function(){var e=this;this.resize(),this.config.Content.Banner&&(this.cta.style.visibility="hidden",this.element.style.cursor="default"),t.prototype.start.call(this),this.goTo(0);var n=function(t){t!==this.isVisible&&(this.isVisible=t,this.config.Content.MainVideo||t&&this.next())}.bind(this);v.Viewability.registerElement(this.element,n,.5),document.addEventListener("visibilitychange",(function(){document.hidden?n(!1):n(!0)})),setTimeout((function(){e.setImage(1.4*e.image.offsetWidth,1.4*e.image.offsetHeight)}),0),this.slides.forEach((function(t){t instanceof g.default&&t.setImage(u.ConfigurationReader.getImageContent({width:1.4*e.computedWidth,height:0}))}))},e.prototype.pause=function(){this.slides[this.currentSlide].pause()},e.prototype.resume=function(){this.slides[this.currentSlide].resume()},e.prototype.getSize=function(){var t=window.getComputedStyle(this.element);return[parseInt(t.width,10),parseInt(t.height,10)]},e.prototype.onPageStarted=function(t,e){},e.prototype.onSlideStateChanged=function(t,e,n){switch(e){case i.SlideState.PLAYING:this.onPageStarted(t,n),this.resume();break;case i.SlideState.PAUSED:this.pause();break;case i.SlideState.STOPPED:this.next()}},e.prototype.Trigger=function(e){"CLICK"===e&&this.bannerWidget&&this.bannerWidget.triggerClick(),t.prototype.Trigger.call(this,e)},e=s([m.ProgressBarDecorator(_,"position:absolute;width:calc(100% - 26px);height:3px;top:8px;left:0px;margin-right:13px;margin-left:13px;",{borderRadius:2,spaceBetweenParts:3},S),f.ExpandableContainerDecorator(_)],e)}(l.BlurredBackWidget);e.StoryWidget=C}.apply(e,r))||(t.exports=i)},7602:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(241),n(5678)],void 0===(i=function(t,e,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,i,o,a){var s=t.call(this,e,r,i,o)||this;s.inFeedReady=!1,s.startOnReady=!1,s.config=a,s.videoHeight=Math.round(s.width),s.videoWidth=Math.round(s.width*(16/9));var c=document.createElement("div");c.style.position="absolute",s.injectorElementStyle=c.style,s.injectorElementStyle.left="0px",s.injectorElementStyle.top=(s.height-s.videoHeight)/2+"px",s.injectorElementStyle.width=s.videoWidth+"px",s.injectorElementStyle.height=s.videoHeight+"px",e.appendChild(c);var l=n(7878);s.inPreviewVideo=new l.InPreview(s.config,c,(function(){s.inFeedReady=!0,s.start()})),s.inPreviewVideo.setViewabilityReferenceElement(e);return s.inPreviewVideo.setSoundButtonRootElement(e,"position:absolute;right:35px;top:20px;width:15px;height:15px;margin:5px;background-color: transparent;"),s.inPreviewVideo.addStateChangedListener(s),s}return a(e,t),e.prototype.setSize=function(e,n){t.prototype.setSize.call(this,e,n);var r=this.inPreviewVideo.getMediafileSize(),i=16/9;-1!==r[0]&&-1!==r[1]&&(i=r[0]/r[1]);var o=0,a=0;i>1?(this.videoHeight=Math.min(this.width,this.height),this.videoWidth=this.videoHeight*i,o=-(this.videoWidth-this.width)/2,a=Math.max((this.height-this.videoHeight)/2,0)):this.width/this.height>i?(this.videoHeight=this.height,this.videoWidth=this.videoHeight*i,o=(this.width-this.videoWidth)/2,a=0):(this.videoWidth=this.width,this.videoHeight=this.videoWidth/i,o=0,a=(this.height-this.videoHeight)/2),this.injectorElementStyle.display="",this.injectorElementStyle.left=Math.round(o)+"px",this.injectorElementStyle.top=Math.round(a)+"px",this.injectorElementStyle.width=Math.round(this.videoWidth)+"px",this.injectorElementStyle.height=Math.round(this.videoHeight)+"px"},e.prototype.start=function(){this.duration=null,this.inFeedReady?(t.prototype.start.call(this),this.inPreviewVideo.open()):this.startOnReady=!0},e.prototype.pause=function(){t.prototype.pause.call(this),this.inPreviewVideo.pause()},e.prototype.resume=function(){t.prototype.resume.call(this),this.inPreviewVideo.play()},e.prototype.ended=function(){},e.prototype.getDuration=function(){return this.duration?this.duration:t.prototype.getDuration.call(this)},e.prototype.getVideoState=function(){return this.videoState},e.prototype.onVideoStateChanged=function(t,e){var n=this;if(this.slideState!==i.SlideState.STOPPED||!this.duration||t===r.VideoState.ENDED){if(this.videoState===r.VideoState.LOADED&&t===r.VideoState.PLAYING)this.duration=1e3*e,this.setState(i.SlideState.PLAYING,this.duration/3),this.endedTimeout=setTimeout((function(){n.setState(i.SlideState.STOPPED)}),this.duration/3);else if(t===r.VideoState.PLAYING){var o=1e3*e-this.duration/3*2;o>0&&(this.setState(i.SlideState.PLAYING),this.endedTimeout=setTimeout((function(){n.setState(i.SlideState.STOPPED)}),o))}t===r.VideoState.PAUSED&&(clearTimeout(this.endedTimeout),this.setState(i.SlideState.PAUSED)),this.videoState=t}},e}(i.Slide);e.default=o}.apply(e,r))||(t.exports=i)},5860:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8686),n(7451)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TopWidget=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.createMainContainer=function(){t.prototype.createMainContainer.call(this),this.element.style.maxHeight="600px"},e.prototype.createSponsorLogo=function(){t.prototype.createSponsorLogo.call(this);var e=this.sponsorLogo.style;"DIV"===this.sponsorLogo.tagName?(e.width="45px",e.height="45px",e.lineHeight="45px",e.fontSize="20px"):"IMG"===this.sponsorLogo.tagName&&(e.width="48px",e.height="48px")},e.prototype.createImage=function(){t.prototype.createImage.call(this);var e=this.imageContainer.style;e.width="100%",e.maxWidth="100%",e.height="calc(100% - 80px)"},e.prototype.createInfosContainer=function(){t.prototype.createInfosContainer.call(this);var e=this.infosContainer.style;e.width="100%",e.height="75px",e.bottom="5px",e.top="inherit",e.left="0px"},e.prototype.createWording=function(){t.prototype.createWording.call(this);var e=this.wording.style;e.right="0px",e.left="60px",e.width="calc(100% - 65px)"},e.prototype.createDescription=function(){t.prototype.createDescription.call(this),this.description.style.width="100%"},e.prototype.addHoverRules=function(){t.prototype.addHoverRules.call(this),n.applyCSSRule(this.imageContainer,"height","100%",this.hoveredRules),n.applyCSSRule(this.infosContainer,"transform","translateY(100%)",this.hoveredRules)},e}(r.DirectionalWidget);e.TopWidget=i}.apply(e,r))||(t.exports=i)},8552:(t,e,n)=>{var r,i,o=n(6887);r=[n,e,n(4834),n(811),n(5118),n(3808),n(3389),n(5738),n(1190),n(7070),n(6322),n(4220),n(4920),n(8709),n(7615),n(171),n(5573),n(7614),n(8275),n(6811)],void 0===(i=function(t,e,n,r,i,a,s,c,l,u,p,d,h,f,g,m,y,v,E,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeAttempt=void 0;var T=function(){function t(){this.executed=[],this.timespentStartTimestamp=Date.now(),this.adVisible=!1,this.viewableTriggered=!1,this.scrollTriggered=!1,this.loadTriggered=!1,this.listeners=new Array}return t.prototype.Inject=function(t,e){var n=this;this.config=t,this.adContainer=e,d.logger.log(d.LogLevel.INFO,"Starts ad.\n\t placement : "+this.config.Placement+"\n\t campaign  : "+this.config.Campaign+"\n\t attempt   : "+this.config.Attempt+"\n\t container given : "+!!this.adContainer),m.ConfigurationReader.setConfiguration(t,(function(t){if(t){if(n.executed.indexOf(n.config.Attempt)>=0)return n.currentIntegration.SetConfig(n.config),void n.currentIntegration.Refresh();a.Load(n.config.IntegrationConfig.Kind,n.config,n.uiTrigger.bind(n),n.adContainer).then((function(t){var e;if(n.currentIntegration=t,n.currentIntegration.Execute(),n.config.IntegrationConfig.Kind===y.NativeIntegration.NONE)return n.registerPerformUITriggers(),void n.integrationLoaded();if(n.config.ResizeIframe)try{n.resizeIframe(n.config),"NONE"===m.ConfigurationReader.getStoryMode()&&n.currentIntegration.GetMainContentElement().addEventListener("resize",(function(){return n.resizeIframe(n.config)}))}catch(t){d.logger.log(d.LogLevel.WARNING,"Unable to resize iframe to fit ad size")}var i=n.currentIntegration.GetMainContentElement();if(i){if(r.DisplayFilter(n.config,i),null===(e=n.config.Content.Preview)||void 0===e?void 0:e.Branding)switch(n.config.IntegrationConfig.Kind){case y.NativeIntegration.TEMPLATE:s.Slideshow(n.config,i,n.config.IntegrationConfig.Template.Placeholders.Image.Width,n.config.IntegrationConfig.Template.Placeholders.Image.Height);break;case y.NativeIntegration.WIDGET:s.Slideshow(n.config,i,n.config.IntegrationConfig.Widget.Placeholders.Image.Width,n.config.IntegrationConfig.Widget.Placeholders.Image.Height);break;case y.NativeIntegration.PREMIUM:s.Slideshow(n.config,i)}i.hasAttribute("class")?i.setAttribute("class",i.getAttribute("class")+" "+p.adRootClassName):i.setAttribute("class",p.adRootClassName),i.getAttribute("id")||i.setAttribute("id","ayl_i_"+n.config.Attempt),f.AddClass(i,"ayl_native_ad_"+n.config.Attempt),n.integrationLoaded()}else d.logger.log(d.LogLevel.INFO,"Main element cannot be found.")})).catch((function(t){d.logger.log(d.LogLevel.ERROR,"Error loading integration: "+t)})),n.executed.push(n.config.Attempt);var e=m.ConfigurationReader.unlockAndPopConfig();e&&n.Inject(e,n.adContainer)}}),!0)},t.prototype.resizeIframe=function(t){var e=document.querySelector("#ayl_"+t.Attempt);if(t.Content.Banner&&!g.CliprInterface.isCliprIntegration(t)&&p.executeForEachParent(e,(function(e){e!==document.body&&(e.style.minWidth=t.Content.Banner.Width+"px",e.style.minHeight=t.Content.Banner.Height+"px")})),p.InIframe()){e.style.margin="0",document.body.style.margin="0",document.body.style.overflow="hidden";var n=m.ConfigurationReader.getProperty("sizewidth",t.Attempt),r=m.ConfigurationReader.getProperty("sizeheight",t.Attempt),i=n?parseInt(n,10):0,o=r?parseInt(r,10):0,a=window.getComputedStyle(e),s=e.clientHeight-parseInt(a.paddingTop,10)-parseInt(a.paddingBottom,10),c=e.clientWidth-parseInt(a.paddingLeft,10)-parseInt(a.paddingRight,10),l=Math.max(s,o)>1?Math.max(e.clientHeight,o)+"px":"100%",u=Math.max(c,i)>1?Math.max(e.clientWidth,i)+"px":"100%",h={width:u,height:l},f={width:u,height:l},y=[];p.executeUntilTopMostWindow((function(t){var e=t.frameElement,n=e.style;n.maxWidth="100%";var r=getComputedStyle(e),i=!1,o=function(t){var o=parseInt(r[t],10);(o<=1||o<=parseInt(h[t],10))&&(e[t]=h[t],n[t]=h[t],i=!0),f[t]=r[t]};o("width"),o("height"),i&&y.push(e)}));var v=f;p.executeForEachParent(e,(function(t){t!==document.body&&(t.style.minWidth=v.width,t.style.minHeight=v.height)}));var E=getComputedStyle(e),b={width:E.width,height:E.height};y.forEach((function(t){t.width=b.width,t.height=b.height,t.style.width=b.width,t.style.height=b.height})),y.length>0&&(e.style.width.indexOf("%")>0&&(e.style.width="100%"),e.style.height.indexOf("%")>0&&(e.style.height="100%"));var T=p.getSafeFrameEXT();if(T){var w=T.geom();if(w){if(-1!==h.width.indexOf("%")){var _=parseInt(w.self.w,10)+parseInt(w.exp.l,10)+parseInt(w.exp.r,10);h.width=parseInt(h.width,10)/100*_+"px"}-1!==h.height.indexOf("%")&&(h.width=parseInt(h.height,10)/100*parseInt(w.exp.b,10)+"px");var S=Math.abs(parseInt(h.width,10)-parseInt(w.self.w,10)),C={l:S/2,r:S/2,b:Math.abs(parseInt(h.height,10)-parseInt(w.self.h,10)),push:"1"===T.supports()["exp-push"]};T.register(Math.max(w.self.w,1),Math.max(w.self.h,1),(function(t){"failed"===t&&(w.self.w<2||w.self.h<2)&&d.logger.log(d.LogLevel.FORCE,"failed safeframe expand request : "+JSON.stringify(C))})),T.expand(C)}}}},t.prototype.integrationLoaded=function(){var t=this;this.currentIntegration.InjectOptOutButton(),this.config.IntegrationConfig.Kind!==y.NativeIntegration.SPONSOR_COMMENT&&this.config.IntegrationConfig.Kind!==y.NativeIntegration.SPONSOR_INJECTOR||this.triggerEvent(u.Event.SPONSORPOST_INSERTION),this.triggerEvent(u.Event.IMPRESSION),this.triggerEvent(u.Event.INSERTION);var e=window;if(window.self!==window.top)try{e=window.parent.window}catch(t){}E.Viewability.initListeners(e),E.Viewability.registerElement(this.currentIntegration.GetMainContentElement(),(function(e){t.adVisible=e,t.registerPerformUITriggers()}),.5),E.Viewability.registerElement(this.currentIntegration.GetMainContentElement(),(function(){t.triggerEvent(u.Event.NI_VISIBLE_IMPRESSION),t.triggerEvent(u.Event.NI_VISIBLE_INSERTION)}),.5,0),E.Viewability.registerElement(this.currentIntegration.GetMainContentElement(),(function(){t.triggerEvent(u.Event.VISIBLE_IMPRESSION),t.triggerEvent(u.Event.VISIBLE_INSERTION),window.addEventListener("beforeunload",(function(){t.sendTimeSpent()}))}),.5,1e3),E.Viewability.registerElement(this.currentIntegration.GetMainContentElement(),(function(){l.TriggerEvent(u.Event.VIEWABLE_MRC50,t.config,t.config.Campaign,t.currentIntegration.GetMainContentElement())}),.5,1e3),E.Viewability.registerElement(this.currentIntegration.GetMainContentElement(),(function(){l.TriggerEvent(u.Event.VIEWABLE_MRC100,t.config,t.config.Campaign,t.currentIntegration.GetMainContentElement())}),1,1e3),i.Load(this.currentIntegration.GetMainContentElement(),this.config).then((function(e){t.currentFormat=e,t.registerPerformUITriggers()})),this.registerPerformUITriggers()},t.prototype.GetPlacement=function(){return this.config.Placement},t.prototype.uiTrigger=function(t){var e=this.config.PerformUITriggers;switch(t){case h.NativeUITrigger.CLICK:-1===e.indexOf(h.NativeUITrigger.CLICK)&&-1===e.indexOf(h.NativeUITrigger.MOUSE_OVER)||this.commandPerform();break;case h.NativeUITrigger.SCROLL:this.commandPerform();break;case h.NativeUITrigger.CLICK_CLOSE:this.triggerEvent(u.Event.NATIVE_REMOVE),this.Remove();break;default:d.logger.log(d.LogLevel.WARNING,"Unknown NativeUITrigger: "+t)}},t.prototype.registerPerformUITriggers=function(){for(var t=this,e=function(e){switch(r.config.PerformUITriggers[e]){case h.NativeUITrigger.LOAD:r.config.IntegrationConfig.Kind===y.NativeIntegration.WIDGET&&r.config.DisplayMode===b.WidgetDisplayMode.STORY&&r.config.Opener!==v.Opener.INVIEW||r.currentFormat&&!r.loadTriggered&&(r.loadTriggered=!0,r.commandPerform());break;case h.NativeUITrigger.TOUCH:if(r.adVisible)r.commandPerform();else{var i=r.currentIntegration.GetMainContentElement(),o=function(){t.commandPerform(),i.removeEventListener("touchend",o)};i.addEventListener("touchend",o)}break;case h.NativeUITrigger.VIEWABLE:E.Viewability.registerElement(r.currentIntegration.GetMainContentElement(),(function(e){e&&!t.viewableTriggered&&t.currentFormat&&t.config.Opener===v.Opener.INVIEW&&(t.commandPerform(),t.viewableTriggered=!0)}),.5);break;case h.NativeUITrigger.SCROLL:var a=function(){t.currentFormat&&!t.scrollTriggered?(t.scrollTriggered=!0,t.commandPerform()):setTimeout(a,0)};if(r.adVisible)a();else{var s="scroll";n.isMobileDevice()&&(s="touchend");var c=function(){t.adVisible&&(a(),window.removeEventListener(s,c))};window.addEventListener(s,c)}}},r=this,i=0;i<this.config.PerformUITriggers.length;i++)e(i)},t.prototype.commandPerform=function(){var t;this.triggerEvent(u.Event.NATIVE_ACTION),null===(t=this.currentFormat)||void 0===t||t.perform()},t.prototype.triggerEvent=function(t){d.logger.log(d.LogLevel.DEBUG,"Event triggered : "+t),l.TriggerEvent(t,this.config,this.config.Campaign,this.currentIntegration.GetMainContentElement()),this.listeners.forEach((function(e){return e.onAttemptEvent(t)}))},t.prototype.addListener=function(t){this.listeners.indexOf(t)<0&&this.listeners.push(t)},t.prototype.removeListener=function(t){this.listeners.filter((function(e){return e!==t}))},t.prototype.sendTimeSpent=function(){var t=Math.round((Date.now()-this.timespentStartTimestamp)/1e3);t>60&&(t=60),t<0&&(t=0);var e={url:this.config.TrackingPrefix+"/timespent?attempt="+c.EscapeHTML(this.config.Attempt)+"&event_kind="+u.Event.TIMESPENT_ON_PAGE+"&placement="+c.EscapeHTML(this.config.Placement)+"&duration="+t,type:"GET",cache:!1,global:!1,xhrFields:{withCredentials:!0}};o.ajax(e)},t.prototype.Remove=function(){this.currentIntegration&&this.currentIntegration.Remove(),this.currentIntegration=null},t.prototype.clickAd=function(){this.uiTrigger(h.NativeUITrigger.CLICK)},t.prototype.pauseAd=function(){return!!this.currentIntegration&&this.currentIntegration.pauseAd()},t.prototype.resumeAd=function(){return!!this.currentIntegration&&this.currentIntegration.resumeAd()},t.prototype.resizeAd=function(t,e,n){return!!this.currentIntegration&&this.currentIntegration.resizeAd(t,e,n)},t}();e.NativeAttempt=T}.apply(e,r))||(t.exports=i)},3095:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(3119),n(6322)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractFullscreenOpener=void 0;var i=r.getTopMostWindow(),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.addHTMLElements=function(){t.prototype.addHTMLElements.call(this),this.rootElement.style.position="fixed",this.rootElement.style.cursor="default",this.rootElement.style.left="0px",this.rootElement.style.top="0px",this.rootElement.style.width="100%",this.rootElement.style.height="100%",this.rootElement.style.zIndex="5999999",this.rootElement.style.transition="opacity 400ms ease-in-out",this.iframe.style.backgroundColor="white"},e.prototype.start=function(){var e=this;t.prototype.start.call(this),this.rootElement.style.opacity="0",this.rootElement.style.display="",i.document.body.appendChild(this.rootElement),i.document.body.style.overflow="hidden",setTimeout((function(){e.rootElement.style.opacity="1"}),0)},e.prototype.stop=function(){t.prototype.stop.call(this),this.rootElement.style.display="none",i.document.body.style.overflow="visible"},e}(n.IframeOpener);e.AbstractFullscreenOpener=o}.apply(e,r))||(t.exports=i)},2313:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};r=[n,e,n(6754),n(3095),n(7337),n(7070),n(1477)],void 0===(i=function(t,e,n,r,i,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FullscreenOpener=void 0;var l=new i.DecoratorParameter,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.addHTMLElements=function(){t.prototype.addHTMLElements.call(this),l.setValue(this.rootElement)},e.prototype.stop=function(){t.prototype.stop.call(this),this.iframe.src="about:blank"},e.prototype.wrapUrl=function(t){return n.RedirUrl(this.config,t,o.Event.CLICK)},e=s([c.TimedCloseButtonDecorator("width:30px;height:30px;top:20px;right:20px;position:absolute;",l,new i.DecoratorParameter(0))],e)}(r.AbstractFullscreenOpener);e.FullscreenOpener=u}.apply(e,r))||(t.exports=i)},3119:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(4834),n(5738),n(3843),n(171)],void 0===(i=function(t,e,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeOpener=void 0;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentLoaded=!1,e}return a(e,t),e.prototype.addHTMLElements=function(){if(t.prototype.addHTMLElements.call(this),this.rootElement=document.createElement("div"),this.rootElement.id="ayl_native_root_element_"+r.EscapeHTML(this.config.Attempt),this.iframe=document.createElement("iframe"),this.url=o.ConfigurationReader.getInviewUrl(this.config.Attempt),this.url){var e=this.iframe.style;e.width="100%",e.height="100%",e.backgroundColor="white",e.borderWidth="0px",n.isIOs()&&(e.width="1px",e.height="1px",e.minWidth="100%",e.minHeight="100%",this.iframe.setAttribute("scrolling","no")),this.rootElement.appendChild(this.iframe)}},e.prototype.addListeners=function(){var e=this;t.prototype.addListeners.call(this),this.iframe.addEventListener("load",(function(){e.contentLoaded||e.onContentLoad()}))},e.prototype.onContentLoad=function(){this.contentLoaded=!0},e.prototype.perform=function(){},e.prototype.start=function(){t.prototype.start.call(this),this.iframe.src=this.wrapUrl(this.url)},e.prototype.stop=function(){t.prototype.stop.call(this),this.contentLoaded=!1},e.prototype.wrapUrl=function(t){return t},e}(i.BaseFormat);e.IframeOpener=s}.apply(e,r))||(t.exports=i)},1168:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};r=[n,e,n(6754),n(3095),n(7337),n(7070),n(3658),n(1477),n(4834)],void 0===(i=function(t,e,n,r,i,o,c,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopInOpener=e.SeeMorePopInOpener=void 0;var p=new i.DecoratorParameter(document.createElement("div")),d="width:30px;height:30px;position:relative;margin-left:10px;",h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.addHTMLElements=function(){t.prototype.addHTMLElements.call(this),this.rootElement.style.padding="50px 50px 50px 50px",this.rootElement.style.width="100%",this.rootElement.style.height="100%",this.rootElement.style.boxSizing="border-box";var e=p.getValue();e.style.display="flex",e.style.position="absolute",e.style.top="16px",e.style.right="50px",this.rootElement.appendChild(e),this.iframe.id="ayl_landing_iframe"},e.prototype.addListeners=function(){var e=this;t.prototype.addListeners.call(this),this.injectorElement.addEventListener("click",(function(t){e.mouseX=t.pageX,e.mouseY=t.pageY}))},e.prototype.start=function(){var e=this;t.prototype.start.call(this),this.rootElement.animate&&!u.isMobileDevice()&&setTimeout((function(){var t=[{clipPath:"circle(0% at "+e.mouseX+"px "+e.mouseY+"px)"},{clipPath:"circle(100% at 50% 50%)"}];e.rootElement.animate(t,{duration:400,iterations:1})}))},e.prototype.wrapUrl=function(t){return n.RedirUrl(this.config,t,o.Event.DISPLAY_SITE)},e}(r.AbstractFullscreenOpener),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e=s([l.TimedCloseButtonDecorator(d,p),c.SeeMoreButtonDecorator("height:30px;position:relative;",p)],e)}(h);e.SeeMorePopInOpener=f;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e=s([l.TimedCloseButtonDecorator(d,p)],e)}(h);e.PopInOpener=g}.apply(e,r))||(t.exports=i)},4409:(t,e,n)=>{var r,i;r=[n,e,n(6754),n(5738),n(7070),n(7698),n(3968)],void 0===(i=function(t,e,n,r,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RedirectOpener=void 0;var s=function(){function t(t,e,n){this.config=t,this.callback=n,this.window=e}return t.prototype.start=function(){var t=this,e=i.Event.CLICK;this.config.Content.MainVideo?e=i.Event.VIDEO_CLICK:this.config.CampaignKind===a.AdType.AD_SPONSORPOST&&(e=i.Event.SPONSORPOST_PREVIEW_CLICK);var s=this.config.Content.Landing,c=null==s?void 0:s.Url,l=this.config.Content.MainVideo&&this.config.Content.MainVideo.ClickUrl;if(c=c||l){switch(this.config.ClickTracker&&(c=this.config.ClickTracker+r.EncodeURIComponent(c)),this.config.RedirectionTarget){case o.RedirectionTarget.SELF:this.window.open(n.RedirUrl(this.config,c,e,null==s?void 0:s.LegacyTracking),"_self");break;case o.RedirectionTarget.SELF_WITH_TAB:var u=document.URL;u.indexOf("?")>=0?u+="&aylvalidate=success":u+="?aylvalidate=success",setTimeout((function(){t.window.location.href=u}),1e3);case o.RedirectionTarget.TAB:this.window.open(n.RedirUrl(this.config,c,e,null==s?void 0:s.LegacyTracking),"_blank")}"function"==typeof this.callback&&this.callback()}},t}();e.RedirectOpener=s}.apply(e,r))||(t.exports=i)},3841:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericPlayer=void 0;var n=function(){function t(t,e,n,r){this.hasCompletedOnce=!1,this.tracker=t,this.mediaFiles=e,this.video=n,this.adContainer=r}return t.prototype.initAd=function(){throw"initAd not implemented"},t.prototype.startAd=function(){this.video.style.display="",this.adContainer.style.display=""},t.prototype.stopAd=function(){throw"stopAd not implemented"},t.prototype.pauseAd=function(){throw"pauseAd not implemented"},t.prototype.resumeAd=function(){throw"resumeAd not implemented"},t.prototype.addListeners=function(){throw"addListeners not implemented"},t.prototype.getRemainingTime=function(){return this.duration-this.elapsed},t.prototype.getDuration=function(){return this.duration},t.prototype.mute=function(t){throw"mute not implemented"},t.prototype.resize=function(){},t}();e.GenericPlayer=n}.apply(e,[n,e]))||(t.exports=r)},7528:(t,e,n)=>{var r,i;r=[n,e,n(5503),n(6322)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenMeasurement=void 0;var i=function(){function t(t){this.OM_SERVICE_URL=t.StaticPrefix+"/om/omweb-v1.js",this.OM_SESSION_URL=t.StaticPrefix+"/omid-session-client-v1.js"}return t.prototype.insertOMScript=function(t){var e=this,n=r.getTopMostWindow();if(n.document.head.getElementsByClassName("ayl-om-service").length>0)this.OmidSessionClient=n.OmidSessionClient&&n.OmidSessionClient.default,t();else{var i=document.createElement("script");i.className="ayl-om_service",i.type="text/javascript",i.setAttribute("src",this.OM_SERVICE_URL),i.addEventListener("load",(function(){var r=document.createElement("script");r.className="ayl-om_service",r.type="text/javascript",r.setAttribute("src",e.OM_SESSION_URL),r.addEventListener("load",(function(){e.OmidSessionClient=n.OmidSessionClient&&n.OmidSessionClient.default,t()})),n.document.body.appendChild(r)})),n.document.head.appendChild(i)}},t.prototype.createOMSession=function(t,e,n){var i=this;this.tracker=e,this.video=n;var o=r.getTopMostWindow(),a=o.document.URL,s=new this.OmidSessionClient.Partner("AdYouLike","1.77.1"),c=t.adVerifications.map((function(t){var e=t.resource;return new i.OmidSessionClient.VerificationScriptResource(e,t.vendor,t.verificationParameters,"full")})),l=new this.OmidSessionClient.Context(s,c,a);l.setServiceWindow(o),l.setVideoElement(n),this.adSession=new this.OmidSessionClient.AdSession(l),this.adSession.isSupported()&&(this.adSession.setCreativeType("video"),this.adEvents=new this.OmidSessionClient.AdEvents(this.adSession),this.mediaEvents=new this.OmidSessionClient.MediaEvents(this.adSession),this.adSession.start(),this.addListeners())},t.prototype.addListeners=function(){var t=this;this.tracker.on(n.PlayerEvents.LOADED,(function(){var e=new t.OmidSessionClient.VastProperties(!1,0,!0,"standalone");t.adEvents.loaded(e)})),this.tracker.on(n.PlayerEvents.STARTED,(function(){t.adEvents.impressionOccurred(),t.mediaEvents.start(t.video.duration,t.video.volume)})),this.tracker.on(n.PlayerEvents.FIRST_QUARTILE,(function(){t.mediaEvents.firstQuartile()})),this.tracker.on(n.PlayerEvents.MIDPOINT,(function(){t.mediaEvents.midpoint()})),this.tracker.on(n.PlayerEvents.THIRD_QUARTILE,(function(){t.mediaEvents.thirdQuartile()})),this.tracker.on(n.PlayerEvents.COMPLETE,(function(){t.mediaEvents.complete(),setTimeout((function(){var e;null===(e=t.adSession)||void 0===e||e.finish()}),3e3)}))},t}();e.OpenMeasurement=i}.apply(e,r))||(t.exports=i)},5503:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerEvents=void 0,function(t){t.LOADED="loaded",t.STARTED="start",t.AD_ERROR="adError",t.AD_PROGRESS="adProgress",t.PAUSED="pause",t.RESUMED="resume",t.FIRST_QUARTILE="firstQuartile",t.MIDPOINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.CREATIVE_VIEW="creativeView",t.MUTE="mute",t.UNMUTE="unmute",t.CLICKTHROUGH="clickthrough"}(e.PlayerEvents||(e.PlayerEvents={}))}.apply(e,[n,e]))||(t.exports=r)},9329:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(3841),n(5503),n(8686)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VastPlayer=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.initAd=function(){var t=this;this.mediaFiles.forEach((function(e){var n=document.createElement("source");n.src=e.fileURL,n.type=e.mimeType,t.video.appendChild(n)})),this.mute(!0),this.addListeners()},e.prototype.stopAd=function(){},e.prototype.resumeAd=function(){this.video.play()},e.prototype.pauseAd=function(){this.video.pause()},e.prototype.addListeners=function(){var t=this;this.video.addEventListener("loadeddata",(function(){t.tracker.emit(r.PlayerEvents.LOADED)})),this.video.addEventListener("durationchange",(function(e){t.duration=e.target.duration,t.tracker.setDuration(e.target.duration)})),this.video.addEventListener("canplay",(function(){t.tracker.trackImpression()})),this.video.addEventListener("play",(function(){t.hasCompletedOnce?t.tracker.emit(r.PlayerEvents.RESUMED):t.tracker.setPaused(!1)})),this.video.addEventListener("pause",(function(){t.hasCompletedOnce?t.tracker.emit(r.PlayerEvents.PAUSED):t.tracker.setPaused(!0)})),this.video.addEventListener("ended",(function(){t.hasCompletedOnce?t.tracker.emit(r.PlayerEvents.COMPLETE):(t.tracker.complete(),t.hasCompletedOnce=!0)})),this.video.addEventListener("timeupdate",(function(e){t.elapsed=e.target.currentTime,t.tracker.setProgress(e.target.currentTime),t.tracker.emit(r.PlayerEvents.AD_PROGRESS)})),this.video.addEventListener("volumechange",(function(e){t.tracker.setMuted(0===e.target.volume)})),this.video.addEventListener("error",(function(){t.tracker.errorWithCode("900")})),i.addClickListener(this.adContainer,(function(){t.tracker.click()}))},e.prototype.mute=function(t){return this.video.volume=t?0:1,0===this.video.volume},e.prototype.getVideo=function(){return this.video},e}(n.GenericPlayer);e.VastPlayer=o}.apply(e,r))||(t.exports=i)},6488:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(3841),n(5503)],void 0===(i=function(t,e,n,r){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.VPAIDPlayer=void 0,function(t){t.AdLoaded="AdLoaded",t.AdStarted="AdStarted",t.AdStopped="AdStopped",t.AdSkipped="AdSkipped",t.AdSkippableStateChange="AdSkippableStateChange",t.AdSizeChange="AdSizeChange",t.AdLinearChange="AdLinearChange",t.AdDurationChange="AdDurationChange",t.AdExpandedChange="AdExpandedChange",t.AdRemainingTimeChange="AdRemainingTimeChange",t.AdVolumeChange="AdVolumeChange",t.AdImpression="AdImpression",t.AdVideoStart="AdVideoStart",t.AdVideoFirstQuartile="AdVideoFirstQuartile",t.AdVideoMidpoint="AdVideoMidpoint",t.AdVideoThirdQuartile="AdVideoThirdQuartile",t.AdVideoComplete="AdVideoComplete",t.AdClickThru="AdClickThru",t.AdInteraction="AdInteraction",t.AdUserAcceptInvitation="AdUserAcceptInvitation",t.AdUserMinimize="AdUserMinimize",t.AdUserClose="AdUserClose",t.AdPaused="AdPaused",t.AdPlaying="AdPlaying",t.AdLog="AdLog",t.AdError="AdError"}(i||(i={}));var o=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a.adLoaded=!1,a.adPlaying=!1,a.startOnReady=!1,a.eventCallbacks={},a.parameters=o,a}return a(e,t),e.prototype.initAd=function(){var t=this;this.iframe=document.createElement("iframe"),this.iframe.src="about:blank",this.iframe.style.width="100%",this.iframe.style.height="100%",this.iframe.style.display="block",this.iframe.style.opacity="0",this.iframe.style.border="none";var e=document.createElement("script");e.src=this.mediaFiles[0].fileURL,e.addEventListener("load",(function(){var e=t.iframe.contentWindow.document.body,n=t.adContainer.parentElement.getBoundingClientRect();t.vpaid=t.iframe.contentWindow.getVPAIDAd(),t.addListeners(),t.vpaid.initAd(n.width,n.height,"normal",t.mediaFiles[0].bitrate,{AdParameters:t.parameters},{slot:e,videoSlot:t.video,videoSlotCanAutoPlay:!0}),t.mute(!0)})),this.adContainer.append(this.iframe),this.iframe.contentWindow.document.head.appendChild(e)},e.prototype.startAd=function(){this.adLoaded?(t.prototype.startAd.call(this),this.iframe.style.opacity="1",this.vpaid.startAd()):(this.startOnReady=!0,this.hasCompletedOnce&&this.initAd())},e.prototype.stopAd=function(){this.startOnReady=!1,this.adLoaded=!1,this.iframe.style.opacity="0",this.iframe.remove()},e.prototype.resumeAd=function(){this.vpaid&&!this.adPlaying&&this.vpaid.resumeAd()},e.prototype.pauseAd=function(){this.vpaid&&this.adPlaying&&this.vpaid.pauseAd()},e.prototype.addListeners=function(){var t=this,e=function(e){n.vpaid.subscribe((function(n){var r=t.eventCallbacks[e];r&&r(n)}),e)},n=this;for(var o in i)e(o);this.eventCallbacks[i.AdLoaded]=function(){t.adLoaded=!0,t.startOnReady&&t.startAd(),t.tracker.emit(r.PlayerEvents.LOADED)},this.eventCallbacks[i.AdDurationChange]=function(){t.duration=t.getDuration(),t.tracker.setDuration(t.duration)},[i.AdRemainingTimeChange,i.AdVideoStart,i.AdVideoFirstQuartile,i.AdVideoMidpoint,i.AdVideoThirdQuartile].forEach((function(e){t.eventCallbacks[e]=function(){t.tracker.setProgress(t.getDuration()-t.getRemainingTime()),t.tracker.emit(r.PlayerEvents.AD_PROGRESS)}})),this.eventCallbacks[i.AdImpression]=function(){t.tracker.trackImpression()},this.eventCallbacks[i.AdStarted]=function(){t.adPlaying=!0},this.eventCallbacks[i.AdPlaying]=function(){t.adPlaying=!0,t.hasCompletedOnce?t.tracker.emit(r.PlayerEvents.RESUMED):t.tracker.setPaused(!1)},this.eventCallbacks[i.AdPaused]=function(){t.adPlaying=!1,t.hasCompletedOnce?t.tracker.emit(r.PlayerEvents.PAUSED):t.tracker.setPaused(!0)},this.eventCallbacks[i.AdStopped]=function(){t.adPlaying=!1,t.hasCompletedOnce?t.tracker.emit(r.PlayerEvents.COMPLETE):(t.tracker.complete(),t.hasCompletedOnce=!0)},this.eventCallbacks[i.AdVolumeChange]=function(){t.tracker.setMuted(0===t.vpaid.getAdVolume())},this.eventCallbacks[i.AdClickThru]=function(){t.tracker.click()},this.eventCallbacks[i.AdError]=function(){t.adPlaying=!1,t.tracker.errorWithCode("900")}},e.prototype.getRemainingTime=function(){return this.vpaid.getAdRemainingTime()},e.prototype.getDuration=function(){return this.vpaid.getAdDuration()},e.prototype.mute=function(t){return this.vpaid.setAdVolume(t?0:100),0===this.vpaid.getAdVolume()},e.prototype.resize=function(){var t=this.adContainer.parentElement.getBoundingClientRect();this.vpaid.resizeAd(t.width,t.height,"normal")},e}(n.GenericPlayer);e.VPAIDPlayer=o}.apply(e,r))||(t.exports=i)},6424:(t,e,n)=>{var r,i;r=[n,e,n(432),n(6740),n(9610),n(4354),n(121),n(7615),n(171),n(7070),n(1491),n(7614)],void 0===(i=function(t,e,n,r,i,o,a,s,c,l,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericAylTag=void 0;var d=function(){function t(){this.version="1.77.1"}return t.prototype.Cln=function(t){n.Backend.remove(t)},t.prototype.Call=function(t){var e=a.omnitagParamsSchema.cast(t);e.IntegrationTrigger=u.OmnitagTrigger.CALL,n.Backend.callOmniTag(e)},t.prototype.Insert=function(t){n.Backend.loadPlacement(t)},t.prototype.InsertFromConfig=function(t){n.Backend.insertCampaign(t)},t.prototype.LoadAd=function(t){n.Backend.insertCampaign(t)},t.prototype.requestAd=function(t,e,a,s){var l=this,u=o.campaignSchema.cast(a.ForceConfig||{});delete a.ForceConfig;var d=r.Extend({Placement:t},a);n.Backend.callOmniTag(d,null,{adContainer:e,insertAd:function(t){for(var n in u)t[n]=u[n];var r={attemptId:t.Attempt,pixelTrackings:{impression:[],visibleImpression:[],CTA:[]},jsTrackings:{impression:[],visibleImpression:[],CTA:[]},errorCode:0};t.Opener===p.Opener.INVIEW&&(r.url=c.ConfigurationReader.getInviewUrl(t.Attempt),r.url||(r.errorCode=parseInt(i.AdError.NO_LANDING.toString(),10))),l.fillNativeAssets(t,e,r),s(r)},noAd:function(t){s({errorCode:parseInt(t.toString(),10)})}})},t.prototype.clickAd=function(t){var e=n.Backend.accessAttempt(t);e&&e.clickAd()},t.prototype.fillNativeAssets=function(t,e,n){var r={impression:[l.Event.IMPRESSION,l.Event.INSERTION],visibleImpression:l.Event.VISIBLE_IMPRESSION,CTA:l.Event.CLICK};Object.keys(r).map((function(i){var o=s.CliprInterface.generateUrls(t,r[i],e);n.pixelTrackings[i]=n.pixelTrackings[i].concat(o.pixelTrackings),n.jsTrackings[i]=n.jsTrackings[i].concat(o.jsTrackings)}));try{var o=t.Content.Preview.Text;n.title=o.TITLE,n.clickUrl=t.TrackingPrefix+"/ar?event_kind=CLICK&attempt="+t.Attempt+"&campaign="+t.Campaign+"&url="+encodeURIComponent(t.Content.Landing.Url),n.image=c.ConfigurationReader.getImageContent({width:300,height:0}),n.body=o.DESCRIPTION,n.cta=o.CALLTOACTION,n.sponsoredBy=t.Content.Preview.Sponsor.Name,n.icon=c.ConfigurationReader.getProperty("logo"),n.privacyIcon=t.Content.Preview.Credit.Logo.Resource.Data.External.Url,n.privacyLink=t.Content.Preview.Credit.Url}catch(t){n.image||(n.errorCode=parseInt(i.AdError.MISSING_ASSETS.toString(),10))}return n},t}();e.GenericAylTag=d}.apply(e,r))||(t.exports=i)},2074:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(432),n(8397),n(6740),n(7757),n(8175),n(6424)],void 0===(i=function(t,e,r,i,o,s,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.p=c.AYL_URL.ADSERVER_FO_STATIC+"/";var u=function(t){function e(){var e=t.call(this)||this;return i.Bootstrap(),r.Create(i.Omnitag.ApiPrefix),e}return a(e,t),e.prototype.Call=function(e){var n;if(e.Placement){var r=s.GetScriptParamsForPlacement(e.Placement);n=o.Extend({},e,r.FragmentParams,r.ScriptTagParams)}else n=e;t.prototype.Call.call(this,n)},e}(l.GenericAylTag);if(!window.AylTag){var p=window;p.Adyoulike=new u,p.AylTag=window.Adyoulike}}.apply(e,r))||(t.exports=i)},8397:(t,e,n)=>{var r,i;r=[n,e,n(7757),n(8175),n(4220)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bootstrap=e.OmnitagObject=e.Omnitag=e.IsOmnitagFirstLoad=void 0,e.IsOmnitagFirstLoad=!(window.Adyoulike&&window.Adyoulike._);var o=function(){this.Setup=window.AdyoulikeSetup||{},this.Legacy=null===window.Adyoulike?void 0:window.Adyoulike,this.LoadedAt=(new Date).getTime(),this.Analytics=!!location.protocol.match(/^https?:$/),this.Attempts={}};e.OmnitagObject=o,e.Bootstrap=function(){e.Omnitag=new o;var t="https:"===document.location.protocol.toLowerCase()?"https":"http";r.isDevEnvironment()&&(e.Omnitag.Analytics=!1),e.Omnitag.ApiPrefix=t+":"+r.AYL_URL.ADSERVER_FO_API,e.Omnitag.LoggerheadEndpoint="https:"+r.AYL_URL.ADSERVER_LOGGER,e.Omnitag.StaticPrefix=t+":"+r.AYL_URL.ADSERVER_FO_STATIC,e.Omnitag.SandboxPrefix=t+":"+r.AYL_URL.ADSERVER_FOSB;try{n.FillFromFirstMatchingScriptInDocument(e.Omnitag)}catch(t){i.logger.log(i.LogLevel.ERROR,"Bootstrap has failed!")}}}.apply(e,r))||(t.exports=i)},8175:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AYL_URL=e.isBeta=e.shouldUseAylPlayer=e.getUserSyncRate=e.isDevEnvironment=void 0;var n=Math.random(),r=Math.random();e.isDevEnvironment=function(){return!1},e.getUserSyncRate=function(){return(parseInt("100",10)||parseInt(void 0,10)||50)/100},e.shouldUseAylPlayer=function(){var t=parseInt("0",10)||parseInt(void 0,10)||0;return n<t/100},e.isBeta=function(){var t=parseInt("1",10)||parseInt(void 0,10)||50;return r<t/100},e.AYL_URL={ADSERVER_FO_STATIC:"//fo-static.omnitagjs.com/fo-static",ADSERVER_FO_API:"//fo-api.omnitagjs.com/fo-api",ADSERVER_LOGGER:"//loggerhead.omnitagjs.com/loggerhead/log",ADSERVER_FOSB:"//fosb-static.omnitagsb.com/fosb-static"}}.apply(e,[n,e]))||(t.exports=r)},811:(t,e,n)=>{var r,i;r=[n,e,n(5738),n(2855)],void 0===(i=function(t,e,n,r){"use strict";function i(t){switch(t){case r.Access.ADMINPREVIEW:case r.Access.USERPREVIEW:return!0;case r.Access.ALL:case r.Access.DISABLED:default:return!1}}function o(t){switch(t){case r.Access.ADMINPREVIEW:case r.Access.USERPREVIEW:return!0;case r.Access.ALL:case r.Access.DISABLED:default:return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayFilter=void 0,e.DisplayFilter=function(t,e){if(e&&(i(t.PlacementAccess)||o(t.CampaignAccess))){var r=void 0,a=void 0,s=[];(r=document.createElement("div")).className="ayl_preview_"+n.EscapeHTML(t.Attempt);var c={position:"absolute",width:"100%",height:"100%",top:"0",bottom:"0",left:"0",right:"0","pointer-events":"none","z-index":"12","background-color":"rgba(255, 255, 255, 0.4)","background-image":"linear-gradient(-45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)","background-size":"40px 40px"},l=void 0;for(var u in"absolute"===e.style.position?(c.top=e.style.top,c.right=e.style.right,c.bottom=e.style.bottom,c.left=e.style.left):"relative"===e.style.position?(c.width=e.style.width,c.height=e.style.height):l=e.querySelector("img[src^='"+t.DynamicPrefix+"'], [style*='"+t.DynamicPrefix+"']"),c)c.hasOwnProperty(u)&&(r.style[u]=c[u]);(a=document.createElement("div")).className="ayl_preview_title_"+n.EscapeHTML(t.Attempt);var p={width:"100%",height:"auto",top:"0",bottom:"0",left:"0",right:"0",position:"absolute",color:"rgba(0,0,0,0.3)","text-align":"center","font-size":"40px","line-height":"40px",margin:"auto",display:"table"};for(var u in p)p.hasOwnProperty(u)&&a.style.setProperty(u,p[u]);i(t.PlacementAccess)&&s.push("PLACEMENT"),o(t.CampaignAccess)&&s.push("CAMPAIGN"),a.innerHTML=s.join("/")+" PREVIEW",r.appendChild(a),l?l.insertAdjacentHTML("beforebegin",r.innerHTML):e.appendChild(r)}}}.apply(e,r))||(t.exports=i)},8709:(t,e,n)=>{var r,i;r=[n,e,n(4220),n(5738)],void 0===(i=function(t,e,n,r){"use strict";function i(t,e){e.parentNode.insertBefore(t,e.nextSibling)}Object.defineProperty(e,"__esModule",{value:!0}),e.Extend=e.InsertAllAfter=e.InsertAfter=e.ParseHTML=e.HasClass=e.RemoveClass=e.AddClass=e.IsVisible=e.Is=e.Matches=e.InsertExternalScript=e.InsertScript=e.Offset=void 0,e.Offset=function(t,e){void 0===e&&(e=document.body);var n={top:-500,left:0};return t.parentElement&&(n=t.getBoundingClientRect()),{top:n.top+e.scrollTop,left:n.left+e.scrollLeft}},e.InsertScript=function(t,e){try{var i=document.createElement("script");i.className=r.AYL_INJECT_CLASSNAME,i.type="text/javascript",e.src&&i.setAttribute("src",e.src);var o=e.innerHTML;o&&(i.textContent=o,i.onload=function(){var t=new Function("(function(){"+o+"})()");setTimeout(t,1)}),t.appendChild(i)}catch(t){n.logger.log(n.LogLevel.INFO,"Issue with Javascript Tracker : "+t.message)}},e.InsertExternalScript=function(t,e,i){try{var o=document.createElement("script");o.className=r.AYL_INJECT_CLASSNAME,o.type="text/javascript",e&&o.setAttribute("src",e),i&&(o.onload=i),t.appendChild(o)}catch(t){n.logger.log(n.LogLevel.INFO,"Issue with external script : "+t.message)}},e.Matches=function(t,e){for(var n=document.querySelectorAll(e),r=0;r<n.length;r++)if(n[r]===t)return!0;return!1},e.Is=function(t,e){for(var n,r,i=t,o=!1;i.parentNode;)i=i.parentNode;i instanceof Document||i instanceof DocumentFragment?n=i:(n=r=document.createDocumentFragment(),r.appendChild(i));for(var a=n.querySelectorAll(e),s=0;s<a.length;s++)if(this===a.item(s)){o=!0;break}for(;r&&r.firstChild;)r.removeChild(r.firstChild);return o},e.IsVisible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},e.AddClass=function(t,e){t&&(t.classList?t.classList.add(e):t.className+=" "+e)},e.RemoveClass=function(t,e){t&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))},e.HasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},e.ParseHTML=function(t){var e=t;t.indexOf("<html>")<0&&(e="<!DOCTYPE html><html><head></head><body>"+t+"</body></html>");var n=Array.from((new DOMParser).parseFromString(e,"text/html").body.children);return n.forEach((function(t){t.parentElement.removeChild(t)})),n},e.InsertAfter=i,e.InsertAllAfter=function(t,e){for(var n=0;n<t.length;n++)i(t[n],e)},e.Extend=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t=t||{};for(var r=0;r<e.length;r++)if(e[r])for(var i in e[r])e[r].hasOwnProperty(i)&&(t[i]=e[r][i]);return t}}.apply(e,r))||(t.exports=i)},4220:function(t,e,n){var r,i,o,a=n(6887),s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(8397),n(8175),n(5738),n(7779),n(6322)],void 0===(i=function(t,e,n,r,i,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logger=e.LogLevel=void 0;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ERROR=new u("ERROR",0),e.WARNING=new u("WARNING",1),e.INFO=new u("INFO",2),e.DEBUG=new u("DEBUG",3),e.FORCE=new u("FORCE",4),e}return s(e,t),e}(o.Enum),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.intValue=n,r}return s(e,t),e}(o.EnumElement);e.LogLevel=new l;var p=function(){function t(){this.snitchLevel=e.LogLevel.ERROR.intValue,this.CAN_HAVE_BIG_SNITCH_MESSAGES=!!window.JSON;var t=e.LogLevel[c.getPageParameter("AYL_TAG_LOG")];this.logLevel=t?t.intValue:-1,r.isDevEnvironment()||(""+window.location).match(/^[^:]+:\/\/(demo|native\-generator|public|mobile|www)\.adyoulike\.(co\.)?[^.]+\.?(\/|$)/)||(window.addEventListener?window.addEventListener("error",this.onErrorEventCatcher,!1):window.attachEvent("onerror",this.onErrorEventCatcher))}return t.prototype.snitch=function(t,e){if(n.Omnitag){var r,o,s,c,l="FO JS("+((new Date).getTime()-n.Omnitag.LoadedAt),u=window.performance&&window.performance.timing&&window.performance.timing.navigationStart;if(u&&(l+="+"+(n.Omnitag.LoadedAt-u)),l+="ms): "+e.match(/[^\n]*/)[0]+"\n"+this.snitchHeader(),this.CAN_HAVE_BIG_SNITCH_MESSAGES)r="POST",o="json",c="application/json; charset=UTF-8",s=JSON.stringify({LogLevel:t,Payload:{Msg:l}});else{r="GET",o="text",c="application/x-www-form-urlencoded; charset=UTF-8";var p=1900,d='{"Msg":"'+(l=l.substring(0,p)).replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"}',h=i.EncodeURIComponent(d);if(h.length>p){var f=p-(h.length-l.length);f<0&&(f=0),d='{"Msg":"'+(l=l.substring(0,f)).replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"}',h=i.EncodeURIComponent(d)}s={LogLevel:t,Payload:d}}a.ajax({url:n.Omnitag.LoggerheadEndpoint,type:r,cache:!1,global:!1,dataType:o,contentType:c,data:s})}},t.prototype.snitchHeader=function(){var t="";if(window.location){var e=""+window.location;this.CAN_HAVE_BIG_SNITCH_MESSAGES?t+="Location: "+e.substring(0,1e3)+"\n":t+=e.substring(0,200)+"\n"}if(document.referrer){var n=""+document.referrer;this.CAN_HAVE_BIG_SNITCH_MESSAGES?t+="Referrer: "+n.substring(0,1e3)+"\n":t+=n.substring(0,200)+"\n"}if(window.navigator&&navigator.userAgent){var r=""+navigator.userAgent;this.CAN_HAVE_BIG_SNITCH_MESSAGES?t+="UserAgent: "+r.substring(0,1e3)+"\n":t+=r.substring(0,150)+"\n"}return t},t.prototype.log=function(t,n){if(t.intValue<=this.snitchLevel&&this.snitch(t.intValue,n),console&&(t.intValue<=this.logLevel||t===e.LogLevel.FORCE)){var r="AYL - ",i="";switch(t){case e.LogLevel.ERROR:r+="[ERROR] - ",i="#FF0000";break;case e.LogLevel.WARNING:r+="[WARN] - ",i="#EFCC00";break;case e.LogLevel.INFO:r+="[INFO] - ",i="#FFFFFF";break;case e.LogLevel.DEBUG:r+="[DEBUG] - ",i="#CCCCFF";break;default:i="#FFFFFF"}t===e.LogLevel.ERROR&&console.trace?console.trace("%c"+r+n,"background: #222; color: "+i):console.log&&console.log("%c"+r+n,"background: #222; color: "+i)}},t.prototype.onErrorEventCatcher=function(t,n){var r="";if(this.config&&(r="Placement id : "+this.config.Placement,r+=this.config.Campaign?" | Campaign id : "+this.config.Campaign:""),t&&t.error){var i=""+t.error.stack;i.match(/(@|\s|\()https?:\/\/[a-z\.0-9-]+\.(omnitagjs\.com|adyoulike\.com|adyoulike\.net)(\/.*):\d+:\d+\)?$/im)&&this.log(e.LogLevel.ERROR,r+"\nUncaught Error: "+i)}else if("string"==typeof n&&n.match(/^https?:\/\/[a-z\.0-9-]+\.(omnitagjs\.com|adyoulike\.com|adyoulike\.net)/i))return void this.log(e.LogLevel.ERROR,r+"\nUncaught Error: "+n)},t.prototype.setConfiguration=function(t){this.config=t},t}();e.logger=new p}.apply(e,r))||(t.exports=i)},6740:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extend=e.DeepMerge=void 0,e.DeepMerge=function t(e,n){if(e)for(var r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];if(n.hasOwnProperty(o)){if(void 0!==e[o]&&null!==e[o]){var a=e[o],s=n[o];if("object"==typeof a&&a.hasOwnProperty("value")||"string"==typeof a||"boolean"==typeof a||"number"==typeof a||Array.isArray(a)||void 0===s||null===s&&"object"==typeof s)n[o]=e[o];else if("object"==typeof a&&a.hasOwnProperty("map")){s=s;for(var c=(a=a).Keys(),l=void 0,u=0;u<c.length;u++){l=c[u];var p=a.Get(l);if(Array.isArray(p)){var d=s.Get(l,[]);Array.isArray(d)||(d=[d]),s.Set(l,d.concat(p))}else s.Set(l,p)}}else"object"==typeof a&&t(e[o],n[o])}}else n[o]=e[o]}},e.Extend=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=1;n<t.length;n++)for(var r in t[n])t[n].hasOwnProperty(r)&&(t[0][r]=t[n][r]);return t[0]}}.apply(e,[n,e]))||(t.exports=r)},6761:(t,e,n)=>{var r,i,o=n(6887);r=[n,e,n(8397),n(6740),n(5738),n(9800),n(9659),n(6322),n(171),n(4576),n(628),n(213),n(4834)],void 0===(i=function(t,e,n,r,i,a,s,c,l,u,p,d,h){"use strict";function f(t){t&&window.setTimeout((function(){t.parentNode.removeChild(t)}),1e4)}function g(t,e,r,o,a){var s,c=function(){o=function(t,e,n,r){},a()},l=!1,u=function(n){var r=e+"__";"string"!=typeof n.data||n.data.substring(0,r.length)!==r||l||(l=!0,c=function(){},window.detachEvent?window.detachEvent("onmessage",u):window.removeEventListener("message",u),clearTimeout(s),n.data.indexOf("vasterror")>-1?a():o(t,"/modifier",t.ApiPrefix,n.data.substring(r.length)),h.removeEventListener("readystatechange",d),h.removeEventListener("load",d),f(h))};window.attachEvent?window.attachEvent("onmessage",u):window.addEventListener("message",u);var p,d=function(t){h.readyState&&!/loaded|complete/.test(h.readyState)||(s=window.setTimeout((function(){c()}),2e3))},h=document.createElement("iframe");h.style.position="absolute",h.style.left="-9999px",h.style.width="1px",h.style.height="1px",h.style.display="block",p={url:r,uid:e},h.src=n.Omnitag.StaticPrefix+"/if-vast.html#"+i.EncodeURIParams(p),h.addEventListener("readystatechange",d),h.addEventListener("load",d),document.body.appendChild(h)}function m(t,e,n,r,i){var o=function(){r=function(t,e,n,r){},i()};window.nextperf=function(e){o=function(){},clearTimeout(a),""!==e?r(t,"/modifier",t.ApiPrefix,e):i(),delete window.nextperf};var a=window.setTimeout((function(){o()}),1e3),s=document.createElement("script");s.setAttribute("src",n),c.setDomInjectionTarget({Attempt:t.Attempt,Placement:t.Placement},s),s.addEventListener("error",(function(){o=function(){},clearTimeout(a),i()}))}function y(t,e,n,r,i){var o,a=function(){r=function(t,e,n,r){},i()},s=function(n){var l=e+"__";if("string"==typeof n.data&&n.data.substring(0,l.length)===l){a=function(){},window.detachEvent?window.detachEvent("onmessage",s):window.removeEventListener("message",s),clearTimeout(o);var u=n.data.substring(l.length);u?r(t,"/modifier",t.ApiPrefix,u):i(),f(c)}};window.attachEvent?window.attachEvent("onmessage",s):window.addEventListener("message",s);var c=document.createElement("iframe");-1!==n.indexOf("#")?c.src=n+"Uid="+e:c.src=n+"#Uid="+e,c.width="0",c.height="0",c.frameBorder="0",c.setAttribute("style","display: none; width: 0px; height: 0px;"),c.onload=c.onreadystatechange=function(t,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,o=window.setTimeout((function(){a()}),1e3))},document.body.appendChild(c)}function v(t,e,n,r,i){var a="%7B%22eventtrackers%22%3A%5B%7B%22event%22%3A1%2C%22methods%22%3A%5B1%5D%7D%2C%7B%22event%22%3A2%2C%22methods%22%3A%5B1%5D%7D%5D%2C%22assets%22%3A%5B%7B%22id%22%3A1%2C%22required%22%3A1%2C%22title%22%3A%7B%22len%22%3A60%7D%7D%2C%7B%22id%22%3A2%2C%22required%22%3A1%2C%22img%22%3A%7B%22type%22%3A3%2C%22wmin%22%3A"+l.ConfigurationReader.getProperty("thumbnailwidth")+"%2C%22hmin%22%3A"+l.ConfigurationReader.getProperty("thumbnailheight")+"%2C%22mimes%22%3A%5B%22image%2Fjpg%22%2C%22image%2Fpng%22%5D%7D%7D%2C%7B%22id%22%3A4%2C%22img%22%3A%7B%22type%22%3A1%2C%22wmin%22%3A90%2C%22hmin%22%3A90%2C%22mimes%22%3A%5B%22image%2Fjpg%22%2C%22image%2Fpng%22%5D%7D%7D%2C%7B%22id%22%3A5%2C%22data%22%3A%7B%22type%22%3A2%2C%22len%22%3A"+l.ConfigurationReader.getProperty("descriptionlength")+"%7D%7D%2C%7B%22id%22%3A6%2C%22data%22%3A%7B%22type%22%3A1%7D%7D%2C%7B%22id%22%3A7%2C%22data%22%3A%7B%22type%22%3A12%7D%7D%5D%2C%22ver%22%3A%221.2%22%7D",s={url:t.DataSourceUrl.replace("[ENCODED_ASSETS]",a).replace("[encoded_assets]",a).replace("[RANDOM]",t.Attempt).replace("[random]",t.Attempt),type:"GET",cache:!1,global:!1,dataType:"json",xhrFields:{withCredentials:!0},error:function(t,e,n){i()},success:function(e,n,i){clearTimeout(c);var o=JSON.stringify({Payload:e,Language:t.Lang,DescriptionLength:l.ConfigurationReader.getProperty("descriptionlength")});r(t,"/modifier",t.ApiPrefix,o),r=function(t,e,n,r){}}},c=window.setTimeout((function(){r(t,"/modifier",t.ApiPrefix,"{}"),r=function(t,e,n,r){}}),3e3);o.ajax(s)}function E(t,e,n,r,i){var a={url:t.DataSourceUrl,type:"GET",cache:!1,global:!1,dataType:"json",xhrFields:{withCredentials:!0},error:function(t,e,n){i()},success:function(e,n,i){clearTimeout(s);var o=JSON.stringify({Payload:e,Language:t.Lang,DescriptionLength:l.ConfigurationReader.getProperty("descriptionlength")});r(t,"/modifier",t.ApiPrefix,o),r=function(t,e,n,r){}}},s=window.setTimeout((function(){r(t,"/modifier",t.ApiPrefix,"{}"),r=function(t,e,n,r){}}),3e3);o.ajax(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.MergeModifierConfig=e.Call=void 0,e.Call=function(t,e,n){var r,o=t.DataSource,f=i.EscapeHTML(t.Campaign)+ +new Date,b=i.SubstituteTokens(t.DataSourceUrl);l.ConfigurationReader.setConfiguration(t,(function(){switch(o){case a.Datasource.VAST:case a.Datasource.VAST_LOCAL:r=g;break;case a.Datasource.NEXTPERF:r=m;break;case a.Datasource.APPNEXUS:r=y;break;case a.Datasource.SSP:!function(t,e,n){var r={ThumbnailWidth:parseInt(l.ConfigurationReader.getProperty("thumbnailwidth"),10)||0,ThumbnailHeight:parseInt(l.ConfigurationReader.getProperty("thumbnailheight"),10)||0,DescriptionLength:parseInt(l.ConfigurationReader.getProperty("descriptionlength"),10)||0},i=d.SSPRequest.cast({Preview:r,Attempt:t.Attempt,PageRefreshed:performance.navigation.type===performance.navigation.TYPE_RELOAD});t.ForcedCampaign&&(i.ForcedCampaign=t.ForcedCampaign);t.ForcedTrack&&(i.ForcedTrack=t.ForcedTrack);t.ForcedCreative&&(i.ForcedCreative=t.ForcedCreative);t.ForcedSource&&(i.ForcedSource=t.ForcedSource);window.AylServed&&window.AylServed.ServedCampaigns&&(i.ServedCampaigns=window.AylServed.ServedCampaigns);window.AylServed&&window.AylServed.ServedKinds&&(i.ServedKinds=window.AylServed.ServedKinds);var o=c.getTopMostWindow();o.document.documentElement.lang&&(i.Lang=o.document.documentElement.lang);for(var a=o.document.getElementsByTagName("meta"),f="",g=0;g<a.length;g++)"keywords"!==a[g].getAttribute("name")&&"news_keywords"!==a[g].getAttribute("name")||(""!==f&&(f+=","),f+=a[g].getAttribute("content"));""!==f&&(i.Keywords=f);if(h.isSafari(navigator)){var m=function(n,r){r&&(i.CookieSyncFallbacks=new u.Getter,i.CookieSyncFallbacks.Set(s.Rtus.CRITEO,r)),e(t,"/marketplace",t.SspPrefix,JSON.stringify(i))};new p.RTUSCriteo(t.VisitorPrefix,"191",t.Attempt,(function(t,e){m(t,e)}))}else e(t,"/marketplace",t.SspPrefix,JSON.stringify(i))}(t,e);break;case a.Datasource.ADVENTORI:r=v;break;case a.Datasource.JIVOX:case a.Datasource.FLASHTALKING:r=E;break;default:throw new Error("Unknown DatasourceKind: "+o)}r&&r(t,f,b,e,n)}))},e.MergeModifierConfig=function(t,e){e.ClickTracker&&t.ClickTracker&&(t.ClickTracker=e.ClickTracker+i.EncodeURIComponent(t.ClickTracker)),t.DataSource||(t.DataSource=a.Datasource.LOCAL),r.DeepMerge(t,e)}}.apply(e,r))||(t.exports=i)},7659:(t,e,n)=>{var r,i;r=[n,e,n(4073),n(7005),n(5573),n(6990),n(8686)],void 0===(i=function(t,e,n,r,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PassbackManager=void 0;var s=function(){function t(t,e,n,r){var i=this;this.succeed=!1,this.config=t,this.passbacks=this.config.PlacementPassbacks,this.uid=e,this.success=function(){i.succeed=!0,n()},this.fail=r}return t.prototype.GetCurrentPassback=function(){return this.current},t.prototype.DisplayPassback=function(){var t=this;if(!this.succeed)if(this.current=this.passbacks.shift(),this.current)switch(this.current.Kind){case o.PassbackType.GENERIC:this.loadGeneric(this.current,this.uid,(function(){t.success()}),(function(){t.DisplayPassback()}));break;case o.PassbackType.PUBLISHER:this.loadPublisher(this.current,this.uid,(function(){t.success()}),(function(){t.DisplayPassback()}));break;default:throw new Error("passback loader not recognized "+this.current.Kind.toString())}else this.fail()},t.prototype.getElementForPassback=function(t){var e,o=r.IntegrationInsertion.APPEND;switch(this.config.IntegrationConfig.Kind){case i.NativeIntegration.TEMPLATE:e=this.config.IntegrationConfig.Template.Selector,o=this.config.IntegrationConfig.Template.Insertion;break;case i.NativeIntegration.WIDGET:e=this.config.IntegrationConfig.Widget.Selector,o=this.config.IntegrationConfig.Widget.Insertion}return{Element:t.Selector?document.querySelector(t.Selector):n.QuerySelector(this.config,e,!0),Insertion:o}},t.prototype.insertElementForPassback=function(t,e,n){if(t)switch(n){case r.IntegrationInsertion.BEFORE:t.parentNode.insertBefore(e,t);break;case r.IntegrationInsertion.PREPEND:t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e);break;case r.IntegrationInsertion.APPEND:t.appendChild(e);break;case r.IntegrationInsertion.AFTER:t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e);break;case r.IntegrationInsertion.REPLACE:t.parentNode.replaceChild(e,t);break;default:throw new Error("Unknown IntegrationInsertionKind "+n.toString())}},t.prototype.loadPublisher=function(t,e,n,r){var i,o=this.getElementForPassback(t);if(o&&o.Element){var s=document.createElement("div");this.insertElementForPassback(o.Element,s,o.Insertion);var c=document.createElement("div");c.innerHTML=t.Data.trim();var l=c.firstElementChild,u=s.parentNode;"SCRIPT"!==(null===(i=l.nodeName)||void 0===i?void 0:i.toUpperCase())&&u.replaceChild(c.firstElementChild,s),a.traverseNode(l,(function(t){if(null!==t.nodeName&&"SCRIPT"===t.nodeName.toUpperCase()&&t.src){var e=document.createElement("script");e.type=t.type,e.src=t.src,u.appendChild(e)}else null===t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})),n()}else r()},t.prototype.loadGeneric=function(t,e,n,r){var i=this.getElementForPassback(t);if(i&&i.Element){var o=document.createElement("div");o.setAttribute("style","position:relative;margin:0;padding:0;border:0;min-height:inherit;max-width:inherit;");var a=document.createElement("iframe");a.setAttribute("style","position:relative;margin:0 auto;padding:0;border:0;min-height:inherit;max-width:inherit;display:block;"),a.setAttribute("width","0"),a.setAttribute("height","0"),a.setAttribute("frameBorder","0"),a.setAttribute("allowfullscreen",""),a.setAttribute("scrolling","no"),o.appendChild(a),this.insertElementForPassback(i.Element,o,i.Insertion),(a.contentDocument||a.contentWindow.document).write('<body style="margin:0;padding:0">'+t.Data+"</body>");setTimeout((function(){if(0===a.contentWindow.document.body.scrollWidth||0===a.contentWindow.document.body.scrollHeight)return o.parentNode.removeChild(o),void r();o.style.width="100%",o.style.height=a.contentWindow.document.body.scrollHeight+"px",o.style.margin="0 auto",a.setAttribute("width",""+a.contentWindow.document.body.scrollWidth),a.setAttribute("height",""+a.contentWindow.document.body.scrollHeight),n()}),600)}else r()},t}();e.PassbackManager=s}.apply(e,r))||(t.exports=i)},4073:(t,e,n)=>{var r,i;r=[n,e,n(2806)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CheckSelector=e.QuerySelector=void 0;var r=function(){this.Element=null},i={};function o(t,e,a,s){s=s||window;var c,l=t.Attempt;if(!a&&l in i)return i[l];switch(e.Kind){case n.SelectorType.SCRIPT:c=s.document.querySelector("script[src*='omnitagjs.com#Placement='], script[src*='ot.js?Placement=']");break;case n.SelectorType.CSS:c=s.document.querySelector(e.Css);break;case n.SelectorType.JAVASCRIPT:var u=new Function("g","__break__",e.Javascript+"\nreturn __break__;"),p=new r,d=new Object;u(p,d)===d&&p.Element&&(c=p.Element);break;default:throw new Error("Selector kind not implemented: "+e.Kind.toString())}c&&(i[l]=c);try{!c&&s.frameElement&&(c=o(t,e,a,s.parent))}catch(t){}return c}e.QuerySelector=o,e.CheckSelector=function(t,e,n,r){var i=Date.now(),a=function(){Date.now()-i>=1e4?r():o(t,e,!0)?n():setTimeout((function(){a()}),200)};a()}}.apply(e,r))||(t.exports=i)},6754:(t,e,n)=>{var r,i;r=[n,e,n(5738),n(1190),n(7070)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RedirUrl=void 0,e.RedirUrl=function(t,e,o,a){return a?function(t,e,o){var a=r.IsAlreadyTriggered(o,t);r.MakeCallTriggers(o,t,a,!0,document.body)(),r.MakeCallTriggers(i.Event.REDIRECTION,t,a,!0,document.body)();var s=t.TrackingPrefix+"/redir?attempt="+n.EncodeURIComponent(t.Attempt)+"&campaign="+n.EncodeURIComponent(t.Campaign);if(!e)throw new Error("Unknown redirection url");s+="&url="+n.EncodeURIComponent(e);if(!o)throw new Error("Unknown event url");s+="&event_kind="+o.toString();return t.StaticPrefix+"/ar.html?#"+n.EncodeURIComponent(s)}(t,e,o):function(t,e,o){var a=r.IsAlreadyTriggered(o,t);r.MakeCallTriggers(o,t,a,!0,document.body)(),r.MakeCallTriggers(i.Event.REDIRECTION,t,a,!0,document.body)();var s=t.TrackingPrefix+"/ar?attempt="+n.EncodeURIComponent(t.Attempt)+"&campaign="+n.EncodeURIComponent(t.Campaign);if(!o)throw new Error("Unknown event url");s+="&event_kind="+o.toString();if(!e)throw new Error("Unknown redirection url");s+="&url="+n.EncodeURIComponent(e);return s}(t,e,o)}}.apply(e,r))||(t.exports=i)},3420:(t,e,n)=>{var r,i;r=[n,e,n(5738),n(5565)],void 0===(i=function(t,e,n,r){"use strict";function i(t,e,r){var i=t.BlobPrefix+"/"+n.EscapeHTML(e.Uid);return r&&(i+="?Raw=true"),i}Object.defineProperty(e,"__esModule",{value:!0}),e.GetUrlFromBlobReference=e.GetUrlsFromResourceVideo=e.GetUrlFromResourceVpaid=e.GetUrlFromResourceImage=e.GetUrlDynamicImage=void 0,e.GetUrlDynamicImage=function(t,e,i,o,a,s,c,l){if(!e)return"";var u=window.devicePixelRatio||1;a&&(i=Math.round(u*+i),o=Math.round(u*+o)),i=Math.round(i),o=Math.round(o),void 0===s&&(s=!1),0!==e.ZoneHeight&&0!==e.ZoneWidth||(s=!0);var p="",d=1/3,h=t.DynamicPrefix;switch(e.Kind){case r.ResourceOrigin.INTERNAL:p=h+"/native/preview/image?key="+n.EscapeHTML(e.Data.Internal.BlobReference.Uid),p+="&kind="+e.Kind.toString(),s?(p+="&ztop="+d,p+="&zleft="+d,p+="&zwidth="+d,p+="&zheight="+d):(p+="&ztop="+e.ZoneTop,p+="&zleft="+e.ZoneLeft,p+="&zwidth="+e.ZoneWidth,p+="&zheight="+e.ZoneHeight),p+="&width="+i,p+="&height="+o,e.Quality===r.ImageQuality.LOW&&(p+="&cropquality=LOW");break;case r.ResourceOrigin.EXTERNAL:var f=e.Data.External.Url;(f=(f=f.replace(/\[height\]/i,""+o)).replace(/\[width\]/i,""+i)).indexOf(h)>=0?p=f:(p=h+"/native/preview/image?url="+n.EncodeURIComponent(f),p+="&kind="+e.Kind.toString(),s?(p+="&ztop="+d,p+="&zleft="+d,p+="&zwidth="+d,p+="&zheight="+d):(p+="&ztop="+e.ZoneTop,p+="&zleft="+e.ZoneLeft,p+="&zwidth="+e.ZoneWidth,p+="&zheight="+e.ZoneHeight),p+="&width="+i,p+="&height="+o,e.Quality===r.ImageQuality.LOW&&(p+="&cropquality=LOW")),(l||e.Smart)&&(p+="&smart="+(l||e.Smart)),e.NoTransform&&(p+="&notransform="+e.NoTransform);break;default:throw new Error("Unknown ResourceImageKind: "+e.Kind.toString())}return t.Content.Preview.LogoPlay&&(p+="&play="+t.Content.Preview.LogoPlay),c&&(p+="&empty=true"),p},e.GetUrlFromResourceImage=function(t,e){switch(e.Kind){case r.ResourceOrigin.INTERNAL:return i(t,e.Data.Internal.BlobReference);case r.ResourceOrigin.EXTERNAL:return e.Data.External.Url;default:throw new Error("Unknown ResourceImageKind"+e.Kind.toString())}},e.GetUrlFromResourceVpaid=function(t,e){switch(e.Kind){case r.ResourceOrigin.INTERNAL:return i(t,e.Data.Internal.BlobReference);case r.ResourceOrigin.EXTERNAL:return e.Data.External.Url;default:throw new Error("Unknown ResourceImageKind"+e.Kind.toString())}},e.GetUrlsFromResourceVideo=function(t,e,n){var o,a=[];switch(e.Kind){case r.ResourceOrigin.DAILYMOTION:return[e.Data.Dailymotion.Url];case r.ResourceOrigin.EXTERNAL:o=e.Data.External.Keys();for(var s=0;s<o.length;s++){var c=(l=o[s]).getValue(e.Data.External);c.indexOf(t.BlobPrefix)>=0&&n&&(c+="?Raw=true"),a.push(c)}return a;case r.ResourceOrigin.INTERNAL:o=e.Data.Internal.Keys();for(s=0;s<o.length;s++){var l,u=i(t,(l=o[s]).getValue(e.Data.Internal),n);l===r.InternalVideo.FLV&&(u+=".flv"),a.push(u)}return a;case r.ResourceOrigin.YOUTUBE:return[e.Data.Youtube.Url];default:throw new Error("Unknown ResourceOrigin"+e.Kind.toString())}},e.GetUrlFromBlobReference=i}.apply(e,r))||(t.exports=i)},628:(t,e,n)=>{var r,i,o=n(6887);r=[n,e,n(6875),n(5738),n(7242),n(9659)],void 0===(i=function(t,e,n,r,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RTUSCriteo=void 0;var s=function(){function t(t,e,n,r){this.metricsEndpointPrefix=t,this.callerId=e,this.uid=n,this.callback=r,this.insertScript()}return t.prototype.onData=function(t,e){this.callback(t,e)},t.prototype.sendMetric=function(t,e){var r=null;switch(t.toUpperCase()){case"OK":r=n.Status.SUCCESS;break;case"UNKNOWN":r=n.Status.UNKNOWN;break;case"TIMEOUT":r=n.Status.TIMEOUT}if(r){var s=new i.Params(a.Rtus.CRITEO,r,e);o.ajax({url:this.metricsEndpointPrefix+"/rtus",type:"POST",global:!1,data:{Kind:s.Kind.toString(),Status:s.Status.toString(),Time:s.Time}})}},t.prototype.insertScript=function(){var t=this,e="rtusCallback",n=Date.now();window[e]=function(e){clearTimeout(t.callTimeout);var r=Date.now();t.sendMetric(e.status,r-n),t.onData(e.status,e.userid)},this.callTimeout=window.setTimeout((function(){window[e]=function(){var e=Date.now();t.sendMetric("TIMEOUT",e-n)},t.onData("TIMEOUT","")}),40);var i=document.createElement("script");i.className=r.AYL_INJECT_CLASSNAME,i.type="text/javascript",i.src="https://gum.criteo.com/sync?c="+this.callerId+"&r=2&j="+e;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(i,o)},t}();e.RTUSCriteo=s}.apply(e,r))||(t.exports=i)},7757:(t,e,n)=>{var r,i;r=[n,e,n(5738)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fillWithParams=e.GetParamsFromHash=e.FillFromFirstMatchingScriptInDocument=e.GetScriptParamsForPlacement=e.getMatchingScriptForPlacement=e.GetFirstMatchingScriptInDocument=e.GetAllMatchingScriptsInDocument=void 0;function r(){for(var t,e=document.getElementsByTagName("script"),n=[],r=0;r<e.length;r++){var i=e[r].src.match(/^(?:(\w+):)?\/\/(([a-zA-Z0-9\-]+)((.*?)\.omnitagjs\.(com)))(\/fo-api)?(?:\/|\/.*\/omnitag\.js|\/tag\.js|\/otp?\.js)?(?:(?:\?|#)([^?#\s]*))?$/i);i&&(t={url:i[0],protocol:i[1],tagName:i[3],suffixTag:i[4],sandboxSuffixTag:i[5],extension:i[6],params:i[8]},n.push(t))}return n}function i(){var t=r();return t.length>0?t[0]:null}function o(t){for(var e,n=r(),i=0;i<n.length;i++){var o=n[i];if(o.params&&(e=c(o.params)).Placement&&e.Placement===t)return o}return null}function a(){var t=document.location.hash;return t&&t.indexOf("ayl=ik6y9y")>=0?c(t.substring(1)):null}function s(t,e){var n=e.params;return n&&""!==n&&(t.ScriptTagParams=c(n)),t.FragmentParams=a(),t}function c(t){return t&&""!==t?n.DecodeURIParams(t):""}e.GetAllMatchingScriptsInDocument=r,e.GetFirstMatchingScriptInDocument=i,e.getMatchingScriptForPlacement=o,e.GetScriptParamsForPlacement=function(t){var e={};if(""!==t){var n=o(t);n&&s(e,n)}return e},e.FillFromFirstMatchingScriptInDocument=function(t){var e=i();e&&(s(t,e),t.scriptURL=e.url)},e.GetParamsFromHash=a,e.fillWithParams=s}.apply(e,r))||(t.exports=i)},3389:(t,e,n)=>{var r,i;r=[n,e,n(3420),n(5339)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Slideshow=void 0,e.Slideshow=function(t,e,i,o){var a,s=1e3*(t.Content.Preview.SlideDelay||1),c=n.GetUrlDynamicImage(t,t.Content.Preview.Thumbnail.Image,9999999999,9999999999).split("9999999999")[0],l=e.querySelector("img[src^='"+c+"'], [style*='"+c+"']");if(l){var u=document.createElement("img"),p=void 0,d=void 0;if(p=void 0!==i?i:l.clientWidth,d=void 0!==o?o:l.clientHeight,t.Content.Preview.Branding){for(var h=t.Content.Preview.Branding.Images,f=new Array,g=0;g<h.length;g++)f[g]=new Image,f[g].src=n.GetUrlDynamicImage(t,t.Content.Preview.Branding.Images[g],p,d,!1,!1);var m=new Image;m.src=n.GetUrlDynamicImage(t,t.Content.Preview.Thumbnail.Image,p,d),f.unshift(m),l.style.setProperty("-webkit-transition","all 1s ease-in-out"),l.style.setProperty("-moz-transition","all 1s ease-in-out"),l.style.setProperty("-o-transition","all 1s ease-in-out"),l.style.setProperty("transition","all 1s ease-in-out"),(u=l.cloneNode(!0)).style.cssText=l.style.cssText,0!==parseInt(window.getComputedStyle(l).getPropertyValue("height"),10)&&(u.style.height=window.getComputedStyle(l).getPropertyValue("height")),0!==parseInt(window.getComputedStyle(l).getPropertyValue("width"),10)&&(u.style.width=window.getComputedStyle(l).getPropertyValue("width")),u.className="ayl_slideshow_image_swap","img"===l.tagName.toLowerCase()&&(r.Superimpose(l,u),a=l,u=document.getElementsByClassName("ayl_slideshow_image_swap")[0]);var y=0,v=!0,E=function(){"div"===l.tagName.toLowerCase()?l.style.backgroundImage="url("+f[y].src+")":v?(a.style.opacity="1",u.style.opacity="0",v=!1,a.src=f[y].src):(u.style.opacity="1",a.style.opacity="0",v=!0,u.src=f[y].src),y<f.length-1?y++:y=0,setTimeout(E,s)};E()}}}}.apply(e,r))||(t.exports=i)},2282:(t,e,n)=>{var r,i,o=n(6887);r=[n,e,n(3420),n(5738),n(8472),n(6399),n(5565)],void 0===(i=function(t,e,n,r,i,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;var c=function(){function t(t,e){this.classname="ayl-ck-widget",this.content=t,this.config=e}return t.prototype.Text=function(){var t=document.createElement("div");t.innerHTML=this.content;for(var e=t.querySelectorAll("."+this.classname),n=0;n<e.length;n++){var r=e[n],i=void 0,a=JSON.parse(r.getAttribute("data-ayl-ck-widget-config")),s=r.getAttribute("class").match(/ayl-ck-widget-(?:([a-z]+))/i);if(0!==s.length){switch(s[1]){case"image":i=this.getImage(a);break;case"video":i=this.getVideo(a);break;case"iframe":i=this.getIframe(a);break;case"articles":i=this.getArticles(a);break;case"shares":i=this.getShares(a);break;default:throw new Error("Widget not found")}r.outerHTML=i}}return o(t).find("p").attr("style","margin-bottom: 0 !important; margin-top: 0 !important;"),o(t).find('a:not([href="#"])').attr("class","ayl_postsponso_image_link"),t.innerHTML},t.prototype.getImage=function(t){var e="",i=100*t.Width,o=i/t.Ratio,a=this.config.Content.Sponso.Resources.Images[t.ResourceName];a&&(e='<div class="ayl_postsponso_image" style="position:relative; width:'+i+"%; padding-top:"+o+'%; margin: 0 auto;" ><img class="ayl_postsponso_image_element" src="'+n.GetUrlFromResourceImage(this.config,a)+'" style="position:absolute; height:100%; width:100%; min-height:100%; min-width:100%; top:0; left:0; right:0; bottom:0; margin:0; padding:0;" /></div>',t.Link&&(e='<a target="_blank" class="ayl_postsponso_image_link" href="'+r.EscapeHTML(t.Link)+'">'+e+"</a>"));return e},t.prototype.getArticles=function(t){var e="";if(t.ThumbnailsConfig){e='<div class="ayl_postsponso_articles_thumbnails">';for(var i=0;i<t.Thumbnails.length;i++){var o=t.Thumbnails[i],a=100*t.ThumbnailsConfig.Width,s=a/t.ThumbnailsConfig.Ratio,c=this.config.Content.Sponso.Resources.Images[o.ResourceName];if(c){var l='<div class="ayl_postsponso_image" style="position:relative; width:'+a+"%; padding-top:"+s+'%; display:inline-block" ><img class="ayl_postsponso_image_element" src="'+n.GetUrlFromResourceImage(this.config,c)+'" style="position:absolute; height:100%; width:100%; min-height:100%; min-width:100%; top:0; left:0; right:0; bottom:0; margin:0; padding:0;" /></div>';o.Link&&(l='<a target="_blank" class="ayl_postsponso_image_link" href="'+r.EscapeHTML(o.Link)+'">'+l+"</a>"),e+=l}}e+="</div>"}var u="";if(t.TitleConfig){var p='<span class="ayl_postsponso_articles_title">'+t.TitleConfig.Title+"</span>",d="";t.TitleConfig.BeforeTitle&&(d='<span class="ayl_postsponso_articles_before_title">'+t.TitleConfig.BeforeTitle+"</span> "),t.TitleConfig.Link&&(p='<a target="_blank" class="ayl_postsponso_articles_link_title" href="'+t.TitleConfig.Link+'">'+p+"</a>"),u='<div class="ayl_postsponso_articles_title">'+d+p+"</div>"}return'<div class="ayl_postsponso_articles">'+u+e+"</div>"},t.prototype.getVideo=function(t){var e=100*t.Width,r=e/t.Ratio,i=this.config.Content.Sponso.Resources.Videos[t.ResourceName];if(n){var o=n.GetUrlsFromResourceVideo(this.config,i);switch(i.Kind){case s.ResourceOrigin.YOUTUBE:return'<div class="ayl_postsponso_player_youtube ayl_postsponso_player_video" style="position:relative; width:'+e+"%; padding-top:"+r+'%; margin: 0 auto;"> <iframe class="ayl_postsponso_player_video_element" style="position:absolute; height:100%; width:100%; min-height:100%; min-width:100%; top:0; left:0; right:0; bottom:0; margin:0; padding:0;" frameborder="0" src="'+(o[0]+"?enablejsapi=1&origin="+document.location.protocol+"//"+document.location.hostname)+'"></iframe></div>';default:return""}}return""},t.prototype.getIframe=function(t){var e=100*t.Width;return'<div class="ayl_postsponso_iframe" style="position:relative; width:'+e+"%; padding-top:"+e/t.Ratio+'%; margin: 0 auto;" ><iframe frameborder="0" class="ayl_postsponso_iframe_element" src="'+r.EscapeHTML(t.Url)+'" style="position:absolute; height:100%; width:100%; min-height:100%; min-width:100%; top:0; left:0; right:0; bottom:0; margin:0; padding:0;" /></div>'},t.prototype.getShares=function(t){for(var e="",n=t.Shares?a.ArrayMapper(i.Sharing.cast.bind(i.Sharing))(t.Shares):[i.Sharing.FACEBOOK,i.Sharing.TWITTER,i.Sharing.GOOGLE_PLUS,i.Sharing.PINTEREST,i.Sharing.LINKEDIN],o=0;o<n.length;o++){var s=n[o],c='<img src="'+this.config.StaticPrefix+"/./native/images/"+s.toString().toLowerCase()+'_on.png" style="border:0px; padding:0; margin:0; background:transparent; box-shadow:none;width:48px;max-width:none;"/>',l="menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600";switch(s){case i.Sharing.TWITTER:l="height=440,width=620,scrollbars=yes";break;case i.Sharing.FACEBOOK:l="height=600,width=900,scrollbars=yes";break;case i.Sharing.GOOGLE_PLUS:l="menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"}var u=this.config.ApiPrefix+"/share?attempt="+r.EscapeHTML(this.config.Attempt)+"&campaign="+r.EscapeHTML(this.config.Campaign);e+='<td style="vertical-align:middle;background:transparent;text-align:left;border:0px;margin:0px;width:48px;max-width: none;">'+('<a style="display:block;" href="#" class="share_'+r.EscapeHTML(this.config.Attempt)+'" onclick="window.open(\''+u+"&kind="+s.toString()+"&data=article', '"+s.toString().toLowerCase()+"', '"+l+"'); return false;\">"+c+"</a>")+"</td>"}return'<table style="border:0px; box-shadow:none;border-spacing:0px;background:transparent;border-collapse:collapse;padding:0px;margin:0px 0px 10px 0px;font-size:11px;line-height:1;width:50px;"><tbody style="background:transparent"><tr style="border:0; padding:0; margin:0; background:transparent;border-spacing:0px;">'+e+"</tr></tbody></table>"},t}();e.Widget=c}.apply(e,r))||(t.exports=i)},5339:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Superimpose=void 0,e.Superimpose=function(t,e,n,r,i){var o=window.getComputedStyle(t);"absolute"===o.position?(e.style.top=o.top,e.style.right=o.right,e.style.bottom=o.bottom,e.style.left=o.left):(e.style.top=""+(t.offsetTop-t.clientTop),e.style.left=""+(t.offsetLeft-t.clientLeft)),e.style.borderTop=o.borderTop,e.style.borderRight=o.borderRight,e.style.borderBottom=o.borderBottom,e.style.borderLeft=o.borderLeft,e.style.marginTop=o.marginTop,e.style.marginRight=o.marginRight,e.style.marginBottom=o.marginBottom,e.style.marginLeft=o.marginLeft,e.style.zIndex=n+""||"10",e.style.position="absolute",e.style.backgroundColor="black";var a=function(){"absolute"===o.position?(e.style.top=o.top,e.style.right=o.right,e.style.bottom=o.bottom,e.style.left=o.left):(e.style.top=""+(t.offsetTop-t.clientTop),e.style.left=""+(t.offsetLeft-t.clientLeft)),void 0===r||r||(e.style.top="200px")};return i&&window.addEventListener("resize",(function(){a()})),t.addEventListener("load",(function(t){a()})),a(),t.parentNode.insertBefore(e,t)}}.apply(e,[n,e]))||(t.exports=r)},1190:(t,e,n)=>{var r,i;r=[n,e,n(8397),n(5738),n(7070),n(8709),n(5738),n(7615)],void 0===(i=function(t,e,n,r,i,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MakeTriggerUrlFromPartner=e.Send=e.MakeCallTriggers=e.IsAlreadyTriggered=e.TriggerEvent=e.getOnEvents=e.generateTrackingUrl=void 0;var c={};function l(t,e){var n,o=e,a="/pixel";t===i.Event.CLICK&&(null===(n=o.Content.Banner)||void 0===n?void 0:n.ADM)&&(a="/click");var s=e.TrackingPrefix+a+"?event_kind="+t.toString()+"&attempt="+r.EscapeHTML(e.Attempt);return o.Campaign&&(s+="&campaign="+r.EscapeHTML(o.Campaign)),s}function u(t,e){var n;return e.OnEvents&&0!==Object.keys(e.OnEvents).length?(n=t.getValue(e.OnEvents,[]),Array.isArray(n)&&(n=n.slice(0))):n=[],n}function p(t,e,n){var i=t.toString()+"-"+r.EscapeHTML(e.Attempt);n&&(i+="-"+r.EscapeHTML(n));var o=!c[i];return c[i]=!0,o}function d(t,e,n,o,a){var s=u(t,e);return function(){!function(t,e,n,o,a){if(!t||0===t.length)return;for(var s=[],c=[],l=[],u=[],p=[],d=[],f=[],g=[],y=[],v=[],E=[],b=0;b<t.length;b++){var T=t[b];if(T&&(e||!T.OncePerAttempt)){switch(T.Guard){case i.OnEventGuard.ALWAYS:break;case i.OnEventGuard.HAVE_CAMPAIGN:if(!o)continue;break;case i.OnEventGuard.NO_CAMPAIGN:if(o)continue;break;default:throw new Error("Unknown Guard type")}var w=void 0;switch(T.Kind){case i.OnEventType.PIXEL_URL:w=r.SubstituteTokens(T.Url),T.Isolated?s.push(w):c.push(w);break;case i.OnEventType.PARTNER_PIXEL_URL:w=m(T.Partner,a),T.Isolated?p.push(w):d.push(w);break;case i.OnEventType.JAVASCRIPT_URL:w=r.SubstituteTokens(T.Url),T.Isolated?l.push(w):u.push(w);break;case i.OnEventType.PARTNER_JAVASCRIPT_URL:w=m(T.Partner,a),T.Isolated?f.push(w):g.push(w);break;case i.OnEventType.JAVASCRIPT_CODE:T.Isolated?y.push(T.Code):v.push(T.Code);break;case i.OnEventType.HTML_CODE:var _=r.SubstituteTokens(T.Code);T.Isolated||E.push(_);break;default:throw new Error("Unknown OnEvent type")}}}h(i.OnEventType.PIXEL_URL,s,!0,n,a),h(i.OnEventType.PIXEL_URL,c,!1,n,a),h(i.OnEventType.JAVASCRIPT_URL,l,!0,n,a),h(i.OnEventType.JAVASCRIPT_URL,u,!1,n,a),h(i.OnEventType.PARTNER_PIXEL_URL,p,!0,n,a),h(i.OnEventType.PARTNER_PIXEL_URL,d,!1,n,a),h(i.OnEventType.PARTNER_JAVASCRIPT_URL,f,!0,n,a),h(i.OnEventType.PARTNER_JAVASCRIPT_URL,g,!1,n,a),h(i.OnEventType.JAVASCRIPT_CODE,y,!0,n,a),h(i.OnEventType.JAVASCRIPT_CODE,v,!1,n,a),h(i.OnEventType.HTML_CODE,E,!1,n,a)}(s,n,e.Trusted,o,a)}}function h(t,e,a,s,c){if(0!==e.length){e=e.slice(0);var l=[];if(a){var u=document.createElement("iframe");u.sandbox="allow-same-origin allow-scripts",u.style.position="absolute",u.style.left="-9999px",u.style.width="1px",u.style.height="1px",u.style.display="block";var p=void 0;switch(t){case i.OnEventType.PARTNER_PIXEL_URL:case i.OnEventType.PIXEL_URL:for(var d=0;d<e.length;d++)e[d]=r.EncodeURIComponent(e[d]);p={type:"pxurl",urls:e.join(",")};break;case i.OnEventType.PARTNER_JAVASCRIPT_URL:case i.OnEventType.JAVASCRIPT_URL:if(!s)throw new Error("This browser does not have enough security features to allow the execution of this code");for(d=0;d<e.length;d++)e[d]=r.EncodeURIComponent(e[d]);p={type:"jsurl",urls:e.join(",")};break;case i.OnEventType.JAVASCRIPT_CODE:if(!s)throw new Error("This browser does not have enough security features to allow the execution of this code");for(d=0;d<e.length;d++)e[d]=r.EncodeURIComponent(e[d]);p={type:"jscode",codes:e.join(",")};break;default:throw new Error("Unknown OnEvent type")}p.rnd=Math.random().toString().substring(2),u.src=n.Omnitag.SandboxPrefix+"/sb.html#"+r.EncodeURIParams(p),document.body.appendChild(u),l.push(u)}else switch(t){case i.OnEventType.PARTNER_PIXEL_URL:case i.OnEventType.PIXEL_URL:for(d=0;d<e.length;d++)l.push(g("img",e[d],c));break;case i.OnEventType.PARTNER_JAVASCRIPT_URL:case i.OnEventType.JAVASCRIPT_URL:if(!s)throw new Error("Cannot execute untrusted javascript code in publisher website context");for(d=0;d<e.length;d++)g("script",e[d],c);break;case i.OnEventType.JAVASCRIPT_CODE:if(!s)throw new Error("Cannot execute untrusted javascript code in publisher website context");for(d=0;d<e.length;d++){var h=new Function(e[d]);setTimeout(h,1)}break;case i.OnEventType.HTML_CODE:if(!s)throw new Error("Cannot execute untrusted html code in publisher website context");for(d=0;d<e.length;d++)for(var f=o.ParseHTML(e[d]),m=0;m<f.length;m++){var y=f[m];if(y)switch(y.nodeName.toLowerCase()){case"script":o.InsertScript(c,y)}}break;default:throw new Error("Unknown OnEvent type")}l.length>0&&setTimeout((function(){for(var t=0;t<l.length;t++)l[t].parentNode&&l[t].parentNode.removeChild(l[t])}),1e4)}}function f(t){t.onload=t.onreadystatechange=null}function g(t,e,n,r){var i;switch(t){case"script":var o=document.createElement("script");o.className=a.AYL_INJECT_CLASSNAME,o.async=!0,o.charset="UTF-8",o.src=e,i=o;break;case"img":var s=document.createElement("img");s.setAttribute("style","position:absolute; width:1px; opacity: 0; height:1px; display:block;"),s.src=e,i=s}i.onload=i.onreadystatechange=function(e,n){(n||!i.readyState||/loaded|complete/.test(i.readyState))&&(f(i),i.parentNode&&"img"===t&&i.parentNode.removeChild(i),i=null,r&&r())};var c=function(){document.body?parent!==window?document.body.appendChild(i):n===document.body?document.body.insertBefore(i,document.body.firstChild):n.appendChild(i):setTimeout(c,200)};return c(),i}e.generateTrackingUrl=l,e.getOnEvents=u,e.TriggerEvent=function(t,e,n,r){if(!s.CliprInterface.isCliprIntegration(e)||!s.CliprInterface.getEvent(t)){r||(r=document.body);var o,a,c,u=p(t,e,n);if(n&&(o=!0),u){var h=g("img",l(t,e),r,m);a=window.setTimeout((c=h,function(){f(c),m()}),1e3)}else switch(t){case i.Event.PLAYLIST_CLICK:g("img",l(t,e),r,m);break;default:m()}}function m(){d(t,e,u,o,r)(),a&&clearTimeout(a)}},e.IsAlreadyTriggered=p,e.MakeCallTriggers=d,e.Send=g;function m(t,e){var n;switch(t.Kind){case i.OnEventPartnerType.METRICS_NT_VC:var o={};Object.keys(t.Params).map((function(e){o[e]=t.Params[e]})),o.cn=e.getAttribute("id"),n="https://metrics.nt.vc/metrics.js?"+r.EncodeURIParams(o);break;default:throw new Error("Unknown OnEventPartnerKind type")}return n}e.MakeTriggerUrlFromPartner=m}.apply(e,r))||(t.exports=i)},2920:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";function n(t){return(t||"").split(" ")}Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultStrftime=e.TIME_FORMATS=e.TIME_LOCALES=e.LocalizedStrftime=e.StrftimeUTC=e.StrftimeTZ=e.Strftime=void 0;var r={days:n("Sunday Monday Tuesday Wednesday Thursday Friday Saturday"),shortDays:n("Sun Mon Tue Wed Thu Fri Sat"),months:n("January February March April May June July August September October November December"),shortMonths:n("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec"),AM:"AM",PM:"PM",am:"am",pm:"pm"};function i(t,e,n){return o(t,e,n)}function o(t,e,n,i){i=i||{},e=e||new Date,(n=n||r).formats=n.formats||{};var l=e.getTime();return(i.utc||"number"==typeof i.timezone)&&(e=function(t){var e=6e4*(t.getTimezoneOffset()||0);return new Date(t.getTime()+e)}(e)),"number"==typeof i.timezone&&(e=new Date(e.getTime()+6e4*i.timezone)),t.replace(/%([-_0]?.)/g,(function(t,r){var u,p;if(2===r.length){if("-"===(u=r[0]))p="";else if("_"===u)p=" ";else{if("0"!==u)return t;p="0"}r=r[1]}switch(r){case"A":return n.days[e.getDay()];case"a":return n.shortDays[e.getDay()];case"B":return n.months[e.getMonth()];case"b":return n.shortMonths[e.getMonth()];case"C":return a(Math.floor(e.getFullYear()/100),p);case"D":return o(n.formats.D||"%m/%d/%y",e,n);case"d":return a(e.getDate(),p);case"e":return e.getDate();case"F":return o(n.formats.F||"%Y-%m-%d",e,n);case"H":return a(e.getHours(),p);case"h":return n.shortMonths[e.getMonth()];case"I":return a(s(e),p);case"j":var d=new Date(e.getFullYear(),0,1);return a(h=Math.ceil((e.getTime()-d.getTime())/864e5),"3");case"k":return a(e.getHours(),null===p?" ":p);case"L":return a(Math.floor(l%1e3),"3");case"l":return a(s(e),null===p?" ":p);case"M":return a(e.getMinutes(),p);case"m":return a(e.getMonth()+1,p);case"n":return"\n";case"o":return String(e.getDate())+function(t){var e=t%10,n=t%100;if(n>=11&&n<=13||0===e||e>=4)return"th";switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}}(e.getDate());case"P":return e.getHours()<12?n.am:n.pm;case"p":return e.getHours()<12?n.AM:n.PM;case"R":return o(n.formats.R||"%H:%M",e,n);case"r":return o(n.formats.r||"%I:%M:%S %p",e,n);case"S":return a(e.getSeconds(),p);case"s":return Math.floor(l/1e3);case"T":return o(n.formats.T||"%H:%M:%S",e,n);case"t":return"\t";case"U":return a(c(e,"sunday"),p);case"u":var h;return 0===(h=e.getDay())?7:h;case"v":return o(n.formats.v||"%e-%b-%Y",e,n);case"W":return a(c(e,"monday"),p);case"w":return e.getDay();case"Y":return e.getFullYear();case"y":var f=e.getFullYear()+"";return f.slice(f.length-2);case"Z":if(i.utc)return"GMT";var g=e.toString().match(/\((\w+)\)/);return g&&g[1]||"";case"z":if(i.utc)return"+0000";var m="number"==typeof i.timezone?i.timezone:-e.getTimezoneOffset();return(m<0?"-":"+")+a(Math.abs(m/60))+a(m%60);default:return r}}))}function a(t,e,n){void 0===e&&(e="0"),void 0===n&&(n=2);var r=String(t);if(e)for(;r.length<n;)r=e+r;return r}function s(t){var e=t.getHours();return 0===e?e=12:e>12&&(e-=12),e}function c(t,e){e=e||"sunday";var n=t.getDay();"monday"===e&&(0===n?n=6:n--);var r=new Date(t.getFullYear(),0,1),i=((t.getTime()-r.getTime())/864e5+7-n)/7;return Math.floor(i)}e.Strftime=i,e.StrftimeTZ=function(t,e,n,r){return o(t,e,n,{timezone:r})},e.StrftimeUTC=function(t,e,n){return o(t,e,n,{utc:!0})},e.LocalizedStrftime=function(t){return function(e,n,r){return o(e,n,t,r)}},e.TIME_LOCALES={EN:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","Mar","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],AM:"AM",PM:"PM",am:"am",pm:"pm"},FR:{days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],shortDays:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],shortMonths:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aou","Sep","Oct","Nov","Dec"],AM:"AM",PM:"PM",am:"am",pm:"pm"},PT:{days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],AM:"AM",PM:"PM",am:"am",pm:"pm"}},e.TIME_FORMATS={EN:{long:"%e %B %Y, %I:%M %p"},FR:{long:"%e %B %Y, %Hh%M"},PT:{long:"%e %B %Y, %Hh%M"}},e.DefaultStrftime=function(t,e){var n=new Date;return n.getHours()<10&&n.setDate(n.getDate()-1),n.setHours(10),n.setMinutes(0),n.setSeconds(0),i(t,n,e)}}.apply(e,[n,e]))||(t.exports=r)},4354:(t,e,n)=>{var r,i;r=[n,e,n(405),n(2855),n(3968),n(9800),n(5565),n(4920),n(7614),n(7545),n(7698),n(5831),n(6811),n(4250),n(8472),n(1777)],void 0===(i=function(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.campaignSchema=void 0;var m=h.createYupObject({Data:h.createYupObject({External:h.createYupObject({Url:n.string()}),Internal:h.createYupObject({BlobReference:h.createYupObject({Uid:n.string()})})}),Kind:n.object().transform(h.simpleTransform(a.ResourceOrigin)),NoTransform:n.boolean(),Quality:n.object().transform(h.simpleTransform(a.ImageQuality)),Smart:n.boolean(),ZoneHeight:n.number(),ZoneLeft:n.number(),ZoneTop:n.number(),ZoneWidth:n.number()}),y=h.createYupObject({Data:h.createYupObject({Dailymotion:h.createYupObject({Url:n.string()}),External:n.object().transform(h.associativeTransform(a.InternalVideo,n.string())),Internal:n.object().transform(h.associativeTransform(a.InternalVideo,h.createYupObject({Uid:n.string()}))),Youtube:h.createYupObject({Url:n.string()})}),Kind:n.object().transform(h.simpleTransform(a.ResourceOrigin)),Prop:n.object().transform(h.associativeTransform(a.InternalVideo,h.createYupObject({Duration:n.number(),Height:n.number(),Width:n.number()})))}),v=(h.createYupObject({Data:h.createYupObject({External:h.createYupObject({Url:n.string()}),Internal:h.createYupObject({BlobReference:h.createYupObject({Uid:n.string()})}),IsHTML5:n.boolean()}),Kind:n.object().transform(h.simpleTransform(a.ResourceOrigin))}),h.createYupObject({Banner:h.createYupObject({ADM:n.string(),Width:n.number(),Height:n.number(),Url:n.string()}).strict(!1),Landing:h.createYupObject({Url:n.string(),InViewContentUrl:n.string(),LegacyTracking:n.boolean()}),MainVideo:h.createYupObject({ClickUrl:n.string(),Pause:n.boolean(),Reduce:n.boolean(),Tolerance:n.number(),Vast:n.string(),ViewedAt:n.number()}),Playlist:h.createYupObject({Elements:n.array().of(h.createYupObject({Description:n.string(),Image:m,Link:n.string(),Title:n.string()}))}),Preview:h.createYupObject({Branding:h.createYupObject({Images:n.array().of(m)}),Credit:h.createYupObject({Logo:h.createYupObject({Resource:m}),Url:n.string()}),LogoPlay:n.boolean(),SlideDelay:n.number(),Sponsor:h.createYupObject({Logo:h.createYupObject({Resource:m}),Name:n.string()}),Text:n.object().transform(h.associativeTransform(l.PreviewTranslation,n.string())),Thumbnail:h.createYupObject({Image:m})}),Shares:n.object().transform(h.associativeTransform(f.Sharing,h.createYupObject({Text:n.string(),Url:n.string(),Hashtags:n.array().of(n.string())}),!1)),Sponso:h.createYupObject({Resources:h.createYupObject({Images:n.object().transform(h.associativeTransform(n.string(),m)),Videos:n.object().transform(h.associativeTransform(n.string(),y))}),Text:n.object().transform(h.associativeTransform(l.SponsoTranslation,n.string()))}),ViewButtons:h.createYupObject({Close:h.createYupObject({Skip:n.number()})})}));e.campaignSchema=h.createYupObject({AdDomain:n.string(),Campaign:n.string(),CampaignAccess:n.object().transform(h.simpleTransform(r.Access)),CampaignKind:n.object().transform(h.simpleTransform(i.AdType)),CookieSyncUrls:n.array().of(n.string()).ensure(),Content:h.createYupObject({}).concat(v),ContentOverride:h.createYupObject({}).concat(v),DataSource:n.object().transform(h.simpleTransform(o.Datasource)),DataSourceOnEventsIsolated:n.boolean(),DataSourceUrl:n.string(),DisplayMode:n.object().transform(h.simpleTransform(d.WidgetDisplayMode)),InviewExpand:n.boolean(),IsLocal:n.boolean(),Opener:n.object().transform(h.simpleTransform(c.Opener)),PerformUITriggers:n.array().of(n.object().transform(h.simpleTransform(s.NativeUITrigger))),RedirectionTarget:n.object().transform(h.simpleTransform(u.RedirectionTarget)),ResizeIframe:n.boolean(),VideoFormat:n.object().transform(h.simpleTransform(p.VideoFormat))}).concat(g.omnitagSchema)}.apply(e,r))||(t.exports=i)},1777:(t,e,n)=>{var r,i;r=[n,e,n(405),n(2855),n(7070),n(7005),n(6811),n(1964),n(5573),n(6990),n(2806),n(4250)],void 0===(i=function(t,e,n,r,i,o,a,s,c,l,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.omnitagSchema=void 0;var d=p.createYupObject({R:n.number(),G:n.number(),B:n.number(),A:n.number()}),h=p.createYupObject({Css:n.string(),Javascript:n.string(),Kind:n.object().transform(p.simpleTransform(u.SelectorType))}),f=p.createYupObject({Code:n.string(),Guard:n.object().transform(p.simpleTransform(i.OnEventGuard)),Isolated:n.boolean(),Kind:n.object().transform(p.simpleTransform(i.OnEventType)),OncePerAttempt:n.boolean(),Partner:p.createYupObject({Kind:n.object().transform(p.simpleTransform(i.OnEventPartnerType)),Params:n.object().transform(p.associativeTransform(n.string(),n.string(),!1))}),Url:n.string()}),g=p.createYupObject({ClickFormat:n.boolean(),Insertion:n.object().transform(p.simpleTransform(o.IntegrationInsertion)),Placeholders:p.createYupObject({Body:n.object({Color:d,BackgroundColor:d,FontFamily:n.string(),Width:n.string(),Align:n.string(),BoxShadow:n.boolean()}),CallToAction:p.createYupObject({Color:d}),Description:p.createYupObject({Length:n.number()}),Image:p.createYupObject({Height:n.number(),Lowres:n.boolean(),Raw:n.boolean(),Width:n.number()}),Now:p.createYupObject({Format:n.string()}),Size:p.createYupObject({Height:n.string(),Width:n.string()}),Sponsor:p.createYupObject({Color:d,Label:n.boolean(),WithoutLogo:n.boolean()}),Title:p.createYupObject({Color:d})}),Selector:h});e.omnitagSchema=p.createYupObject({ApiPrefix:n.string(),Attempt:n.string(),BlobPrefix:n.string(),ClickTracker:n.string(),Disabled:n.boolean(),DynamicPrefix:n.string(),ForcedCampaign:n.string(),ForcedCreative:n.string(),ForcedSource:n.string(),ForcedTrack:n.string(),HasSponsorImage:n.boolean(),IntegrationConfig:p.createYupObject({Kind:n.object().transform(p.simpleTransform(c.NativeIntegration)),Injector:n.string(),SponsorInjector:n.string(),Template:p.createYupObject({Html:n.string(),StyleSheet:n.string()}).concat(g),Widget:p.createYupObject({Creative20:n.boolean(),ExtraStyleSheet:n.string(),WidgetKind:n.object().transform(p.simpleTransform(a.IntegrationWidget))}).concat(g)}),Lang:n.object().transform(p.simpleTransform(s.Lang)),Legal:n.string(),OnEvents:n.object().transform(p.associativeTransform(i.Event,f,!0)),Placement:n.string(),PlacementAccess:n.object().transform(p.simpleTransform(r.Access)),PlacementPassbacks:n.array().of(p.createYupObject({Kind:n.object().transform(p.simpleTransform(l.PassbackType)),Data:n.string(),Selector:n.string()})),SspPrefix:n.string(),StaticPrefix:n.string(),TrackingPrefix:n.string(),Trusted:n.boolean(),VisitorPrefix:n.string()})}.apply(e,r))||(t.exports=i)},121:(t,e,n)=>{var r,i;r=[n,e,n(405),n(1491),n(4250)],void 0===(i=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.omnitagParamsSchema=void 0,e.omnitagParamsSchema=i.createYupObject({Campaign:n.string(),CanonicalUrl:n.string(),ClickTracker:n.string(),Creative:n.string(),Debug:n.string(),ForceConfig:n.object(),gdpr:n.boolean(),gdpr_consent:n.boolean(),gdpr_consent_string:n.string(),IntegrationTrigger:n.object().transform(i.simpleTransform(r.OmnitagTrigger)),Origin:n.string(),Placement:n.string(),RefererUrl:n.string(),Source:n.string(),Track:n.string(),Url:n.string(),usp_consent_string:n.string()})}.apply(e,r))||(t.exports=i)},9659:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rtus=e.RtusKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CRITEO=new i("CRITEO"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.RtusKind=i,e.Rtus=new r}.apply(e,r))||(t.exports=i)},7242:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Params=void 0;var n=function(t,e,n){this.Kind=t,this.Status=e,this.Time=n};e.Params=n}.apply(e,[n,e]))||(t.exports=r)},6875:function(t,e,n){var r,i,o,a=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});r=[n,e,n(7779)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Status=e.StatusKind=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TIMEOUT=new i("TIMEOUT"),e.UNKNOWN=new i("UNKNOWN"),e.SUCCESS=new i("SUCCESS"),e}return a(e,t),e}(n.Enum),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(n.EnumElement);e.StatusKind=i,e.Status=new r}.apply(e,r))||(t.exports=i)},5994:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SSPRequestPreview=void 0;var n=function(){function t(e){e&&t._load(this,e)}return t.cast=function(e){if(e){var n=new t;return t._load(n,e),n}},t._load=function(t,e){t.ThumbnailWidth=e.ThumbnailWidth,t.ThumbnailHeight=e.ThumbnailHeight,t.DescriptionLength=e.DescriptionLength},t}();e.SSPRequestPreview=n}.apply(e,[n,e]))||(t.exports=r)},213:(t,e,n)=>{var r,i;r=[n,e,n(4576),n(9659),n(5994)],void 0===(i=function(t,e,n,r,i){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.SSPRequest=void 0;var a=function(){function t(e){e&&t._load(this,e)}return t.cast=function(e){if(e){var n=new t;return t._load(n,e),n}},t._load=function(t,e){o=e.Preview,t.Preview=void 0===o?o:i.SSPRequestPreview.cast(o),t.Attempt=e.Attempt,t.CookieSyncFallbacks=n.GetterMapper(r.Rtus.cast.bind(r.Rtus),null)(e.CookieSyncFallbacks),t.ForcedCampaign=e.ForcedCampaign,t.ForcedTrack=e.ForcedTrack,t.ForcedCreative=e.ForcedCreative,t.ForcedSource=e.ForcedSource,t.ServedCampaigns=e.ServedCampaigns,t.ServedKinds=e.ServedKinds,t.PageRefreshed=e.PageRefreshed,t.Keywords=e.Keywords,t.Lang=e.Lang},t}();e.SSPRequest=a}.apply(e,r))||(t.exports=i)},4250:(t,e,n)=>{var r,i;r=[n,e,n(405)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createYupObject=e.simpleTransform=e.associativeTransform=void 0,e.associativeTransform=function(t,e,n){return function(r,i){if(!i)return{};for(var o={},a=function(r){var a;try{a=t.cast(r)}catch(t){}if(a)if(n)o[a]=[],i[r].forEach&&i[r].forEach((function(t){try{o[a].push(e.cast(t))}catch(t){}}));else try{o[a]=e.cast(i[r])}catch(t){}},s=0,c=Object.keys(i);s<c.length;s++){a(c[s])}return o}},e.simpleTransform=function(t){return function(e,n){if(n)try{return t.cast(n)}catch(t){}return{}}},n.object(),e.createYupObject=function(t){return n.object(t).noUnknown(!0).strict(!0).default(void 0).nullable(!0)}}.apply(e,r))||(t.exports=i)},458:(t,e,n)=>{var r,i;r=[n,e,n(5216),n(9102)],void 0===(i=function(t,e){"use strict";({value:!0})}.apply(e,r))||(t.exports=i)},5216:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";var n,r,i,o;Object.defineProperty(e,"__esModule",{value:!0}),Array.from||(Array.from=(n=Object.prototype.toString,r=function(t){return"function"==typeof t||"[object Function]"===n.call(t)},i=Math.pow(2,53)-1,o=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),i)},function(t){var e=this,n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!r(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var s,c=o(n.length),l=r(e)?Object(new e(c)):new Array(c),u=0;u<c;)s=n[u],l[u]=a?void 0===i?a(s,u):a.call(i,s,u):s,u+=1;return l.length=c,l}))}.apply(e,[n,e]))||(t.exports=r)},9102:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t})}.apply(e,[n,e]))||(t.exports=r)},6399:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";function n(t){return"[object Array]"===Object.prototype.toString.apply(t,[])}function r(t){return n(t)?t:[t]}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=[],o=0;o<t.length;o++){var a=t[o];n(a)?r.push.apply(r,i.apply(null,a)):r.push(a)}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayMapper=e.IndexOf=e.ToFlatArray=e.Flatten=e.ToArray=e.IsArray=void 0,e.IsArray=n,e.ToArray=r,e.Flatten=i,e.ToFlatArray=function(t){return i(r(t))},e.IndexOf=function(t,r){var i=Array.prototype.indexOf||function(t,e){for(var n=0,r=this.length;n<r;n++)if(this[n]===t)return n;return-1};return e.IndexOf=function(e,r){if(!n(e))throw new Error("Invalid array");return i.call(t,r)},e.IndexOf.apply(null,arguments)},e.ArrayMapper=function(t){return function(e){if(void 0!==e){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t(e[r]);return n}}}}.apply(e,[n,e]))||(t.exports=r)},7779:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EnumElement=e.Enum=void 0;var n=function(){function t(){}return t.prototype.cast=function(t){var e=this[t];if(e||(e=this.findValue(t)),!e)throw new Error("Invalid Enum constant: "+t);return e},t.prototype.castArray=function(t){var e=new Array;if(t){for(var n=0;n<t.length;n++){var r=this[t[n]];r||(r=this.findValue(t[n])),r&&e.push(r)}return e}},t.prototype.findValue=function(t){var e;for(var n in this)this.hasOwnProperty(n)&&this[n].toString()===t&&(e=this[n]);return e},t}();e.Enum=n;var r=function(){function t(t){this.value=t}return t.prototype.toString=function(){switch(typeof this.value){case"number":return""+this.value;case"string":default:return this.value}},t.prototype.getValue=function(t,e){return t&&t.hasOwnProperty(this.value)?t[this.value]:e},t}();e.EnumElement=r}.apply(e,[n,e]))||(t.exports=r)},8039:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNewEvent=void 0,e.createNewEvent=function(t,e){var n;return"function"==typeof Event?n=new Event(t,e):(n=document.createEvent("Event")).initEvent(t,!0,!0),n}}.apply(e,[n,e]))||(t.exports=r)},4576:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetterMapper=e.Getter=void 0;var n=function(){function t(t){this.map={},this.map=t||{}}return t.prototype.Get=function(t,e){var n=this.map[t.toString()];if(n)return n.v;if(2===arguments.length)return e;throw new Error("KeyError: "+t)},t.prototype.Set=function(t,e){this.map[t.toString()]={k:t,v:e}},t.prototype.Delete=function(t){delete this.map[t.toString()]},t.prototype.Keys=function(){var t=0;for(var e in this.map)this.map.hasOwnProperty(e)&&t++;var n=new Array(t),r=0;for(var e in this.map)this.map.hasOwnProperty(e)&&(n[r]=this.map[e].k,r++);return n},t.prototype.toJSON=function(){var t={};for(var e in this.map)this.map.hasOwnProperty(e)&&(t[e]=this.map[e].v);return t},t}();e.Getter=n,e.GetterMapper=function(t,e){return function(r){if(void 0!==r){var i={};for(var o in r)r.hasOwnProperty(o)&&(i[o]={k:t?t(o):o,v:e?e(r[o]):r[o]});return new n(i)}}}}.apply(e,[n,e]))||(t.exports=r)},4834:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";function n(){return window.navigator.userAgent}Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageCode=e.isMobileDevice=e.IEVersion=e.isIOs=e.isIE=e.isFirefox=e.isOpera=e.isSafari=e.isChrome=e.UserAgent=void 0,e.UserAgent=n,e.isChrome=function(){return n().indexOf("Chrome")>=0},e.isSafari=function(t){return t=t||window.navigator,/^((?!chrome|android).)*safari/i.test(t.userAgent)},e.isOpera=function(){return window.opera},e.isFirefox=function(){return n().indexOf("Firefox")>=0},e.isIE=function(){return n().indexOf("MSIE")>=0},e.isIOs=function(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},e.IEVersion=function(){var t=3,e=document.createElement("div"),n=e.getElementsByTagName("i");do{e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(n[0]);return t>4?t:document.documentMode||-1},e.isMobileDevice=function(){return navigator.userAgent.toLowerCase().match(/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i)},e.getLanguageCode=function(){var t="EN";try{t=(window.navigator.userLanguage||window.navigator.language).substr(0,2).toUpperCase()}catch(t){}return t}}.apply(e,[n,e]))||(t.exports=r)},8236:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";function n(t,e,n){var r="";n&&(r=";expires="+n.toUTCString()),document.cookie=t+"="+e+r+";path=/"}Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteCookie=e.GetCookie=e.SetCookie=e.SetCookieExpiresInDays=void 0,e.SetCookieExpiresInDays=function(t,e,r){var i;(i=new Date).setTime(i.getTime()+24*r*60*60*1e3),n(t,e,i)},e.SetCookie=n,e.GetCookie=function(t){for(var e=t+"=",n=document.cookie.split(/;\s+/g),r=0;r<n.length;r++){var i=n[r];if(0===i.indexOf(e))return i.slice(e.length)}return null},e.DeleteCookie=function(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/";for(var e=window.location.hostname.split("."),n=2;n<e.length;n++)document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/; domain=."+e.slice(-n).join(".")+";"}}.apply(e,[n,e]))||(t.exports=r)},8686:(t,e,n)=>{var r,i;r=[n,e,n(4834),n(8709)],void 0===(i=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findBiggerElement=e.traverseNode=e.onDomReady=e.injectHtmlAsChild=e.removeCSSRules=e.applyCSSRule=e.IsVisibleElement=e.AYL_FLAG_INVISBLE_ELEMENT=e.GetScrollXY=e.getRelativeCoordinates=e.GetParentIframe=e.GetPadding=e.addClickListener=void 0,e.addClickListener=function(t,e,r){var i,o;void 0===r&&(r=!1),n.isMobileDevice()?(t.addEventListener("touchstart",(function(t){i=window.scrollY,o=t,r&&(t.stopImmediatePropagation(),t.preventDefault())})),t.addEventListener("touchend",(function(t){window.scrollY===i&&(Math.abs(t.changedTouches[0].clientX-o.targetTouches[0].clientX)+Math.abs(t.changedTouches[0].clientY-o.targetTouches[0].clientY)<20&&e(t))}))):t.addEventListener("click",e)},e.GetPadding=function(t){var e=getComputedStyle(t);return{top:parseInt(e.paddingTop,10),right:parseInt(e.paddingRight,10),left:parseInt(e.paddingLeft,10),bottom:parseInt(e.paddingBottom,10)}},e.GetParentIframe=function(t){if(window.self!==window.top){var e;try{var n=window,r=n.parent;e=window.frameElement;for(var i=window.document.body.offsetHeight,o=window.parent.document.body.offsetHeight;e&&r!==window.top&&o<=i+16;)r=(n=r).parent,i=n.document.body.offsetHeight,o=r.document.body.offsetHeight,e=n.frameElement}catch(t){}return e}},e.getRelativeCoordinates=function(t,e){for(var n=t.pageX,r=t.pageY,i={left:e.offsetLeft,top:e.offsetTop},o=e.offsetParent;null!=o;)i.left+=o.offsetLeft,i.top+=o.offsetTop,o=o.offsetParent;return{x:n-i.left,y:r-i.top}},e.GetScrollXY=function(){var t=0,e=0;return"number"==typeof window.pageYOffset?(e=window.pageYOffset,t=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(e=document.body.scrollTop,t=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(e=document.documentElement.scrollTop,t=document.documentElement.scrollLeft),[t,e]},e.AYL_FLAG_INVISBLE_ELEMENT="ayl_KjHNYPFqsDiUARyMyojK",e.IsVisibleElement=function(t,n,i,o,a){void 0===i&&(i=.2),void 0===o&&(o=document.body),void 0===a&&(a=1);var s=n,c=r.Offset(s,o),l=s.offsetHeight,u=s.offsetWidth,p=!1;if("iframe"!==s.tagName.toLowerCase()){for(var d=0;d<s.children.length;d++)if(r.IsVisible(s.children[d])){p=!0;break}}else p=!0;if(!r.IsVisible(s)&&!p||r.HasClass(s,e.AYL_FLAG_INVISBLE_ELEMENT))return!1;var h=l*i,f=c.top,g=c.left,m=c.top+l,y=c.left+u,v=o.scrollTop,E=o.scrollLeft,b=v+t.innerHeight,T=E+t.innerWidth,w=!1;if(v<=f&&f<=b&&v<=m&&m<=b)w=!0;else if(v<=f&&f<=b){var _=f+h;w=v<=_&&_<=b}else if(v<=m&&m<=b){var S=m-h;w=b>=S&&S>=v}var C=!1;if(E<=g&&g<=T&&E<=y&&y<=T)C=!0;else if(E<=g&&g<=T){var A=g+h;C=E<=A&&A<=T}else if(E<=y&&y<=T){var I=y-h;C=T>=I&&I>=E}return C&&w},e.applyCSSRule=function(t,e,n,r){r&&r.push({element:t,property:e,value:t.style[e]}),t.style[e]=n},e.removeCSSRules=function(t){for(;0<t.length;){var e=t[0];e.element.style[e.property]=e.value,t.shift()}},e.injectHtmlAsChild=function(t,e){var n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild)},e.onDomReady=function(t){(window.parent===window||document.doctype)&&"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){t()})):t()},e.traverseNode=function t(e,n){n(e);for(var r=0,i=e.childNodes.length;r<i;r++)t(e.childNodes[r],n)},e.findBiggerElement=function t(e,n,r){if(!e)return null;if(r=r||-1,e.nodeName.toUpperCase()===n){var i=parseInt(window.getComputedStyle(e).width,10);if(i>r)return r=i,e}else if(null!==e.children){var o,a=null;for(o=0;null===a&&o<e.children.length;o++)(a=t(e.children[o],n,r))&&(r=parseInt(window.getComputedStyle(a).width,10));return a}return null}}.apply(e,r))||(t.exports=i)},5738:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AYL_INJECT_CLASSNAME=e.SubstituteTokens=e.ReplaceAll=e.ReplaceColors=e.DecodeURIParams=e.EncodeURIParams=e.EncodeURIComponent=e.Truncate=e.ChunkText=e.DecodeHTMLEntities=e.EscapeHTML=e.Quote=e.Superscript=void 0;var n={}.hasOwnProperty;e.Superscript=function(t){return t.replace(/[®™©]/g,(function(t){return"<sup>"+t+"</sup>"}))},e.Quote=function(t){var n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r=/[\b\t\n\f\r"\\]/g;return e.Quote=function(t){return'"'+t.replace(r,(function(t){return n[t]}))+'"'},e.Quote.apply(null,arguments)};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function i(t,e,n){var r=t.length>e,i=r?t.substr(0,e-1):t;return i=n&&r?i.substr(0,i.lastIndexOf(" ")):i,r?i+"...":i}function o(t){return encodeURIComponent(t).replace(/'/g,"%27")}e.EscapeHTML=function(t){return t&&(t=t.replace(/[&<>"]/g,(function(t){return r[t]}))),/^javascript:/.test(t)?"#safeurl":t},e.DecodeHTMLEntities=function(t){var e=document.createElement("div");return t=(t=(t=t.replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace("&apos;","'"),e.innerHTML="<pre>"+t+"</pre>",e.innerText||e.textContent||t},e.ChunkText=function(t,e){void 0===e&&(e=100);var n="";if(!t)return"";var r=t.split("[BREAK]");if(r.length>1)for(var o=0,a=0;a<r.length&&!((o+=r[a].length)>e);a++)n+=r[a];else n=i(t,e,!0);return n},e.Truncate=i,e.EncodeURIComponent=o,e.EncodeURIParams=function(t){var e=[];for(var r in t)n.call(t,r)&&""!==t[r]&&e.push(o(r)+"="+o(t[r]));return e.sort(),e.join("&")},e.DecodeURIParams=function(t){for(var e={},n=t.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");i[1]&&(e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return e},e.ReplaceColors=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e.join(",")},e.ReplaceAll=function(t,e){var n=new RegExp(Object.keys(e).join("|"),"gi");return t.replace(n,(function(t){return e[t]}))};var a=[{token:"URL",replacer:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return encodeURIComponent(document.location.href)}},{token:"TIMESTAMP",replacer:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Math.floor((new Date).getTime()/1e3).toString()}},{token:"CACHEBUSTER",replacer:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Math.floor((new Date).getTime()/1e3).toString()}},{token:"RANDOM",replacer:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Math.floor((new Date).getTime()/1e3).toString()}},{token:"DOMAIN",replacer:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return encodeURIComponent(document.location.hostname)}}];e.SubstituteTokens=function(t){for(var e,n=0;n<a.length;n++)e=a[n],t=t.replace(new RegExp("(\\[|%%)"+e.token+"(\\]|%%)","gi"),e.replacer);return t},e.AYL_INJECT_CLASSNAME="ayl-injected-element"}.apply(e,[n,e]))||(t.exports=r)},7796:(t,e,n)=>{var r;void 0===(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.ident=-1,this.complete=!1,this.total_time=0,this.total_time_run=0,this.callback=t,this.total_time=e,this.start_time=(new Date).getTime(),this.ident=window.setTimeout(t,e),this.id=Math.round(1e4*Math.random())}return t.prototype._time_diff=function(t,e){return e?e-t:(new Date).getTime()-t},t.prototype.cancel=function(){window.clearTimeout(this.ident)},t.prototype.pause=function(){-1!==this.ident&&(window.clearTimeout(this.ident),this.ident=-1,this.total_time_run=this._time_diff(this.start_time,0),this.complete=this.total_time_run>=this.total_time)},t.prototype.resume=function(){-1===this.ident&&(this.ident=this.complete?-1:window.setTimeout(this.callback,this.total_time-this.total_time_run))},t}();e.default=n}.apply(e,[n,e]))||(t.exports=r)},6322:(t,e,n)=>{var r,i,o=n(7017);r=[n,e,n(5738)],void 0===(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.urlNeedsToBeTracked=e.isCreative21=e.getSafeFrameEXT=e.InSecuredIframe=e.InIframe=e.executeForEachParent=e.executeUntilTopMostWindow=e.getTopMostWindow=e.getWindow=e.getPageParameter=e.setDomInjectionTarget=e.adRootClassName=void 0;var r=function(t,n){var r,i=document.querySelectorAll('script[src*="omnitagjs.com"]'),o=new RegExp("Placement="+n),a=new RegExp("Placement=");for(r=0;r<i.length;r++){var s=i[r];!o.test(s.src)&&a.test(s.src)||s.parentNode.className===e.adRootClassName||t.appendChild(s)}};e.adRootClassName="ayl_v_ckr_b",e.setDomInjectionTarget=function(t,e,i){return void 0===i&&(i=document),new o((function(o){var a=".ayl_native_ad_"+t.Attempt,s=i.querySelector(a);if(e.className+=e.className?" "+n.AYL_INJECT_CLASSNAME:n.AYL_INJECT_CLASSNAME,s)s.appendChild(e),r(s,t.Placement),o(s);else var c=0,l=setInterval((function(){var n=i.querySelector(a);n&&(n.appendChild(e),r(n,t.Placement),clearTimeout(l),o(n)),(++c>200||!t.Placement)&&(document.body.appendChild(e),r(document.body,t.Placement),clearTimeout(l),o(document.body))}),10)}))},e.getPageParameter=function(t){var n,r=null;return e.getTopMostWindow().location.search.substr(1).split("&").forEach((function(e){(n=e.split("="))[0].toLowerCase()===t.toLowerCase()&&(r=decodeURIComponent(n[1]))})),r},e.getWindow=function(){return window},e.getTopMostWindow=function(){var t=window;return e.executeUntilTopMostWindow((function(e){t=e})),t},e.executeUntilTopMostWindow=function(t){var e=window;try{for(t(e);e.parent!==e&&e.parent.document.location.href.toString();)t(e=e.parent)}catch(t){}},e.executeForEachParent=function(t,n){try{n(t),t.parentElement&&e.executeForEachParent(t.parentElement,n)}catch(t){}},e.InIframe=function(){try{return e.getWindow().self!==e.getWindow().top}catch(t){return!0}},e.InSecuredIframe=function(){try{return e.InIframe()&&"string"!=typeof e.getWindow().top.location.toString()}catch(t){return!0}},e.getSafeFrameEXT=function(){var t;return e.executeUntilTopMostWindow((function(e){var n;t||(t=e.sfAPI||(null===(n=e.$sf)||void 0===n?void 0:n.ext))})),t},e.isCreative21=function(t){var e;return!!(null===(e=t.IntegrationConfig.Widget)||void 0===e?void 0:e.Creative20)},e.urlNeedsToBeTracked=function(t){return-1===t.toLowerCase().indexOf("tracking")&&-1===t.toLowerCase().indexOf("omnitagjs.com")}}.apply(e,r))||(t.exports=i)},7017:function(t,e,n){var r=n(8584);t.exports=function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function e(t){return"function"==typeof t}var i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,a=void 0,s=void 0,c=function(t,e){T[o]=t,T[o+1]=e,2===(o+=2)&&(s?s(w):S())};function l(t){s=t}function u(t){c=t}var p="undefined"!=typeof window?window:void 0,d=p||{},h=d.MutationObserver||d.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),g="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function m(){return function(){return r.nextTick(w)}}function y(){return void 0!==a?function(){a(w)}:b()}function v(){var t=0,e=new h(w),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function E(){var t=new MessageChannel;return t.port1.onmessage=w,function(){return t.port2.postMessage(0)}}function b(){var t=setTimeout;return function(){return t(w,1)}}var T=new Array(1e3);function w(){for(var t=0;t<o;t+=2)(0,T[t])(T[t+1]),T[t]=void 0,T[t+1]=void 0;o=0}function _(){try{var t=Function("return this")().require("vertx");return a=t.runOnLoop||t.runOnContext,y()}catch(t){return b()}}var S=void 0;function C(t,e){var n=this,r=new this.constructor(O);void 0===r[I]&&q(r);var i=n._state;if(i){var o=arguments[i-1];c((function(){return z(i,r,o,n._result)}))}else W(n,r,t,e);return r}function A(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(O);return V(n,t),n}S=f?m():h?v():g?E():void 0===p?_():b();var I=Math.random().toString(36).substring(2);function O(){}var x=void 0,P=1,R=2;function L(){return new TypeError("You cannot resolve a promise with itself")}function k(){return new TypeError("A promises callback cannot return that same promise.")}function N(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function D(t,e,n){c((function(t){var r=!1,i=N(n,e,(function(n){r||(r=!0,e!==n?V(t,n):F(t,n))}),(function(e){r||(r=!0,B(t,e))}),"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,B(t,i))}),t)}function M(t,e){e._state===P?F(t,e._result):e._state===R?B(t,e._result):W(e,void 0,(function(e){return V(t,e)}),(function(e){return B(t,e)}))}function j(t,n,r){n.constructor===t.constructor&&r===C&&n.constructor.resolve===A?M(t,n):void 0===r?F(t,n):e(r)?D(t,n,r):F(t,n)}function V(e,n){if(e===n)B(e,L());else if(t(n)){var r=void 0;try{r=n.then}catch(t){return void B(e,t)}j(e,n,r)}else F(e,n)}function U(t){t._onerror&&t._onerror(t._result),H(t)}function F(t,e){t._state===x&&(t._result=e,t._state=P,0!==t._subscribers.length&&c(H,t))}function B(t,e){t._state===x&&(t._state=R,t._result=e,c(U,t))}function W(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+P]=n,i[o+R]=r,0===o&&t._state&&c(H,t)}function H(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?z(n,r,i,o):i(o);t._subscribers.length=0}}function z(t,n,r,i){var o=e(r),a=void 0,s=void 0,c=!0;if(o){try{a=r(i)}catch(t){c=!1,s=t}if(n===a)return void B(n,k())}else a=i;n._state!==x||(o&&c?V(n,a):!1===c?B(n,s):t===P?F(n,a):t===R&&B(n,a))}function G(t,e){try{e((function(e){V(t,e)}),(function(e){B(t,e)}))}catch(e){B(t,e)}}var K=0;function Y(){return K++}function q(t){t[I]=K++,t._state=void 0,t._result=void 0,t._subscribers=[]}function $(){return new Error("Array Methods must be provided an Array")}var X=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(O),this.promise[I]||q(this.promise),i(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?F(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&F(this.promise,this._result))):B(this.promise,$())}return t.prototype._enumerate=function(t){for(var e=0;this._state===x&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===A){var i=void 0,o=void 0,a=!1;try{i=t.then}catch(t){a=!0,o=t}if(i===C&&t._state!==x)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===nt){var s=new n(O);a?B(s,o):j(s,t,i),this._willSettleAt(s,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===x&&(this._remaining--,t===R?B(r,n):this._result[e]=n),0===this._remaining&&F(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;W(t,void 0,(function(t){return n._settledAt(P,e,t)}),(function(t){return n._settledAt(R,e,t)}))},t}();function J(t){return new X(this,t).promise}function Q(t){var e=this;return i(t)?new e((function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))}function Z(t){var e=new this(O);return B(e,t),e}function tt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function et(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var nt=function(){function t(e){this[I]=Y(),this._result=this._state=void 0,this._subscribers=[],O!==e&&("function"!=typeof e&&tt(),this instanceof t?G(this,e):et())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();function rt(){var t=void 0;if(void 0!==n.g)t=n.g;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=nt}return nt.prototype.then=C,nt.all=J,nt.race=Q,nt.resolve=A,nt.reject=Z,nt._setScheduler=l,nt._setAsap=u,nt._asap=c,nt.polyfill=rt,nt.Promise=nt,nt}()},8584:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var s,c=[],l=!1,u=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&d())}function d(){if(!l){var t=a(p);l=!0;for(var e=c.length;e;){for(s=c,c=[];++u<e;)s&&s[u].run();u=-1,e=c.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function f(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},9851:t=>{"use strict";function e(t){this._maxSize=t,this.clear()}e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(t){return this._values[t]},e.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new e(512),c=new e(512),l=new e(512);function u(t){return s.get(t)||s.set(t,p(t).map((function(t){return t.replace(a,"$2")})))}function p(t){return t.match(n)}function d(t){return"string"==typeof t&&t&&-1!==["'",'"'].indexOf(t.charAt(0))}function h(t){return!d(t)&&(function(t){return t.match(i)&&!t.match(r)}(t)||function(t){return o.test(t)}(t))}t.exports={Cache:e,split:p,normalizePath:u,setter:function(t){var e=u(t);return c.get(t)||c.set(t,(function(t,n){for(var r=0,i=e.length,o=t;r<i-1;){var a=e[r];if("__proto__"===a||"constructor"===a||"prototype"===a)return t;o=o[e[r++]]}o[e[r]]=n}))},getter:function(t,e){var n=u(t);return l.get(t)||l.set(t,(function(t){for(var r=0,i=n.length;r<i;){if(null==t&&e)return;t=t[n[r++]]}return t}))},join:function(t){return t.reduce((function(t,e){return t+(d(e)||r.test(e)?"["+e+"]":(t?".":"")+e)}),"")},forEach:function(t,e,n){!function(t,e,n){var r,i,o,a,s=t.length;for(i=0;i<s;i++)(r=t[i])&&(h(r)&&(r='"'+r+'"'),o=!(a=d(r))&&/^\d+$/.test(r),e.call(n,r,a,o,i,t))}(Array.isArray(t)?t:p(t),e,n)}}},9138:t=>{function e(t,e){var n=t.length,r=new Array(n),i={},o=n,a=function(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}(e),s=function(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}(t);for(e.forEach((function(t){if(!s.has(t[0])||!s.has(t[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));o--;)i[o]||c(t[o],o,new Set);return r;function c(t,e,o){if(o.has(t)){var l;try{l=", node was:"+JSON.stringify(t)}catch(t){l=""}throw new Error("Cyclic dependency"+l)}if(!s.has(t))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(t));if(!i[e]){i[e]=!0;var u=a.get(t)||new Set;if(e=(u=Array.from(u)).length){o.add(t);do{var p=u[--e];c(p,s.get(p),o)}while(e);o.delete(t)}r[--n]=t}}}t.exports=function(t){return e(function(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}(t),t)},t.exports.array=e},8637:function(t,e,n){var r=n(7017);!function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:t.id||null,adId:t.adId||null,sequence:t.sequence||null,apiFramework:t.apiFramework||null,universalAdId:{value:null,idRegistry:"unknown"},creativeExtensions:[]}}var g=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=E(t);for(var o in!e.ERRORCODE||n.isCustomCode||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=_(Math.round(1e8*Math.random()).toString()),e.TIMESTAMP=(new Date).toISOString(),e.RANDOM=e.random=e.CACHEBUSTING,e)e[o]=w(e[o]);for(var a in i){var s=i[a];"string"==typeof s&&r.push(y(s,e))}return r}function y(t,e){var n=(t=v(t,e)).match(/[^[\]]+(?=])/g);if(!n)return t;var r=n.filter((function(t){return g.indexOf(t)>-1}));return 0===r.length?t:v(t,r=r.reduce((function(t,e){return t[e]=-1,t}),{}))}function v(t,e){var n=t;for(var r in e){var i=e[r];n=n.replace(new RegExp("(?:\\[|%%)(".concat(r,")(?:\\]|%%)"),"g"),i)}return n}function E(t){return Array.isArray(t)?t.map((function(t){return t&&t.hasOwnProperty("url")?t.url:t})):t}function b(t,e){for(var n=0;n<e.length;n++)if(T(e[n],t))return!0;return!1}function T(t,e){if(t&&e){var n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);return n.length===r.length&&t.id===e.id&&t.url===e.url}return!1}function w(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%".concat(t.charCodeAt(0).toString(16))}))}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=String(t);return n.length<e?S(0,e-n.length,!1).map((function(){return"0"})).join("")+n:n}function S(t,e,n){for(var r=[],i=t<e,o=n?i?e+1:e-1:e,a=t;i?a<o:a>o;i?a++:a--)r.push(a);return r}var C={track:function(t,e,n){m(t,e,n).forEach((function(t){"undefined"!=typeof window&&null!==window&&((new Image).src=t)}))},resolveURLTemplates:m,extractURLsFromTemplates:E,containsTemplateObject:b,isTemplateObjectEqual:T,encodeURIComponentRFC3986:w,replaceUrlMacros:y,leftpad:_,range:S,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},flatten:function t(e){return e.reduce((function(e,n){return e.concat(Array.isArray(n)?t(n):n)}),[])},joinArrayOfUniqueTemplateObjs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[];return n.concat(r).reduce((function(t,e){return b(e,t)||t.push(e),t}),[])}};function A(t){return-1!==["true","TRUE","True","1"].indexOf(t)}var I={childByName:function(t,e){var n=t.childNodes;for(var r in n){var i=n[r];if(i.nodeName===e)return i}},childrenByName:function(t,e){var n=[],r=t.childNodes;for(var i in r){var o=r[i];o.nodeName===e&&n.push(o)}return n},resolveVastAdTagURI:function(t,e){if(!e)return t;if(0===t.indexOf("//")){var n=location.protocol;return"".concat(n).concat(t)}if(-1===t.indexOf("://")){var r=e.slice(0,e.lastIndexOf("/"));return"".concat(r,"/").concat(t)}return t},parseBoolean:A,parseNodeText:function(t){return t&&(t.textContent||t.text||"").trim()},copyNodeAttribute:function(t,e,n){var r=e.getAttribute(t);r&&n.setAttribute(t,r)},parseAttributes:function(t){for(var e=t.attributes,n={},r=0;r<e.length;r++)n[e[r].nodeName]=e[r].nodeValue;return n},parseDuration:function(t){if(null==t)return-1;if(C.isNumeric(t))return parseInt(t);var e=t.split(":");if(3!==e.length)return-1;var n=e[2].split("."),r=parseInt(n[0]);2===n.length&&(r+=parseFloat("0.".concat(n[1])));var i=parseInt(60*e[1]),o=parseInt(60*e[0]*60);return isNaN(o)||isNaN(i)||isNaN(r)||i>3600||r>60?-1:o+i+r},splitVAST:function(t){var e=[],n=null;return t.forEach((function(r,i){if(r.sequence&&(r.sequence=parseInt(r.sequence,10)),r.sequence>1){var o=t[i-1];if(o&&o.sequence===r.sequence-1)return void(n&&n.push(r));delete r.sequence}n=[r],e.push(n)})),e},assignAttributes:function(t,e){if(t)for(var n in t){var r=t[n];if(r.nodeName&&r.nodeValue&&e.hasOwnProperty(r.nodeName)){var i=r.nodeValue;"boolean"==typeof e[r.nodeName]&&(i=A(i)),e[r.nodeName]=i}}},mergeWrapperAdData:function(t,e){t.errorURLTemplates=e.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=e.impressionURLTemplates.concat(t.impressionURLTemplates),t.extensions=e.extensions.concat(t.extensions),t.followAdditionalWrappers=e.followAdditionalWrappers,t.allowMultipleAds=e.allowMultipleAds,t.fallbackOnNoAd=e.fallbackOnNoAd;var n=(e.creatives||[]).filter((function(t){return t&&"companion"===t.type})),r=n.reduce((function(t,e){return(e.variations||[]).forEach((function(e){(e.companionClickTrackingURLTemplates||[]).forEach((function(e){C.containsTemplateObject(e,t)||t.push(e)}))})),t}),[]);t.creatives=n.concat(t.creatives);var i=e.videoClickTrackingURLTemplates&&e.videoClickTrackingURLTemplates.length,o=e.videoCustomClickURLTemplates&&e.videoCustomClickURLTemplates.length;t.creatives.forEach((function(t){if(e.trackingEvents&&e.trackingEvents[t.type])for(var n in e.trackingEvents[t.type]){var a=e.trackingEvents[t.type][n];Array.isArray(t.trackingEvents[n])||(t.trackingEvents[n]=[]),t.trackingEvents[n]=t.trackingEvents[n].concat(a)}"linear"===t.type&&(i&&(t.videoClickTrackingURLTemplates=t.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates)),o&&(t.videoCustomClickURLTemplates=t.videoCustomClickURLTemplates.concat(e.videoCustomClickURLTemplates)),!e.videoClickThroughURLTemplate||null!==t.videoClickThroughURLTemplate&&void 0!==t.videoClickThroughURLTemplate||(t.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate)),"companion"===t.type&&r.length&&(t.variations||[]).forEach((function(t){t.companionClickTrackingURLTemplates=C.joinArrayOfUniqueTemplateObjs(t.companionClickTrackingURLTemplates,r)}))})),e.adVerifications&&(t.adVerifications=t.adVerifications.concat(e.adVerifications)),e.blockedAdCategories&&(t.blockedAdCategories=t.blockedAdCategories.concat(e.blockedAdCategories))}};function O(t,e){var n=function(){var t=f(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:t.id,adId:t.adId,sequence:t.sequence,apiFramework:t.apiFramework,type:"companion",required:null,variations:[]}}(e);return n.required=t.getAttribute("required")||null,n.variations=I.childrenByName(t,"Companion").map((function(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:t.id||null,adType:"companionAd",width:t.width||0,height:t.height||0,assetWidth:t.assetWidth||null,assetHeight:t.assetHeight||null,expandedWidth:t.expandedWidth||null,expandedHeight:t.expandedHeight||null,apiFramework:t.apiFramework||null,adSlotID:t.adSlotID||null,pxratio:t.pxratio||"1",renderingMode:t.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,xmlEncoded:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(I.parseAttributes(t));e.htmlResources=I.childrenByName(t,"HTMLResource").reduce((function(t,e){var n=I.parseNodeText(e);return n?t.concat(n):t}),[]),e.iframeResources=I.childrenByName(t,"IFrameResource").reduce((function(t,e){var n=I.parseNodeText(e);return n?t.concat(n):t}),[]),e.staticResources=I.childrenByName(t,"StaticResource").reduce((function(t,e){var n=I.parseNodeText(e);return n?t.concat({url:n,creativeType:e.getAttribute("creativeType")||null}):t}),[]),e.altText=I.parseNodeText(I.childByName(t,"AltText"))||null;var n=I.childByName(t,"TrackingEvents");n&&I.childrenByName(n,"Tracking").forEach((function(t){var n=t.getAttribute("event"),r=I.parseNodeText(t);n&&r&&(Array.isArray(e.trackingEvents[n])||(e.trackingEvents[n]=[]),e.trackingEvents[n].push(r))})),e.companionClickTrackingURLTemplates=I.childrenByName(t,"CompanionClickTracking").map((function(t){return{id:t.getAttribute("id")||null,url:I.parseNodeText(t)}})),e.companionClickThroughURLTemplate=I.parseNodeText(I.childByName(t,"CompanionClickThrough"))||null;var r=I.childByName(t,"AdParameters");return r&&(e.adParameters=I.parseNodeText(r),e.xmlEncoded=r.getAttribute("xmlEncoded")||null),e})),n}function x(t){return"linear"===t.type}function P(t,e){var n,r=function(){var t=f(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:t.id,adId:t.adId,sequence:t.sequence,apiFramework:t.apiFramework,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(e);r.duration=I.parseDuration(I.parseNodeText(I.childByName(t,"Duration")));var i=t.getAttribute("skipoffset");if(null==i)r.skipDelay=null;else if("%"===i.charAt(i.length-1)&&-1!==r.duration){var o=parseInt(i,10);r.skipDelay=r.duration*(o/100)}else r.skipDelay=I.parseDuration(i);var a=I.childByName(t,"VideoClicks");if(a){var s=I.childByName(a,"ClickThrough");r.videoClickThroughURLTemplate=s?{id:s.getAttribute("id")||null,url:I.parseNodeText(s)}:null,I.childrenByName(a,"ClickTracking").forEach((function(t){r.videoClickTrackingURLTemplates.push({id:t.getAttribute("id")||null,url:I.parseNodeText(t)})})),I.childrenByName(a,"CustomClick").forEach((function(t){r.videoCustomClickURLTemplates.push({id:t.getAttribute("id")||null,url:I.parseNodeText(t)})}))}var c=I.childByName(t,"AdParameters");c&&(r.adParameters=I.parseNodeText(c)),I.childrenByName(t,"TrackingEvents").forEach((function(t){I.childrenByName(t,"Tracking").forEach((function(t){var e=t.getAttribute("event"),i=I.parseNodeText(t);if(e&&i){if("progress"===e){if(!(n=t.getAttribute("offset")))return;e="%"===n.charAt(n.length-1)?"progress-".concat(n):"progress-".concat(Math.round(I.parseDuration(n)))}Array.isArray(r.trackingEvents[e])||(r.trackingEvents[e]=[]),r.trackingEvents[e].push(i)}}))})),I.childrenByName(t,"MediaFiles").forEach((function(t){I.childrenByName(t,"MediaFile").forEach((function(t){r.mediaFiles.push(function(t){var e={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};e.id=t.getAttribute("id"),e.fileURL=I.parseNodeText(t),e.deliveryType=t.getAttribute("delivery"),e.codec=t.getAttribute("codec"),e.mimeType=t.getAttribute("type"),e.mediaType=t.getAttribute("mediaType")||"2D",e.apiFramework=t.getAttribute("apiFramework"),e.fileSize=parseInt(t.getAttribute("fileSize")||0),e.bitrate=parseInt(t.getAttribute("bitrate")||0),e.minBitrate=parseInt(t.getAttribute("minBitrate")||0),e.maxBitrate=parseInt(t.getAttribute("maxBitrate")||0),e.width=parseInt(t.getAttribute("width")||0),e.height=parseInt(t.getAttribute("height")||0);var n=t.getAttribute("scalable");n&&"string"==typeof n&&(e.scalable=I.parseBoolean(n));var r=t.getAttribute("maintainAspectRatio");return r&&"string"==typeof r&&(e.maintainAspectRatio=I.parseBoolean(r)),e}(t))}));var e=I.childByName(t,"InteractiveCreativeFile");e&&(r.interactiveCreativeFile=function(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:t.type||null,apiFramework:t.apiFramework||null,variableDuration:I.parseBoolean(t.variableDuration),fileURL:null}}(I.parseAttributes(t));return e.fileURL=I.parseNodeText(t),e}(e));var n=I.childByName(t,"ClosedCaptionFiles");n&&I.childrenByName(n,"ClosedCaptionFile").forEach((function(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:t.type||null,language:t.language||null,fileURL:null}}(I.parseAttributes(t));e.fileURL=I.parseNodeText(t),r.closedCaptionFiles.push(e)}));var i,o,a,s=I.childByName(t,"Mezzanine"),c=(i=s,o={},a=!1,["delivery","type","width","height"].forEach((function(t){i&&i.getAttribute(t)?o[t]=i.getAttribute(t):a=!0})),a?null:o);if(c){var l={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};l.id=s.getAttribute("id"),l.fileURL=I.parseNodeText(s),l.delivery=c.delivery,l.codec=s.getAttribute("codec"),l.type=c.type,l.width=parseInt(c.width,10),l.height=parseInt(c.height,10),l.fileSize=parseInt(s.getAttribute("fileSize"),10),l.mediaType=s.getAttribute("mediaType")||"2D",r.mezzanine=l}}));var l=I.childByName(t,"Icons");return l&&I.childrenByName(l,"Icon").forEach((function(t){r.icons.push(function(t){var e={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null};e.program=t.getAttribute("program"),e.height=parseInt(t.getAttribute("height")||0),e.width=parseInt(t.getAttribute("width")||0),e.xPosition=function(t){return-1!==["left","right"].indexOf(t)?t:parseInt(t||0)}(t.getAttribute("xPosition")),e.yPosition=function(t){return-1!==["top","bottom"].indexOf(t)?t:parseInt(t||0)}(t.getAttribute("yPosition")),e.apiFramework=t.getAttribute("apiFramework"),e.pxratio=t.getAttribute("pxratio")||"1",e.offset=I.parseDuration(t.getAttribute("offset")),e.duration=I.parseDuration(t.getAttribute("duration")),I.childrenByName(t,"HTMLResource").forEach((function(t){e.type=t.getAttribute("creativeType")||"text/html",e.htmlResource=I.parseNodeText(t)})),I.childrenByName(t,"IFrameResource").forEach((function(t){e.type=t.getAttribute("creativeType")||0,e.iframeResource=I.parseNodeText(t)})),I.childrenByName(t,"StaticResource").forEach((function(t){e.type=t.getAttribute("creativeType")||0,e.staticResource=I.parseNodeText(t)}));var n=I.childByName(t,"IconClicks");return n&&(e.iconClickThroughURLTemplate=I.parseNodeText(I.childByName(n,"IconClickThrough")),I.childrenByName(n,"IconClickTracking").forEach((function(t){e.iconClickTrackingURLTemplates.push({id:t.getAttribute("id")||null,url:I.parseNodeText(t)})}))),e.iconViewTrackingURLTemplate=I.parseNodeText(I.childByName(t,"IconViewTracking")),e}(t))})),r}function R(t,e){var n=function(){var t=f(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:t.id,adId:t.adId,sequence:t.sequence,apiFramework:t.apiFramework,type:"nonlinear",variations:[],trackingEvents:{}}}(e);return I.childrenByName(t,"TrackingEvents").forEach((function(t){var e,r;I.childrenByName(t,"Tracking").forEach((function(t){e=t.getAttribute("event"),r=I.parseNodeText(t),e&&r&&(Array.isArray(n.trackingEvents[e])||(n.trackingEvents[e]=[]),n.trackingEvents[e].push(r))}))})),I.childrenByName(t,"NonLinear").forEach((function(t){var e={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};e.id=t.getAttribute("id")||null,e.width=t.getAttribute("width"),e.height=t.getAttribute("height"),e.expandedWidth=t.getAttribute("expandedWidth"),e.expandedHeight=t.getAttribute("expandedHeight"),e.scalable=I.parseBoolean(t.getAttribute("scalable")),e.maintainAspectRatio=I.parseBoolean(t.getAttribute("maintainAspectRatio")),e.minSuggestedDuration=I.parseDuration(t.getAttribute("minSuggestedDuration")),e.apiFramework=t.getAttribute("apiFramework"),I.childrenByName(t,"HTMLResource").forEach((function(t){e.type=t.getAttribute("creativeType")||"text/html",e.htmlResource=I.parseNodeText(t)})),I.childrenByName(t,"IFrameResource").forEach((function(t){e.type=t.getAttribute("creativeType")||0,e.iframeResource=I.parseNodeText(t)})),I.childrenByName(t,"StaticResource").forEach((function(t){e.type=t.getAttribute("creativeType")||0,e.staticResource=I.parseNodeText(t)}));var r=I.childByName(t,"AdParameters");r&&(e.adParameters=I.parseNodeText(r)),e.nonlinearClickThroughURLTemplate=I.parseNodeText(I.childByName(t,"NonLinearClickThrough")),I.childrenByName(t,"NonLinearClickTracking").forEach((function(t){e.nonlinearClickTrackingURLTemplates.push({id:t.getAttribute("id")||null,url:I.parseNodeText(t)})})),n.variations.push(e)})),n}function L(t){var e=[];return t.forEach((function(t){var n=k(t);n&&e.push(n)})),e}function k(t){if("#comment"===t.nodeName)return null;var e,n={name:null,value:null,attributes:{},children:[]},r=t.attributes,i=t.childNodes;if(n.name=t.nodeName,t.attributes)for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];a.nodeName&&a.nodeValue&&(n.attributes[a.nodeName]=a.nodeValue)}for(var s in i)if(i.hasOwnProperty(s)){var c=k(i[s]);c&&n.children.push(c)}if(0===n.children.length||1===n.children.length&&["#cdata-section","#text"].indexOf(n.children[0].name)>=0){var l=I.parseNodeText(t);""!==l&&(n.value=l),n.children=[]}return null===(e=n).value&&0===Object.keys(e.attributes).length&&0===e.children.length?null:n}function N(t){var e=[];return t.forEach((function(t){var n,r,i={id:t.getAttribute("id")||null,adId:D(t),sequence:t.getAttribute("sequence")||null,apiFramework:t.getAttribute("apiFramework")||null},o=I.childByName(t,"UniversalAdId");o&&(n={idRegistry:o.getAttribute("idRegistry")||"unknown",value:I.parseNodeText(o)});var a=I.childByName(t,"CreativeExtensions");for(var s in a&&(r=L(I.childrenByName(a,"CreativeExtension"))),t.childNodes){var c=t.childNodes[s],l=void 0;switch(c.nodeName){case"Linear":l=P(c,i);break;case"NonLinearAds":l=R(c,i);break;case"CompanionAds":l=O(c,i)}l&&(n&&(l.universalAdId=n),r&&(l.creativeExtensions=r),e.push(l))}})),e}function D(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null}var M={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function j(t,e){if(M[t.nodeName]&&M[t.nodeName].attributes){var n=M[t.nodeName].attributes.filter((function(e){return!t.getAttribute(e)}));n.length>0&&F({name:t.nodeName,parentName:t.parentNode.nodeName,attributes:n},e)}}function V(t,e,n){var r=M[t.nodeName],i=!n&&"Wrapper"!==t.nodeName;if(r&&!i){if(r.subElements){var o=r.subElements.filter((function(e){return!I.childByName(t,e)}));o.length>0&&F({name:t.nodeName,parentName:t.parentNode.nodeName,subElements:o},e)}n&&r.oneOfinLineResources&&(r.oneOfinLineResources.some((function(e){return I.childByName(t,e)}))||F({name:t.nodeName,parentName:t.parentNode.nodeName,oneOfResources:r.oneOfinLineResources},e))}}function U(t){return t.children&&0!==t.children.length}function F(t,e){var n=t.name,r=t.parentName,i=t.attributes,o=t.subElements,a=t.oneOfResources,s="Element '".concat(n,"'");e("VAST-warning",{message:s+=i?" missing required attribute(s) '".concat(i.join(", "),"' "):o?" missing required sub element(s) '".concat(o.join(", "),"' "):a?" must provide one of the following '".concat(a.join(", "),"' "):" is empty",parentElement:r,specVersion:4.1})}var B={verifyRequiredValues:function t(e,n,r){if(e&&e.nodeName)if("InLine"===e.nodeName&&(r=!0),j(e,n),U(e)){V(e,n,r);for(var i=0;i<e.children.length;i++)t(e.children[i],n,r)}else 0===I.parseNodeText(e).length&&F({name:e.nodeName,parentName:e.parentNode.nodeName},n)},hasSubElements:U,emitMissingValueWarning:F,verifyRequiredAttributes:j,verifyRequiredSubElements:V};function W(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.allowMultipleAds,i=n.followAdditionalWrappers,o=t.childNodes;for(var a in o){var s=o[a];if(-1!==["Wrapper","InLine"].indexOf(s.nodeName)&&("Wrapper"!==s.nodeName||!1!==i)){if(I.copyNodeAttribute("id",t,s),I.copyNodeAttribute("sequence",t,s),I.copyNodeAttribute("adType",t,s),"Wrapper"===s.nodeName)return{ad:G(s,e),type:"WRAPPER"};if("InLine"===s.nodeName)return{ad:H(s,e,{allowMultipleAds:r}),type:"INLINE"}}}}function H(t,e){return!1===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allowMultipleAds&&t.getAttribute("sequence")?null:z(t,e)}function z(t,e){e&&B.verifyRequiredValues(t,e);var n=t.childNodes,r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:t.id||null,sequence:t.sequence||null,adType:t.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:{},system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(I.parseAttributes(t));for(var i in n){var o=n[i];switch(o.nodeName){case"Error":r.errorURLTemplates.push(I.parseNodeText(o));break;case"Impression":r.impressionURLTemplates.push({id:o.getAttribute("id")||null,url:I.parseNodeText(o)});break;case"Creatives":r.creatives=N(I.childrenByName(o,"Creative"));break;case"Extensions":var a=I.childrenByName(o,"Extension");r.extensions=L(a),r.adVerifications.length||(r.adVerifications=Y(a));break;case"AdVerifications":r.adVerifications=K(I.childrenByName(o,"Verification"));break;case"AdSystem":r.system={value:I.parseNodeText(o),version:o.getAttribute("version")||null};break;case"AdTitle":r.title=I.parseNodeText(o);break;case"AdServingId":r.adServingId=I.parseNodeText(o);break;case"Category":r.categories.push({authority:o.getAttribute("authority")||null,value:I.parseNodeText(o)});break;case"Expires":r.expires=parseInt(I.parseNodeText(o),10);break;case"ViewableImpression":r.viewableImpression=q(o);break;case"Description":r.description=I.parseNodeText(o);break;case"Advertiser":r.advertiser={id:o.getAttribute("id")||null,value:I.parseNodeText(o)};break;case"Pricing":r.pricing={value:I.parseNodeText(o),model:o.getAttribute("model")||null,currency:o.getAttribute("currency")||null};break;case"Survey":r.survey=I.parseNodeText(o);break;case"BlockedAdCategories":r.blockedAdCategories.push({authority:o.getAttribute("authority")||null,value:I.parseNodeText(o)})}}return r}function G(t,e){var n=z(t,e),r=t.getAttribute("followAdditionalWrappers"),i=t.getAttribute("allowMultipleAds"),o=t.getAttribute("fallbackOnNoAd");n.followAdditionalWrappers=!r||I.parseBoolean(r),n.allowMultipleAds=!!i&&I.parseBoolean(i),n.fallbackOnNoAd=o?I.parseBoolean(o):null;var a=I.childByName(t,"VASTAdTagURI");if(a?n.nextWrapperURL=I.parseNodeText(a):(a=I.childByName(t,"VASTAdTagURL"))&&(n.nextWrapperURL=I.parseNodeText(I.childByName(a,"URL"))),n.creatives.forEach((function(t){if(-1!==["linear","nonlinear"].indexOf(t.type)){if(t.trackingEvents){n.trackingEvents||(n.trackingEvents={}),n.trackingEvents[t.type]||(n.trackingEvents[t.type]={});var e=function(e){var r=t.trackingEvents[e];Array.isArray(n.trackingEvents[t.type][e])||(n.trackingEvents[t.type][e]=[]),r.forEach((function(r){n.trackingEvents[t.type][e].push(r)}))};for(var r in t.trackingEvents)e(r)}t.videoClickTrackingURLTemplates&&(Array.isArray(n.videoClickTrackingURLTemplates)||(n.videoClickTrackingURLTemplates=[]),t.videoClickTrackingURLTemplates.forEach((function(t){n.videoClickTrackingURLTemplates.push(t)}))),t.videoClickThroughURLTemplate&&(n.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate),t.videoCustomClickURLTemplates&&(Array.isArray(n.videoCustomClickURLTemplates)||(n.videoCustomClickURLTemplates=[]),t.videoCustomClickURLTemplates.forEach((function(t){n.videoCustomClickURLTemplates.push(t)})))}})),n.nextWrapperURL)return n}function K(t){var e=[];return t.forEach((function(t){var n={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},r=t.childNodes;for(var i in I.assignAttributes(t.attributes,n),r){var o=r[i];switch(o.nodeName){case"JavaScriptResource":case"ExecutableResource":n.resource=I.parseNodeText(o),I.assignAttributes(o.attributes,n);break;case"VerificationParameters":n.parameters=I.parseNodeText(o)}}var a=I.childByName(t,"TrackingEvents");a&&I.childrenByName(a,"Tracking").forEach((function(t){var e=t.getAttribute("event"),r=I.parseNodeText(t);e&&r&&(Array.isArray(n.trackingEvents[e])||(n.trackingEvents[e]=[]),n.trackingEvents[e].push(r))})),e.push(n)})),e}function Y(t){var e=null,n=[];return t.some((function(t){return e=I.childByName(t,"AdVerifications")})),e&&(n=K(I.childrenByName(e,"Verification"))),n}function q(t){var e={};e.id=t.getAttribute("id")||null;var n=t.childNodes;for(var r in n){var i=n[r],o=i.nodeName,a=I.parseNodeText(i);if(("Viewable"===o||"NotViewable"===o||"ViewUndetermined"===o)&&a){var s=o.toLowerCase();Array.isArray(e[s])||(e[s]=[]),e[s].push(a)}}return e}var $=function(){function t(){n(this,t),this._handlers=[]}return o(t,[{key:"on",value:function(t,n){if("function"!=typeof n)throw new TypeError("The handler argument must be of type Function. Received type ".concat(e(n)));if(!t)throw new TypeError("The event argument must be of type String. Received type ".concat(e(t)));return this._handlers.push({event:t,handler:n}),this}},{key:"once",value:function(t,e){return this.on(t,function(t,e,n){var r={fired:!1,wrapFn:void 0};function i(){r.fired||(t.off(e,r.wrapFn),r.fired=!0,n.bind(t).apply(void 0,arguments))}return r.wrapFn=i,i}(this,t,e))}},{key:"off",value:function(t,e){return this._handlers=this._handlers.filter((function(n){return n.event!==t||n.handler!==e})),this}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=!1;return this._handlers.forEach((function(e){"*"===e.event&&(i=!0,e.handler.apply(e,[t].concat(n))),e.event===t&&(i=!0,e.handler.apply(e,n))})),i}},{key:"removeAllListeners",value:function(t){return t?(this._handlers=this._handlers.filter((function(e){return e.event!==t})),this):(this._handlers=[],this)}},{key:"listenerCount",value:function(t){return this._handlers.filter((function(e){return e.event===t})).length}},{key:"listeners",value:function(t){return this._handlers.reduce((function(e,n){return n.event===t&&e.push(n.handler),e}),[])}},{key:"eventNames",value:function(){return this._handlers.map((function(t){return t.event}))}}]),t}(),X={get:function(t,e,n){n(new Error("Please bundle the library for node to use the node urlHandler"))}},J=12e4;function Q(){try{var t=new window.XMLHttpRequest;return"withCredentials"in t?t:null}catch(t){return null}}function Z(t,e,n){var r=n?408:t.status,i=n?"XHRURLHandler: Request timed out after ".concat(t.timeout," ms (").concat(r,")"):"XHRURLHandler: ".concat(t.statusText," (").concat(r,")");e(new Error(i),null,{statusCode:r})}var tt={get:function(t,e,n){if("https:"===window.location.protocol&&0===t.indexOf("http://"))return n(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{var r=Q();r.open("GET",t),r.timeout=e.timeout||J,r.withCredentials=e.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onload=function(){return function(t,e){200===t.status?e(null,t.responseXML,{byteLength:t.response.length,statusCode:t.status}):Z(t,e,!1)}(r,n)},r.onerror=function(){return Z(r,n,!1)},r.onabort=function(){return Z(r,n,!1)},r.ontimeout=function(){return Z(r,n,!0)},r.send()}catch(t){n(new Error("XHRURLHandler: Unexpected error"))}},supported:function(){return!!Q()}},et={get:function(t,e,n){return n||("function"==typeof e&&(n=e),e={}),"undefined"==typeof window||null===window?X.get(t,e,n):tt.supported()?tt.get(t,e,n):n(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))}},nt={ERRORCODE:900,extensions:[]},rt=function(t){l(i,t);var e=h(i);function i(){var t;return n(this,i),(t=e.call(this)).remainingAds=[],t.parentURLs=[],t.errorURLTemplates=[],t.rootErrorURLTemplates=[],t.maxWrapperDepth=null,t.URLTemplateFilters=[],t.fetchingOptions={},t.parsingOptions={},t}return o(i,[{key:"addURLTemplateFilter",value:function(t){"function"==typeof t&&this.URLTemplateFilters.push(t)}},{key:"removeURLTemplateFilter",value:function(){this.URLTemplateFilters.pop()}},{key:"countURLTemplateFilters",value:function(){return this.URLTemplateFilters.length}},{key:"clearURLTemplateFilters",value:function(){this.URLTemplateFilters=[]}},{key:"trackVastError",value:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.emit("VAST-error",Object.assign.apply(Object,[{},nt,e].concat(r))),C.track(t,e)}},{key:"getErrorURLTemplates",value:function(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}},{key:"fetchVAST",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new r((function(r,o){e.URLTemplateFilters.forEach((function(e){t=e(t)})),e.parentURLs.push(t);var a=Date.now();e.emit("VAST-resolving",{url:t,previousUrl:i,wrapperDepth:n,maxWrapperDepth:e.maxWrapperDepth,timeout:e.fetchingOptions.timeout}),e.urlHandler.get(t,e.fetchingOptions,(function(s,c){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=Math.round(Date.now()-a),p=Object.assign({url:t,previousUrl:i,wrapperDepth:n,error:s,duration:u},l);e.emit("VAST-resolved",p),s?o(s):r(c)}))}))}},{key:"initParsingStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.errorURLTemplates=[],this.fetchingOptions={timeout:t.timeout||J,withCredentials:t.withCredentials},this.maxWrapperDepth=t.wrapperLimit||10,this.parentURLs=[],this.parsingOptions={allowMultipleAds:t.allowMultipleAds},this.remainingAds=[],this.rootErrorURLTemplates=[],this.rootURL="",this.urlHandler=t.urlHandler||t.urlhandler||et,this.vastVersion=null}},{key:"getRemainingAds",value:function(t){var e=this;if(0===this.remainingAds.length)return r.reject(new Error("No more ads are available for the given VAST"));var n=t?C.flatten(this.remainingAds):this.remainingAds.shift();return this.errorURLTemplates=[],this.parentURLs=[],this.resolveAds(n,{wrapperDepth:0,url:this.rootURL}).then((function(t){return e.buildVASTResponse(t)}))}},{key:"getAndParseVAST",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(n),this.URLTemplateFilters.forEach((function(e){t=e(t)})),this.rootURL=t,this.fetchVAST(t).then((function(r){return n.previousUrl=t,n.isRootVAST=!0,n.url=t,e.parse(r,n).then((function(t){return e.buildVASTResponse(t)}))}))}},{key:"parseVAST",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(n),n.isRootVAST=!0,this.parse(t,n).then((function(t){return e.buildVASTResponse(t)}))}},{key:"buildVASTResponse",value:function(t){var e,n={ads:(e={ads:t,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion}).ads||[],errorURLTemplates:e.errorURLTemplates||[],version:e.version||null};return this.completeWrapperResolving(n),n}},{key:"parseVastXml",value:function(t,e){var n=e.isRootVAST,r=void 0!==n&&n,i=e.url,o=void 0===i?null:i,a=e.wrapperDepth,s=void 0===a?0:a,c=e.allowMultipleAds,l=e.followAdditionalWrappers;if(!t||!t.documentElement||"VAST"!==t.documentElement.nodeName)throw this.emit("VAST-ad-parsed",{type:"ERROR",url:o,wrapperDepth:s}),new Error("Invalid VAST XMLDocument");var u=[],p=t.documentElement.childNodes,d=t.documentElement.getAttribute("version");for(var h in r&&d&&(this.vastVersion=d),p){var f=p[h];if("Error"===f.nodeName){var g=I.parseNodeText(f);r?this.rootErrorURLTemplates.push(g):this.errorURLTemplates.push(g)}else if("Ad"===f.nodeName){if(this.vastVersion&&parseFloat(this.vastVersion)<3)c=!0;else if(!1===c&&u.length>1)break;var m=W(f,this.emit.bind(this),{allowMultipleAds:c,followAdditionalWrappers:l});m.ad?(u.push(m.ad),this.emit("VAST-ad-parsed",{type:m.type,url:o,wrapperDepth:s,adIndex:u.length-1,vastVersion:d})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return u}},{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.url,i=void 0===n?null:n,o=e.resolveAll,a=void 0===o||o,s=e.wrapperSequence,c=void 0===s?null:s,l=e.previousUrl,u=void 0===l?null:l,p=e.wrapperDepth,d=void 0===p?0:p,h=e.isRootVAST,f=void 0!==h&&h,g=e.followAdditionalWrappers,m=e.allowMultipleAds,y=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&f&&(m=!0);try{y=this.parseVastXml(t,{isRootVAST:f,url:i,wrapperDepth:d,allowMultipleAds:m,followAdditionalWrappers:g})}catch(t){return r.reject(t)}return 1===y.length&&null!=c&&(y[0].sequence=c),!1===a&&(this.remainingAds=I.splitVAST(y),y=this.remainingAds.shift()),this.resolveAds(y,{wrapperDepth:d,previousUrl:u,url:i})}},{key:"resolveAds",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,i=n.wrapperDepth,o=n.previousUrl,a=n.url,s=[];return o=a,e.forEach((function(e){var n=t.resolveWrappers(e,i,o);s.push(n)})),r.all(s).then((function(e){var n=C.flatten(e);if(!n&&t.remainingAds.length>0){var r=t.remainingAds.shift();return t.resolveAds(r,{wrapperDepth:i,previousUrl:o,url:a})}return n}))}},{key:"resolveWrappers",value:function(t,e,n){var i=this;return new r((function(r){var o;if(e++,!t.nextWrapperURL)return delete t.nextWrapperURL,r(t);if(e>=i.maxWrapperDepth||-1!==i.parentURLs.indexOf(t.nextWrapperURL))return t.errorCode=302,delete t.nextWrapperURL,r(t);t.nextWrapperURL=I.resolveVastAdTagURI(t.nextWrapperURL,n),i.URLTemplateFilters.forEach((function(e){t.nextWrapperURL=e(t.nextWrapperURL)}));var a=null!==(o=i.parsingOptions.allowMultipleAds)&&void 0!==o?o:t.allowMultipleAds,s=t.sequence;i.fetchVAST(t.nextWrapperURL,e,n).then((function(o){return i.parse(o,{url:t.nextWrapperURL,previousUrl:n,wrapperSequence:s,wrapperDepth:e,followAdditionalWrappers:t.followAdditionalWrappers,allowMultipleAds:a}).then((function(e){if(delete t.nextWrapperURL,0===e.length)return t.creatives=[],r(t);e.forEach((function(e){e&&I.mergeWrapperAdData(e,t)})),r(e)}))})).catch((function(e){t.errorCode=301,t.errorMessage=e.message,r(t)}))}))}},{key:"completeWrapperResolving",value:function(t){if(0===t.ads.length)this.trackVastError(t.errorURLTemplates,{ERRORCODE:303});else for(var e=t.ads.length-1;e>=0;e--){var n=t.ads[e];(n.errorCode||0===n.creatives.length)&&(this.trackVastError(n.errorURLTemplates.concat(t.errorURLTemplates),{ERRORCODE:n.errorCode||303},{ERRORMESSAGE:n.errorMessage||""},{extensions:n.extensions},{system:n.system}),t.ads.splice(e,1))}}}]),i}($),it=null,ot={data:{},length:0,getItem:function(t){return this.data[t]},setItem:function(t,e){this.data[t]=e,this.length=Object.keys(this.data).length},removeItem:function(t){delete this.data[t],this.length=Object.keys(this.data).length},clear:function(){this.data={},this.length=0}},at=function(){function t(){n(this,t),this.storage=this.initStorage()}return o(t,[{key:"initStorage",value:function(){if(it)return it;try{it="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(t){it=null}return it&&!this.isStorageDisabled(it)||(it=ot).clear(),it}},{key:"isStorageDisabled",value:function(t){var e="__VASTStorage__";try{if(t.setItem(e,e),t.getItem(e)!==e)return t.removeItem(e),!0}catch(t){return!0}return t.removeItem(e),!1}},{key:"getItem",value:function(t){return this.storage.getItem(t)}},{key:"setItem",value:function(t,e){return this.storage.setItem(t,e)}},{key:"removeItem",value:function(t){return this.storage.removeItem(t)}},{key:"clear",value:function(){return this.storage.clear()}}]),t}(),st=function(){function t(e,r,i){n(this,t),this.cappingFreeLunch=e||0,this.cappingMinimumTimeInterval=r||0,this.defaultOptions={withCredentials:!1,timeout:0},this.vastParser=new rt,this.storage=i||new at,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}return o(t,[{key:"getParser",value:function(){return this.vastParser}},{key:"hasRemainingAds",value:function(){return this.vastParser.remainingAds.length>0}},{key:"getNextAds",value:function(t){return this.vastParser.getRemainingAds(t)}},{key:"get",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Date.now();return(n=Object.assign({},this.defaultOptions,n)).hasOwnProperty("resolveAll")||(n.resolveAll=!1),this.totalCallsTimeout<i?(this.totalCalls=1,this.totalCallsTimeout=i+36e5):this.totalCalls++,new r((function(r,o){if(e.cappingFreeLunch>=e.totalCalls)return o(new Error("VAST call canceled – FreeLunch capping not reached yet ".concat(e.totalCalls,"/").concat(e.cappingFreeLunch)));var a=i-e.lastSuccessfulAd;if(a<0)e.lastSuccessfulAd=0;else if(a<e.cappingMinimumTimeInterval)return o(new Error("VAST call canceled – (".concat(e.cappingMinimumTimeInterval,")ms minimum interval reached")));e.vastParser.getAndParseVAST(t,n).then((function(t){return r(t)})).catch((function(t){return o(t)}))}))}},{key:"lastSuccessfulAd",get:function(){return this.storage.getItem("vast-client-last-successful-ad")},set:function(t){this.storage.setItem("vast-client-last-successful-ad",t)}},{key:"totalCalls",get:function(){return this.storage.getItem("vast-client-total-calls")},set:function(t){this.storage.setItem("vast-client-total-calls",t)}},{key:"totalCallsTimeout",get:function(){return this.storage.getItem("vast-client-total-calls-timeout")},set:function(t){this.storage.setItem("vast-client-total-calls-timeout",t)}}]),t}(),ct=function(t){l(r,t);var e=h(r);function r(t,i,o){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var c in n(this,r),(a=e.call(this)).ad=i,a.creative=o,a.variation=s,a.muted=!1,a.impressed=!1,a.skippable=!1,a.trackingEvents={},a.lastPercentage=0,a._alreadyTriggeredQuartiles={},a.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],a.creative.trackingEvents){var l=a.creative.trackingEvents[c];a.trackingEvents[c]=l.slice(0)}return x(a.creative)?a._initLinearTracking():a._initVariationTracking(),t&&a.on("start",(function(){t.lastSuccessfulAd=Date.now()})),a}return o(r,[{key:"_initLinearTracking",value:function(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}},{key:"_initVariationTracking",value:function(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(var t in this.variation.trackingEvents){var e=this.variation.trackingEvents[t];this.trackingEvents[t]?this.trackingEvents[t]=this.trackingEvents[t].concat(e.slice(0)):this.trackingEvents[t]=e.slice(0)}"nonLinearAd"===this.variation.adType?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(t){return"companionAd"===t.adType}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}},{key:"setDuration",value:function(t){this.assetDuration=t,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}}},{key:"setProgress",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.skipDelay||-1;if(-1===r||this.skippable||(r>t?this.emit("skip-countdown",r-t):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){var i=Math.round(t/this.assetDuration*100),o=[];if(t>0){o.push("start");for(var a=this.lastPercentage;a<i;a++)o.push("progress-".concat(a+1,"%"));for(var s in o.push("progress-".concat(Math.round(t))),this.quartiles)this.isQuartileReached(s,this.quartiles[s],t)&&(o.push(s),this._alreadyTriggeredQuartiles[s]=!0);this.lastPercentage=i}o.forEach((function(t){e.track(t,{macros:n,once:!0})})),t<this.progress&&this.track("rewind",{macros:n})}this.progress=t}},{key:"isQuartileReached",value:function(t,e,n){var r=!1;return e<=n&&!this._alreadyTriggeredQuartiles[t]&&(r=!0),r}},{key:"setMuted",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.muted!==t&&this.track(t?"mute":"unmute",{macros:e}),this.muted=t}},{key:"setPaused",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.paused!==t&&this.track(t?"pause":"resume",{macros:e}),this.paused=t}},{key:"setFullscreen",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fullscreen!==t&&this.track(t?"fullscreen":"exitFullscreen",{macros:e}),this.fullscreen=t}},{key:"setExpand",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.expanded!==t&&(this.track(t?"expand":"collapse",{macros:e}),this.track(t?"playerExpand":"playerCollapse",{macros:e})),this.expanded=t}},{key:"setSkipDelay",value:function(t){"number"==typeof t&&(this.skipDelay=t)}},{key:"trackImpression",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,t),this.track("creativeView",{macros:t}))}},{key:"error",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.trackURLs(this.ad.errorURLTemplates,t,{isCustomCode:e})}},{key:"errorWithCode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.error({ERRORCODE:t},e),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")}},{key:"complete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("complete",{macros:t})}},{key:"notUsed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("notUsed",{macros:t}),this.trackingEvents=[]}},{key:"otherAdInteraction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("otherAdInteraction",{macros:t})}},{key:"acceptInvitation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("acceptInvitation",{macros:t})}},{key:"adExpand",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("adExpand",{macros:t})}},{key:"adCollapse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("adCollapse",{macros:t})}},{key:"minimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("minimize",{macros:t})}},{key:"verificationNotExecuted",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!t)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");var n=this.ad.adVerifications.find((function(e){return e.vendor===t}));if(!n)throw new Error("No associated verification element found for vendor: ".concat(t));var r=n.trackingEvents;if(r&&r.verificationNotExecuted){var i=r.verificationNotExecuted;this.trackURLs(i,e),this.emit("verificationNotExecuted",{trackingURLTemplates:i})}}},{key:"overlayViewDuration",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.ADPLAYHEAD=t,this.track("overlayViewDuration",{macros:e})}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track(this.linear?"closeLinear":"close",{macros:t})}},{key:"skip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("skip",{macros:t})}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("loaded",{macros:t})}},{key:"click",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,e);var n=this.clickThroughURLTemplate||t,r=c({},e);if(n){this.progress&&(r.ADPLAYHEAD=this.progressFormatted());var i=C.resolveURLTemplates([n],r)[0];this.emit("clickthrough",i)}}},{key:"track",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.macros,r=void 0===n?{}:n,i=e.once,o=void 0!==i&&i;"closeLinear"===t&&!this.trackingEvents[t]&&this.trackingEvents.close&&(t="close");var a=this.trackingEvents[t],s=this.emitAlwaysEvents.indexOf(t)>-1;a?(this.emit(t,{trackingURLTemplates:a}),this.trackURLs(a,r)):s&&this.emit(t,null),o&&(delete this.trackingEvents[t],s&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(t),1))}},{key:"trackURLs",value:function(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=c({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(n.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(n.ADPLAYHEAD=this.progressFormatted())),this.creative&&this.creative.universalAdId&&this.creative.universalAdId.idRegistry&&this.creative.universalAdId.value&&(n.UNIVERSALADID="".concat(this.creative.universalAdId.idRegistry," ").concat(this.creative.universalAdId.value)),this.ad&&(this.ad.sequence&&(n.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(n.ADTYPE=this.ad.adType),this.ad.adServingId&&(n.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(n.ADCATEGORIES=this.ad.categories.map((function(t){return t.value})).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(n.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories)),C.track(t,n,e)}},{key:"convertToTimecode",value:function(t){var e=1e3*t,n=Math.floor(e/36e5),r=Math.floor(e/6e4%60),i=Math.floor(e/1e3%60),o=Math.floor(e%1e3);return"".concat(C.leftpad(n,2),":").concat(C.leftpad(r,2),":").concat(C.leftpad(i,2),".").concat(C.leftpad(o,3))}},{key:"progressFormatted",value:function(){return this.convertToTimecode(this.progress)}}]),r}($);t.VASTClient=st,t.VASTParser=rt,t.VASTTracker=ct,Object.defineProperty(t,"__esModule",{value:!0})}(e)},405:(t,e,n)=>{"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,{ValidationError:()=>Ir,addMethod:()=>ea,array:()=>Yo,bool:()=>Mi,boolean:()=>Qo,date:()=>qi,isSchema:()=>Sr,lazy:()=>ta,mixed:()=>Ai,number:()=>Gi,object:()=>Ko,reach:()=>Ti,ref:()=>Zo,setLocale:()=>Jo,string:()=>zi});var o=Object.prototype.hasOwnProperty;const a=function(t,e){return null!=t&&o.call(t,e)};const s=Array.isArray;const c="object"==typeof global&&global&&global.Object===Object&&global;var l="object"==typeof self&&self&&self.Object===Object&&self;const u=c||l||Function("return this")();const p=u.Symbol;var d=Object.prototype,h=d.hasOwnProperty,f=d.toString,g=p?p.toStringTag:void 0;const m=function(t){var e=h.call(t,g),n=t[g];try{t[g]=void 0;var r=!0}catch(t){}var i=f.call(t);return r&&(e?t[g]=n:delete t[g]),i};var y=Object.prototype.toString;const v=function(t){return y.call(t)};var E=p?p.toStringTag:void 0;const b=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":E&&E in Object(t)?m(t):v(t)};const T=function(t){return null!=t&&"object"==typeof t};const w=function(t){return"symbol"==typeof t||T(t)&&"[object Symbol]"==b(t)};var _=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/;const C=function(t,e){if(s(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!w(t))||(S.test(t)||!_.test(t)||null!=e&&t in Object(e))};const A=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const I=function(t){if(!A(t))return!1;var e=b(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const O=u["__core-js_shared__"];var x,P=(x=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"";const R=function(t){return!!P&&P in t};var L=Function.prototype.toString;const k=function(t){if(null!=t){try{return L.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var N=/^\[object .+?Constructor\]$/,D=Function.prototype,M=Object.prototype,j=D.toString,V=M.hasOwnProperty,U=RegExp("^"+j.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const F=function(t){return!(!A(t)||R(t))&&(I(t)?U:N).test(k(t))};const B=function(t,e){return null==t?void 0:t[e]};const W=function(t,e){var n=B(t,e);return F(n)?n:void 0};const H=W(Object,"create");const z=function(){this.__data__=H?H(null):{},this.size=0};const G=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var K=Object.prototype.hasOwnProperty;const Y=function(t){var e=this.__data__;if(H){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return K.call(e,t)?e[t]:void 0};var q=Object.prototype.hasOwnProperty;const $=function(t){var e=this.__data__;return H?void 0!==e[t]:q.call(e,t)};const X=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=H&&void 0===e?"__lodash_hash_undefined__":e,this};function J(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}J.prototype.clear=z,J.prototype.delete=G,J.prototype.get=Y,J.prototype.has=$,J.prototype.set=X;const Q=J;const Z=function(){this.__data__=[],this.size=0};const tt=function(t,e){return t===e||t!=t&&e!=e};const et=function(t,e){for(var n=t.length;n--;)if(tt(t[n][0],e))return n;return-1};var nt=Array.prototype.splice;const rt=function(t){var e=this.__data__,n=et(e,t);return!(n<0)&&(n==e.length-1?e.pop():nt.call(e,n,1),--this.size,!0)};const it=function(t){var e=this.__data__,n=et(e,t);return n<0?void 0:e[n][1]};const ot=function(t){return et(this.__data__,t)>-1};const at=function(t,e){var n=this.__data__,r=et(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function st(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}st.prototype.clear=Z,st.prototype.delete=rt,st.prototype.get=it,st.prototype.has=ot,st.prototype.set=at;const ct=st;const lt=W(u,"Map");const ut=function(){this.size=0,this.__data__={hash:new Q,map:new(lt||ct),string:new Q}};const pt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const dt=function(t,e){var n=t.__data__;return pt(e)?n["string"==typeof e?"string":"hash"]:n.map};const ht=function(t){var e=dt(this,t).delete(t);return this.size-=e?1:0,e};const ft=function(t){return dt(this,t).get(t)};const gt=function(t){return dt(this,t).has(t)};const mt=function(t,e){var n=dt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function yt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yt.prototype.clear=ut,yt.prototype.delete=ht,yt.prototype.get=ft,yt.prototype.has=gt,yt.prototype.set=mt;const vt=yt;function Et(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Et.Cache||vt),n}Et.Cache=vt;const bt=Et;var Tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wt=/\\(\\)?/g;const _t=function(t){var e=bt(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Tt,(function(t,n,r,i){e.push(r?i.replace(wt,"$1"):n||t)})),e}));const St=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i};var Ct=p?p.prototype:void 0,At=Ct?Ct.toString:void 0;const It=function t(e){if("string"==typeof e)return e;if(s(e))return St(e,t)+"";if(w(e))return At?At.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};const Ot=function(t){return null==t?"":It(t)};const xt=function(t,e){return s(t)?t:C(t,e)?[t]:_t(Ot(t))};const Pt=function(t){return T(t)&&"[object Arguments]"==b(t)};var Rt=Object.prototype,Lt=Rt.hasOwnProperty,kt=Rt.propertyIsEnumerable;const Nt=Pt(function(){return arguments}())?Pt:function(t){return T(t)&&Lt.call(t,"callee")&&!kt.call(t,"callee")};var Dt=/^(?:0|[1-9]\d*)$/;const Mt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Dt.test(t))&&t>-1&&t%1==0&&t<e};const jt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};const Vt=function(t){if("string"==typeof t||w(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};const Ut=function(t,e,n){for(var r=-1,i=(e=xt(e,t)).length,o=!1;++r<i;){var a=Vt(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&jt(i)&&Mt(a,i)&&(s(t)||Nt(t))};const Ft=function(t,e){return null!=t&&Ut(t,e,a)};const Bt=function(){this.__data__=new ct,this.size=0};const Wt=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};const Ht=function(t){return this.__data__.get(t)};const zt=function(t){return this.__data__.has(t)};const Gt=function(t,e){var n=this.__data__;if(n instanceof ct){var r=n.__data__;if(!lt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new vt(r)}return n.set(t,e),this.size=n.size,this};function Kt(t){var e=this.__data__=new ct(t);this.size=e.size}Kt.prototype.clear=Bt,Kt.prototype.delete=Wt,Kt.prototype.get=Ht,Kt.prototype.has=zt,Kt.prototype.set=Gt;const Yt=Kt;const qt=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t};const $t=function(){try{var t=W(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const Xt=function(t,e,n){"__proto__"==e&&$t?$t(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var Jt=Object.prototype.hasOwnProperty;const Qt=function(t,e,n){var r=t[e];Jt.call(t,e)&&tt(r,n)&&(void 0!==n||e in t)||Xt(t,e,n)};const Zt=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],c=r?r(n[s],t[s],s,n,t):void 0;void 0===c&&(c=t[s]),i?Xt(n,s,c):Qt(n,s,c)}return n};const te=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};const ee=function(){return!1};var ne="object"==typeof exports&&exports&&!exports.nodeType&&exports,re=ne&&"object"==typeof module&&module&&!module.nodeType&&module,ie=re&&re.exports===ne?u.Buffer:void 0;const oe=(ie?ie.isBuffer:void 0)||ee;var ae={};ae["[object Float32Array]"]=ae["[object Float64Array]"]=ae["[object Int8Array]"]=ae["[object Int16Array]"]=ae["[object Int32Array]"]=ae["[object Uint8Array]"]=ae["[object Uint8ClampedArray]"]=ae["[object Uint16Array]"]=ae["[object Uint32Array]"]=!0,ae["[object Arguments]"]=ae["[object Array]"]=ae["[object ArrayBuffer]"]=ae["[object Boolean]"]=ae["[object DataView]"]=ae["[object Date]"]=ae["[object Error]"]=ae["[object Function]"]=ae["[object Map]"]=ae["[object Number]"]=ae["[object Object]"]=ae["[object RegExp]"]=ae["[object Set]"]=ae["[object String]"]=ae["[object WeakMap]"]=!1;const se=function(t){return T(t)&&jt(t.length)&&!!ae[b(t)]};const ce=function(t){return function(e){return t(e)}};var le="object"==typeof exports&&exports&&!exports.nodeType&&exports,ue=le&&"object"==typeof module&&module&&!module.nodeType&&module,pe=ue&&ue.exports===le&&c.process;const de=function(){try{var t=ue&&ue.require&&ue.require("util").types;return t||pe&&pe.binding&&pe.binding("util")}catch(t){}}();var he=de&&de.isTypedArray;const fe=he?ce(he):se;var ge=Object.prototype.hasOwnProperty;const me=function(t,e){var n=s(t),r=!n&&Nt(t),i=!n&&!r&&oe(t),o=!n&&!r&&!i&&fe(t),a=n||r||i||o,c=a?te(t.length,String):[],l=c.length;for(var u in t)!e&&!ge.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Mt(u,l))||c.push(u);return c};var ye=Object.prototype;const ve=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ye)};const Ee=function(t,e){return function(n){return t(e(n))}};const be=Ee(Object.keys,Object);var Te=Object.prototype.hasOwnProperty;const we=function(t){if(!ve(t))return be(t);var e=[];for(var n in Object(t))Te.call(t,n)&&"constructor"!=n&&e.push(n);return e};const _e=function(t){return null!=t&&jt(t.length)&&!I(t)};const Se=function(t){return _e(t)?me(t):we(t)};const Ce=function(t,e){return t&&Zt(e,Se(e),t)};const Ae=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e};var Ie=Object.prototype.hasOwnProperty;const Oe=function(t){if(!A(t))return Ae(t);var e=ve(t),n=[];for(var r in t)("constructor"!=r||!e&&Ie.call(t,r))&&n.push(r);return n};const xe=function(t){return _e(t)?me(t,!0):Oe(t)};const Pe=function(t,e){return t&&Zt(e,xe(e),t)};var Re="object"==typeof exports&&exports&&!exports.nodeType&&exports,Le=Re&&"object"==typeof module&&module&&!module.nodeType&&module,ke=Le&&Le.exports===Re?u.Buffer:void 0,Ne=ke?ke.allocUnsafe:void 0;const De=function(t,e){if(e)return t.slice();var n=t.length,r=Ne?Ne(n):new t.constructor(n);return t.copy(r),r};const Me=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};const je=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o};const Ve=function(){return[]};var Ue=Object.prototype.propertyIsEnumerable,Fe=Object.getOwnPropertySymbols;const Be=Fe?function(t){return null==t?[]:(t=Object(t),je(Fe(t),(function(e){return Ue.call(t,e)})))}:Ve;const We=function(t,e){return Zt(t,Be(t),e)};const He=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t};const ze=Ee(Object.getPrototypeOf,Object);const Ge=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)He(e,Be(t)),t=ze(t);return e}:Ve;const Ke=function(t,e){return Zt(t,Ge(t),e)};const Ye=function(t,e,n){var r=e(t);return s(t)?r:He(r,n(t))};const qe=function(t){return Ye(t,Se,Be)};const $e=function(t){return Ye(t,xe,Ge)};const Xe=W(u,"DataView");const Je=W(u,"Promise");const Qe=W(u,"Set");const Ze=W(u,"WeakMap");var tn="[object Map]",en="[object Promise]",nn="[object Set]",rn="[object WeakMap]",on="[object DataView]",an=k(Xe),sn=k(lt),cn=k(Je),ln=k(Qe),un=k(Ze),pn=b;(Xe&&pn(new Xe(new ArrayBuffer(1)))!=on||lt&&pn(new lt)!=tn||Je&&pn(Je.resolve())!=en||Qe&&pn(new Qe)!=nn||Ze&&pn(new Ze)!=rn)&&(pn=function(t){var e=b(t),n="[object Object]"==e?t.constructor:void 0,r=n?k(n):"";if(r)switch(r){case an:return on;case sn:return tn;case cn:return en;case ln:return nn;case un:return rn}return e});const dn=pn;var hn=Object.prototype.hasOwnProperty;const fn=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&hn.call(t,"index")&&(n.index=t.index,n.input=t.input),n};const gn=u.Uint8Array;const mn=function(t){var e=new t.constructor(t.byteLength);return new gn(e).set(new gn(t)),e};const yn=function(t,e){var n=e?mn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)};var vn=/\w*$/;const En=function(t){var e=new t.constructor(t.source,vn.exec(t));return e.lastIndex=t.lastIndex,e};var bn=p?p.prototype:void 0,Tn=bn?bn.valueOf:void 0;const wn=function(t){return Tn?Object(Tn.call(t)):{}};const _n=function(t,e){var n=e?mn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};const Sn=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return mn(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return yn(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _n(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return En(t);case"[object Set]":return new r;case"[object Symbol]":return wn(t)}};var Cn=Object.create;const An=function(){function t(){}return function(e){if(!A(e))return{};if(Cn)return Cn(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const In=function(t){return"function"!=typeof t.constructor||ve(t)?{}:An(ze(t))};const On=function(t){return T(t)&&"[object Map]"==dn(t)};var xn=de&&de.isMap;const Pn=xn?ce(xn):On;const Rn=function(t){return T(t)&&"[object Set]"==dn(t)};var Ln=de&&de.isSet;const kn=Ln?ce(Ln):Rn;var Nn="[object Arguments]",Dn="[object Function]",Mn="[object Object]",jn={};jn[Nn]=jn["[object Array]"]=jn["[object ArrayBuffer]"]=jn["[object DataView]"]=jn["[object Boolean]"]=jn["[object Date]"]=jn["[object Float32Array]"]=jn["[object Float64Array]"]=jn["[object Int8Array]"]=jn["[object Int16Array]"]=jn["[object Int32Array]"]=jn["[object Map]"]=jn["[object Number]"]=jn["[object Object]"]=jn["[object RegExp]"]=jn["[object Set]"]=jn["[object String]"]=jn["[object Symbol]"]=jn["[object Uint8Array]"]=jn["[object Uint8ClampedArray]"]=jn["[object Uint16Array]"]=jn["[object Uint32Array]"]=!0,jn["[object Error]"]=jn[Dn]=jn["[object WeakMap]"]=!1;const Vn=function t(e,n,r,i,o,a){var c,l=1&n,u=2&n,p=4&n;if(r&&(c=o?r(e,i,o,a):r(e)),void 0!==c)return c;if(!A(e))return e;var d=s(e);if(d){if(c=fn(e),!l)return Me(e,c)}else{var h=dn(e),f=h==Dn||"[object GeneratorFunction]"==h;if(oe(e))return De(e,l);if(h==Mn||h==Nn||f&&!o){if(c=u||f?{}:In(e),!l)return u?Ke(e,Pe(c,e)):We(e,Ce(c,e))}else{if(!jn[h])return o?e:{};c=Sn(e,h,l)}}a||(a=new Yt);var g=a.get(e);if(g)return g;a.set(e,c),kn(e)?e.forEach((function(i){c.add(t(i,n,r,i,e,a))})):Pn(e)&&e.forEach((function(i,o){c.set(o,t(i,n,r,o,e,a))}));var m=d?void 0:(p?u?$e:qe:u?xe:Se)(e);return qt(m||e,(function(i,o){m&&(i=e[o=i]),Qt(c,o,t(i,n,r,o,e,a))})),c};const Un=function(t,e){return Vn(t,5,e="function"==typeof e?e:void 0)};const Fn=function(t){return"string"==typeof t||!s(t)&&T(t)&&"[object String]"==b(t)};const Bn=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n};const Wn=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};const Hn=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};const zn=function(t){return t.split("")};var Gn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Kn=function(t){return Gn.test(t)};var Yn="[\\ud800-\\udfff]",qn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",$n="\\ud83c[\\udffb-\\udfff]",Xn="[^\\ud800-\\udfff]",Jn="(?:\\ud83c[\\udde6-\\uddff]){2}",Qn="[\\ud800-\\udbff][\\udc00-\\udfff]",Zn="(?:"+qn+"|"+$n+")"+"?",tr="[\\ufe0e\\ufe0f]?",er=tr+Zn+("(?:\\u200d(?:"+[Xn,Jn,Qn].join("|")+")"+tr+Zn+")*"),nr="(?:"+[Xn+qn+"?",qn,Jn,Qn,Yn].join("|")+")",rr=RegExp($n+"(?="+$n+")|"+nr+er,"g");const ir=function(t){return t.match(rr)||[]};const or=function(t){return Kn(t)?ir(t):zn(t)};const ar=function(t,e){return St(e,(function(e){return t[e]}))};const sr=function(t){return null==t?[]:ar(t,Se(t))};var cr=p?p.iterator:void 0;const lr=function(t){if(!t)return[];if(_e(t))return Fn(t)?or(t):Me(t);if(cr&&t[cr])return Bn(t[cr]());var e=dn(t);return("[object Map]"==e?Wn:"[object Set]"==e?Hn:sr)(t)};var ur=Object.prototype.toString,pr=Error.prototype.toString,dr=RegExp.prototype.toString,hr="undefined"!=typeof Symbol?Symbol.prototype.toString:function(){return""},fr=/^Symbol\((.*)\)(.*)$/;function gr(t,e){if(void 0===e&&(e=!1),null==t||!0===t||!1===t)return""+t;var n=typeof t;if("number"===n)return function(t){return t!=+t?"NaN":0===t&&1/t<0?"-0":""+t}(t);if("string"===n)return e?'"'+t+'"':t;if("function"===n)return"[Function "+(t.name||"anonymous")+"]";if("symbol"===n)return hr.call(t).replace(fr,"Symbol($1)");var r=ur.call(t).slice(8,-1);return"Date"===r?isNaN(t.getTime())?""+t:t.toISOString(t):"Error"===r||t instanceof Error?"["+pr.call(t)+"]":"RegExp"===r?dr.call(t):null}function mr(t,e){var n=gr(t,e);return null!==n?n:JSON.stringify(t,(function(t,n){var r=gr(this[t],e);return null!==r?r:n}),2)}var yr={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(t){var e=t.path,n=t.type,r=t.value,i=t.originalValue,o=null!=i&&i!==r,a=e+" must be a `"+n+"` type, but the final value was: `"+mr(r,!0)+"`"+(o?" (cast from the value `"+mr(i,!0)+"`).":".");return null===r&&(a+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),a},defined:"${path} must be defined"},vr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Er={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",notEqual:"${path} must be not equal to ${notEqual}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},br={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Tr={noUnknown:"${path} field has unspecified keys: ${unknown}"},wr={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items"};const _r=r(Object.create(null),{mixed:yr,string:vr,number:Er,date:br,object:Tr,array:wr,boolean:{}}),Sr=function(t){return t&&t.__isYupSchema__};const Cr=function(){function t(t,e){if(this.refs=t,"function"!=typeof e){if(!Ft(e,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!e.then&&!e.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var n=e.is,r=e.then,i=e.otherwise,o="function"==typeof n?n:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.every((function(t){return t===n}))};this.fn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e.pop(),s=e.pop(),c=o.apply(void 0,e)?r:i;if(c)return"function"==typeof c?c(s):s.concat(c.resolve(a))}}else this.fn=e}return t.prototype.resolve=function(t,e){var n=this.refs.map((function(t){return t.getValue(null==e?void 0:e.value,null==e?void 0:e.parent,null==e?void 0:e.context)})),r=this.fn.apply(t,n.concat(t,e));if(void 0===r||r===t)return t;if(!Sr(r))throw new TypeError("conditions must return a schema object");return r.resolve(e)},t}();var Ar=/\$\{\s*(\w+)\s*\}/g;function Ir(t,e,n,r){var i=this;this.name="ValidationError",this.value=e,this.path=n,this.type=r,this.errors=[],this.inner=[],t&&[].concat(t).forEach((function(t){i.errors=i.errors.concat(t.errors||t),t.inner&&(i.inner=i.inner.concat(t.inner.length?t.inner:t))})),this.message=this.errors.length>1?this.errors.length+" errors occurred":this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,Ir)}Ir.prototype=Object.create(Error.prototype),Ir.prototype.constructor=Ir,Ir.isError=function(t){return t&&"ValidationError"===t.name},Ir.formatError=function(t,e){var n=e.label||e.path||"this";return n!==e.path&&(e=r({},e,{path:n})),"string"==typeof t?t.replace(Ar,(function(t,n){return mr(e[n])})):"function"==typeof t?t(e):t};var Or=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}};function xr(t,e){var n=t.endEarly,r=t.tests,i=t.args,o=t.value,a=t.errors,s=t.sort,c=t.path,l=Or(e),u=r.length;if(!u)return l(null,o);var p=[];a=a||[];for(var d=0;d<r.length;d++){(0,r[d])(i,(function(t){if(t){if(!Ir.isError(t))return l(t);if(n)return t.value=o,l(t);p.push(t)}if(--u<=0){if(p.length&&(s&&p.sort(s),a.length&&p.push.apply(p,a),a=p),a.length)return void l(new Ir(a,o,c));l(null,o)}}))}}var Pr=function(t){return"[object Object]"===Object.prototype.toString.call(t)};function Rr(t,e){for(var n in e)if(Ft(e,n)){var r=e[n],i=t[n];if(void 0===i)t[n]=r;else{if(i===r)continue;Sr(i)?Sr(r)&&(t[n]=r.concat(i)):Pr(i)?Pr(r)&&(t[n]=Rr(i,r)):Array.isArray(i)&&Array.isArray(r)&&(t[n]=r.concat(i))}}return t}const Lr=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++i];if(!1===n(o[c],c,o))break}return e}}();const kr=function(t,e){return t&&Lr(t,e,Se)};const Nr=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const Dr=function(t){return this.__data__.has(t)};function Mr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new vt;++e<n;)this.add(t[e])}Mr.prototype.add=Mr.prototype.push=Nr,Mr.prototype.has=Dr;const jr=Mr;const Vr=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};const Ur=function(t,e){return t.has(e)};const Fr=function(t,e,n,r,i,o){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var l=o.get(t),u=o.get(e);if(l&&u)return l==e&&u==t;var p=-1,d=!0,h=2&n?new jr:void 0;for(o.set(t,e),o.set(e,t);++p<s;){var f=t[p],g=e[p];if(r)var m=a?r(g,f,p,e,t,o):r(f,g,p,t,e,o);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!Vr(e,(function(t,e){if(!Ur(h,e)&&(f===t||i(f,t,n,r,o)))return h.push(e)}))){d=!1;break}}else if(f!==g&&!i(f,g,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d};var Br=p?p.prototype:void 0,Wr=Br?Br.valueOf:void 0;const Hr=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new gn(t),new gn(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return tt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Wn;case"[object Set]":var c=1&r;if(s||(s=Hn),t.size!=e.size&&!c)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var u=Fr(s(t),s(e),r,i,o,a);return a.delete(t),u;case"[object Symbol]":if(Wr)return Wr.call(t)==Wr.call(e)}return!1};var zr=Object.prototype.hasOwnProperty;const Gr=function(t,e,n,r,i,o){var a=1&n,s=qe(t),c=s.length;if(c!=qe(e).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in e:zr.call(e,u)))return!1}var p=o.get(t),d=o.get(e);if(p&&d)return p==e&&d==t;var h=!0;o.set(t,e),o.set(e,t);for(var f=a;++l<c;){var g=t[u=s[l]],m=e[u];if(r)var y=a?r(m,g,u,e,t,o):r(g,m,u,t,e,o);if(!(void 0===y?g===m||i(g,m,n,r,o):y)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var v=t.constructor,E=e.constructor;v==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof E&&E instanceof E||(h=!1)}return o.delete(t),o.delete(e),h};var Kr="[object Arguments]",Yr="[object Array]",qr="[object Object]",$r=Object.prototype.hasOwnProperty;const Xr=function(t,e,n,r,i,o){var a=s(t),c=s(e),l=a?Yr:dn(t),u=c?Yr:dn(e),p=(l=l==Kr?qr:l)==qr,d=(u=u==Kr?qr:u)==qr,h=l==u;if(h&&oe(t)){if(!oe(e))return!1;a=!0,p=!1}if(h&&!p)return o||(o=new Yt),a||fe(t)?Fr(t,e,n,r,i,o):Hr(t,e,l,n,r,i,o);if(!(1&n)){var f=p&&$r.call(t,"__wrapped__"),g=d&&$r.call(e,"__wrapped__");if(f||g){var m=f?t.value():t,y=g?e.value():e;return o||(o=new Yt),i(m,y,n,r,o)}}return!!h&&(o||(o=new Yt),Gr(t,e,n,r,i,o))};const Jr=function t(e,n,r,i,o){return e===n||(null==e||null==n||!T(e)&&!T(n)?e!=e&&n!=n:Xr(e,n,r,i,t,o))};const Qr=function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var c=(s=n[i])[0],l=t[c],u=s[1];if(a&&s[2]){if(void 0===l&&!(c in t))return!1}else{var p=new Yt;if(r)var d=r(l,u,c,t,e,p);if(!(void 0===d?Jr(u,l,3,r,p):d))return!1}}return!0};const Zr=function(t){return t==t&&!A(t)};const ti=function(t){for(var e=Se(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Zr(i)]}return e};const ei=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};const ni=function(t){var e=ti(t);return 1==e.length&&e[0][2]?ei(e[0][0],e[0][1]):function(n){return n===t||Qr(n,t,e)}};const ri=function(t,e){for(var n=0,r=(e=xt(e,t)).length;null!=t&&n<r;)t=t[Vt(e[n++])];return n&&n==r?t:void 0};const ii=function(t,e,n){var r=null==t?void 0:ri(t,e);return void 0===r?n:r};const oi=function(t,e){return null!=t&&e in Object(t)};const ai=function(t,e){return null!=t&&Ut(t,e,oi)};const si=function(t,e){return C(t)&&Zr(e)?ei(Vt(t),e):function(n){var r=ii(n,t);return void 0===r&&r===e?ai(n,t):Jr(e,r,3)}};const ci=function(t){return t};const li=function(t){return function(e){return null==e?void 0:e[t]}};const ui=function(t){return function(e){return ri(e,t)}};const pi=function(t){return C(t)?li(Vt(t)):ui(t)};const di=function(t){return"function"==typeof t?t:null==t?ci:"object"==typeof t?s(t)?si(t[0],t[1]):ni(t):pi(t)};const hi=function(t,e){var n={};return e=di(e,3),kr(t,(function(t,r,i){Xt(n,r,e(t,r,i))})),n};var fi=n(9851),gi="$",mi=".",yi=function(){function t(t,e){if(void 0===e&&(e={}),"string"!=typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===gi,this.isValue=this.key[0]===mi,this.isSibling=!this.isContext&&!this.isValue;var n=this.isContext?gi:this.isValue?mi:"";this.path=this.key.slice(n.length),this.getter=this.path&&(0,fi.getter)(this.path,!0),this.map=e.map}var e=t.prototype;return e.getValue=function(t,e,n){var r=this.isContext?n:this.isValue?t:e;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r},e.cast=function(t,e){return this.getValue(t,null==e?void 0:e.parent,null==e?void 0:e.context)},e.resolve=function(){return this},e.describe=function(){return{type:"ref",key:this.key}},e.toString=function(){return"Ref("+this.key+")"},t.isRef=function(t){return t&&t.__isYupRef},t}();yi.prototype.__isYupRef=!0;var vi=n(7017);function Ei(t){function e(e,n){var i=e.value,o=e.path,a=e.label,s=e.options,c=e.originalValue,l=e.sync,u=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["value","path","label","options","originalValue","sync"]),p=t.name,d=t.test,h=t.params,f=t.message,g=s.parent,m=s.context;function y(t){return yi.isRef(t)?t.getValue(i,g,m):t}function v(t){void 0===t&&(t={});var e=hi(r({value:i,originalValue:c,label:a,path:t.path||o},h,t.params),y),n=new Ir(Ir.formatError(t.message||f,e),i,e.path,t.type||p);return n.params=e,n}var E=r({path:o,parent:g,type:p,createError:v,resolve:y,options:s,originalValue:c},u);if(l){var b;try{var T;if("function"==typeof(null==(T=b=d.call(E,i,E))?void 0:T.then))throw new Error('Validation test of type: "'+E.type+'" returned a Promise during a synchronous validate. This test will finish after the validate call has returned')}catch(t){return void n(t)}Ir.isError(b)?n(b):b?n(null,b):n(v())}else try{vi.resolve(d.call(E,i,E)).then((function(t){Ir.isError(t)?n(t):t?n(null,t):n(v())}))}catch(t){n(t)}}return e.OPTIONS=t,e}function bi(t,e,n,r){var i,o,a;return void 0===r&&(r=n),e?((0,fi.forEach)(e,(function(s,c,l){var u=c?function(t){return t.substr(0,t.length-1).substr(1)}(s):s;if((t=t.resolve({context:r,parent:i,value:n})).innerType){var p=l?parseInt(u,10):0;if(n&&p>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: "+s+", in the path: "+e+". because there is no value at that index. ");i=n,n=n&&n[p],t=t.innerType}if(!l){if(!t.fields||!t.fields[u])throw new Error("The schema does not contain the path: "+e+". (failed at: "+a+' which is a type: "'+t._type+'")');i=n,n=n&&n[u],t=t.fields[u]}o=u,a=c?"["+s+"]":"."+s})),{schema:t,parent:i,parentPath:o}):{parent:i,parentPath:e,schema:t}}const Ti=function(t,e,n,r){return bi(t,e,n,r).schema};var wi=n(7017);function _i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Si(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Si(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function Si(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ci=function(){function t(){this.list=new Set,this.refs=new Map}var e,n,r,o=t.prototype;return o.describe=function(){for(var t,e=[],n=_i(this.list);!(t=n()).done;){var r=t.value;e.push(r)}for(var i,o=_i(this.refs);!(i=o()).done;){var a=i.value[1];e.push(a.describe())}return e},o.toArray=function(){return lr(this.list).concat(lr(this.refs.values()))},o.add=function(t){yi.isRef(t)?this.refs.set(t.key,t):this.list.add(t)},o.delete=function(t){yi.isRef(t)?this.refs.delete(t.key):this.list.delete(t)},o.has=function(t,e){if(this.list.has(t))return!0;for(var n,r=this.refs.values();!(n=r.next()).done;)if(e(n.value)===t)return!0;return!1},o.clone=function(){var e=new t;return e.list=new Set(this.list),e.refs=new Map(this.refs),e},o.merge=function(t,e){var n=this.clone();return t.list.forEach((function(t){return n.add(t)})),t.refs.forEach((function(t){return n.add(t)})),e.list.forEach((function(t){return n.delete(t)})),e.refs.forEach((function(t){return n.delete(t)})),n},e=t,(n=[{key:"size",get:function(){return this.list.size+this.refs.size}}])&&i(e.prototype,n),r&&i(e,r),t}();function Ai(t){var e=this;if(void 0===t&&(t={}),!(this instanceof Ai))return new Ai;this._deps=[],this._conditions=[],this._options={abortEarly:!0,recursive:!0},this._exclusive=Object.create(null),this._whitelist=new Ci,this._blacklist=new Ci,this.tests=[],this.transforms=[],this.withMutation((function(){e.typeError(yr.notType)})),Ft(t,"default")&&(this._defaultDefault=t.default),this.type=t.type||"mixed",this._type=t.type||"mixed"}for(var Ii=Ai.prototype={__isYupSchema__:!0,constructor:Ai,clone:function(){var t=this;return this._mutate?this:Un(this,(function(e,n){return Sr(e)&&e!==t?e:"_whitelist"===n||"_blacklist"===n?e.clone():void 0}))},label:function(t){var e=this.clone();return e._label=t,e},meta:function(t){if(0===arguments.length)return this._meta;var e=this.clone();return e._meta=r(e._meta||{},t),e},withMutation:function(t){var e=this._mutate;this._mutate=!0;var n=t(this);return this._mutate=e,n},concat:function(t){if(!t||t===this)return this;if(t._type!==this._type&&"mixed"!==this._type)throw new TypeError("You cannot `concat()` schema's of different types: "+this._type+" and "+t._type);var e=Rr(t.clone(),this);return Ft(t,"_default")&&(e._default=t._default),e.tests=this.tests,e._exclusive=this._exclusive,e._whitelist=this._whitelist.merge(t._whitelist,t._blacklist),e._blacklist=this._blacklist.merge(t._blacklist,t._whitelist),e.withMutation((function(e){t.tests.forEach((function(t){e.test(t.OPTIONS)}))})),e},isType:function(t){return!(!this._nullable||null!==t)||(!this._typeCheck||this._typeCheck(t))},resolve:function(t){var e=this;if(e._conditions.length){var n=e._conditions;(e=e.clone())._conditions=[],e=(e=n.reduce((function(e,n){return n.resolve(e,t)}),e)).resolve(t)}return e},cast:function(t,e){void 0===e&&(e={});var n=this.resolve(r({value:t},e)),i=n._cast(t,e);if(void 0!==t&&!1!==e.assert&&!0!==n.isType(i)){var o=mr(t),a=mr(i);throw new TypeError("The value of "+(e.path||"field")+' could not be cast to a value that satisfies the schema type: "'+n._type+'". \n\nattempted value: '+o+" \n"+(a!==o?"result of cast: "+a:""))}return i},_cast:function(t){var e=this,n=void 0===t?t:this.transforms.reduce((function(n,r){return r.call(e,n,t)}),t);return void 0===n&&Ft(this,"_default")&&(n=this.getDefault()),n},_validate:function(t,e,n){var i=this;void 0===e&&(e={});var o=e,a=o.sync,s=o.path,c=o.from,l=void 0===c?[]:c,u=o.originalValue,p=void 0===u?t:u,d=o.strict,h=void 0===d?this._options.strict:d,f=o.abortEarly,g=void 0===f?this._options.abortEarly:f,m=t;h||(this._validating=!0,m=this._cast(m,r({assert:!1},e)),this._validating=!1);var y={value:m,path:s,options:e,originalValue:p,schema:this,label:this._label,sync:a,from:l},v=[];return this._typeError&&v.push(this._typeError),this._whitelistError&&v.push(this._whitelistError),this._blacklistError&&v.push(this._blacklistError),xr({args:y,value:m,path:s,sync:a,tests:v,endEarly:g},(function(t){t?n(t):xr({tests:i.tests,args:y,path:s,sync:a,value:m,endEarly:g},n)}))},validate:function(t,e,n){void 0===e&&(e={});var i=this.resolve(r({},e,{value:t}));return"function"==typeof n?i._validate(t,e,n):new wi((function(n,r){return i._validate(t,e,(function(t,e){t?r(t):n(e)}))}))},validateSync:function(t,e){var n;return void 0===e&&(e={}),this.resolve(r({},e,{value:t}))._validate(t,r({},e,{sync:!0}),(function(t,e){if(t)throw t;n=e})),n},isValid:function(t,e){return this.validate(t,e).then((function(){return!0})).catch((function(t){if("ValidationError"===t.name)return!1;throw t}))},isValidSync:function(t,e){try{return this.validateSync(t,e),!0}catch(t){if("ValidationError"===t.name)return!1;throw t}},_getDefault:function(){var t=Ft(this,"_default")?this._default:this._defaultDefault;return"function"==typeof t?t.call(this):Un(t)},getDefault:function(t){return void 0===t&&(t={}),this.resolve(t)._getDefault()},default:function(t){if(0===arguments.length)return console.warn("Calling `schema.default()` as a getter to retrieve a default is deprecated and will be removed in the next version. \nUse `schema.getDefault()` instead."),this._getDefault();var e=this.clone();return e._default=t,e},strict:function(t){void 0===t&&(t=!0);var e=this.clone();return e._options.strict=t,e},_isPresent:function(t){return null!=t},required:function(t){return void 0===t&&(t=yr.required),this.test({message:t,name:"required",exclusive:!0,test:function(t){return this.schema._isPresent(t)}})},notRequired:function(){var t=this.clone();return t.tests=t.tests.filter((function(t){return"required"!==t.OPTIONS.name})),t},nullable:function(t){void 0===t&&(t=!0);var e=this.clone();return e._nullable=t,e},transform:function(t){var e=this.clone();return e.transforms.push(t),e},test:function(){var t;if(void 0===(t=1===arguments.length?"function"==typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(t.message=yr.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");var e=this.clone(),n=Ei(t),r=t.exclusive||t.name&&!0===e._exclusive[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e._exclusive[t.name]=!!t.exclusive,e.tests=e.tests.filter((function(e){if(e.OPTIONS.name===t.name){if(r)return!1;if(e.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),e.tests.push(n),e},when:function(t,e){1===arguments.length&&(e=t,t=".");var n=this.clone(),r=[].concat(t).map((function(t){return new yi(t)}));return r.forEach((function(t){t.isSibling&&n._deps.push(t.key)})),n._conditions.push(new Cr(r,e)),n},typeError:function(t){var e=this.clone();return e._typeError=Ei({message:t,name:"typeError",test:function(t){return!(void 0!==t&&!this.schema.isType(t))||this.createError({params:{type:this.schema._type}})}}),e},oneOf:function(t,e){void 0===e&&(e=yr.oneOf);var n=this.clone();return t.forEach((function(t){n._whitelist.add(t),n._blacklist.delete(t)})),n._whitelistError=Ei({message:e,name:"oneOf",test:function(t){if(void 0===t)return!0;var e=this.schema._whitelist;return!!e.has(t,this.resolve)||this.createError({params:{values:e.toArray().join(", ")}})}}),n},notOneOf:function(t,e){void 0===e&&(e=yr.notOneOf);var n=this.clone();return t.forEach((function(t){n._blacklist.add(t),n._whitelist.delete(t)})),n._blacklistError=Ei({message:e,name:"notOneOf",test:function(t){var e=this.schema._blacklist;return!e.has(t,this.resolve)||this.createError({params:{values:e.toArray().join(", ")}})}}),n},strip:function(t){void 0===t&&(t=!0);var e=this.clone();return e._strip=t,e},_option:function(t,e){return Ft(e,t)?e[t]:this._options[t]},describe:function(){var t=this.clone(),e={type:t._type,meta:t._meta,label:t._label,tests:t.tests.map((function(t){return{name:t.OPTIONS.name,params:t.OPTIONS.params}})).filter((function(t,e,n){return n.findIndex((function(e){return e.name===t.name}))===e}))};return t._whitelist.size&&(e.oneOf=t._whitelist.describe()),t._blacklist.size&&(e.notOneOf=t._blacklist.describe()),e},defined:function(t){return void 0===t&&(t=yr.defined),this.test({message:t,name:"defined",exclusive:!0,test:function(t){return void 0!==t}})}},Oi=function(){var t=Pi[xi];Ii[t+"At"]=function(e,n,i){void 0===i&&(i={});var o=bi(this,e,n,i.context),a=o.parent,s=o.parentPath;return o.schema[t](a&&a[s],r({},i,{parent:a,path:e}))}},xi=0,Pi=["validate","validateSync"];xi<Pi.length;xi++)Oi();for(var Ri=0,Li=["equals","is"];Ri<Li.length;Ri++){Ii[Li[Ri]]=Ii.oneOf}for(var ki=0,Ni=["not","nope"];ki<Ni.length;ki++){Ii[Ni[ki]]=Ii.notOneOf}function Di(t,e,n){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t.prototype,n)}Ii.optional=Ii.notRequired;const Mi=ji;function ji(){var t=this;if(!(this instanceof ji))return new ji;Ai.call(this,{type:"boolean"}),this.withMutation((function(){t.transform((function(t){if(!this.isType(t)){if(/^(true|1)$/i.test(t))return!0;if(/^(false|0)$/i.test(t))return!1}return t}))}))}Di(ji,Ai,{_typeCheck:function(t){return t instanceof Boolean&&(t=t.valueOf()),"boolean"==typeof t}});const Vi=function(t){return null==t};var Ui=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,Fi=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Bi=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Wi=function(t){return Vi(t)||t===t.trim()},Hi={}.toString();function zi(){var t=this;if(!(this instanceof zi))return new zi;Ai.call(this,{type:"string"}),this.withMutation((function(){t.transform((function(t){if(this.isType(t))return t;if(Array.isArray(t))return t;var e=null!=t&&t.toString?t.toString():t;return e===Hi?t:e}))}))}Di(zi,Ai,{_typeCheck:function(t){return t instanceof String&&(t=t.valueOf()),"string"==typeof t},_isPresent:function(t){return Ai.prototype._isPresent.call(this,t)&&!!t.length},length:function(t,e){return void 0===e&&(e=vr.length),this.test({message:e,name:"length",exclusive:!0,params:{length:t},test:function(e){return Vi(e)||e.length===this.resolve(t)}})},min:function(t,e){return void 0===e&&(e=vr.min),this.test({message:e,name:"min",exclusive:!0,params:{min:t},test:function(e){return Vi(e)||e.length>=this.resolve(t)}})},max:function(t,e){return void 0===e&&(e=vr.max),this.test({name:"max",exclusive:!0,message:e,params:{max:t},test:function(e){return Vi(e)||e.length<=this.resolve(t)}})},matches:function(t,e){var n,r,i=!1;return e&&("object"==typeof e?(i=e.excludeEmptyString,n=e.message,r=e.name):n=e),this.test({name:r||"matches",message:n||vr.matches,params:{regex:t},test:function(e){return Vi(e)||""===e&&i||-1!==e.search(t)}})},email:function(t){return void 0===t&&(t=vr.email),this.matches(Ui,{name:"email",message:t,excludeEmptyString:!0})},url:function(t){return void 0===t&&(t=vr.url),this.matches(Fi,{name:"url",message:t,excludeEmptyString:!0})},uuid:function(t){return void 0===t&&(t=vr.uuid),this.matches(Bi,{name:"uuid",message:t,excludeEmptyString:!1})},ensure:function(){return this.default("").transform((function(t){return null===t?"":t}))},trim:function(t){return void 0===t&&(t=vr.trim),this.transform((function(t){return null!=t?t.trim():t})).test({message:t,name:"trim",test:Wi})},lowercase:function(t){return void 0===t&&(t=vr.lowercase),this.transform((function(t){return Vi(t)?t:t.toLowerCase()})).test({message:t,name:"string_case",exclusive:!0,test:function(t){return Vi(t)||t===t.toLowerCase()}})},uppercase:function(t){return void 0===t&&(t=vr.uppercase),this.transform((function(t){return Vi(t)?t:t.toUpperCase()})).test({message:t,name:"string_case",exclusive:!0,test:function(t){return Vi(t)||t===t.toUpperCase()}})}});function Gi(){var t=this;if(!(this instanceof Gi))return new Gi;Ai.call(this,{type:"number"}),this.withMutation((function(){t.transform((function(t){var e=t;if("string"==typeof e){if(""===(e=e.replace(/\s/g,"")))return NaN;e=+e}return this.isType(e)?e:parseFloat(e)}))}))}Di(Gi,Ai,{_typeCheck:function(t){return t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&!function(t){return t!=+t}(t)},min:function(t,e){return void 0===e&&(e=Er.min),this.test({message:e,name:"min",exclusive:!0,params:{min:t},test:function(e){return Vi(e)||e>=this.resolve(t)}})},max:function(t,e){return void 0===e&&(e=Er.max),this.test({message:e,name:"max",exclusive:!0,params:{max:t},test:function(e){return Vi(e)||e<=this.resolve(t)}})},lessThan:function(t,e){return void 0===e&&(e=Er.lessThan),this.test({message:e,name:"max",exclusive:!0,params:{less:t},test:function(e){return Vi(e)||e<this.resolve(t)}})},moreThan:function(t,e){return void 0===e&&(e=Er.moreThan),this.test({message:e,name:"min",exclusive:!0,params:{more:t},test:function(e){return Vi(e)||e>this.resolve(t)}})},positive:function(t){return void 0===t&&(t=Er.positive),this.moreThan(0,t)},negative:function(t){return void 0===t&&(t=Er.negative),this.lessThan(0,t)},integer:function(t){return void 0===t&&(t=Er.integer),this.test({name:"integer",message:t,test:function(t){return Vi(t)||Number.isInteger(t)}})},truncate:function(){return this.transform((function(t){return Vi(t)?t:0|t}))},round:function(t){var e=["ceil","floor","round","trunc"];if("trunc"===(t=t&&t.toLowerCase()||"round"))return this.truncate();if(-1===e.indexOf(t.toLowerCase()))throw new TypeError("Only valid options for round() are: "+e.join(", "));return this.transform((function(e){return Vi(e)?e:Math[t](e)}))}});var Ki=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var Yi=new Date("");const qi=$i;function $i(){var t=this;if(!(this instanceof $i))return new $i;Ai.call(this,{type:"date"}),this.withMutation((function(){t.transform((function(t){return this.isType(t)?t:(t=function(t){var e,n,r=[1,4,5,6,7,10,11],i=0;if(n=Ki.exec(t)){for(var o,a=0;o=r[a];++a)n[o]=+n[o]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),e=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):e=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else e=Date.parse?Date.parse(t):NaN;return e}(t),isNaN(t)?Yi:new Date(t))}))}))}Di($i,Ai,{_typeCheck:function(t){return e=t,"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(t.getTime());var e},min:function(t,e){void 0===e&&(e=br.min);var n=t;if(!yi.isRef(n)&&(n=this.cast(t),!this._typeCheck(n)))throw new TypeError("`min` must be a Date or a value that can be `cast()` to a Date");return this.test({message:e,name:"min",exclusive:!0,params:{min:t},test:function(t){return Vi(t)||t>=this.resolve(n)}})},max:function(t,e){void 0===e&&(e=br.max);var n=t;if(!yi.isRef(n)&&(n=this.cast(t),!this._typeCheck(n)))throw new TypeError("`max` must be a Date or a value that can be `cast()` to a Date");return this.test({message:e,name:"max",exclusive:!0,params:{max:t},test:function(t){return Vi(t)||t<=this.resolve(n)}})}});const Xi=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n};const Ji=function(t){return function(e){return null==t?void 0:t[e]}}({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});var Qi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zi=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const to=function(t){return(t=Ot(t))&&t.replace(Qi,Ji).replace(Zi,"")};var eo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const no=function(t){return t.match(eo)||[]};var ro=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const io=function(t){return ro.test(t)};var oo="\\u2700-\\u27bf",ao="a-z\\xdf-\\xf6\\xf8-\\xff",so="A-Z\\xc0-\\xd6\\xd8-\\xde",co="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lo="["+co+"]",uo="\\d+",po="[\\u2700-\\u27bf]",ho="["+ao+"]",fo="[^\\ud800-\\udfff"+co+uo+oo+ao+so+"]",go="(?:\\ud83c[\\udde6-\\uddff]){2}",mo="[\\ud800-\\udbff][\\udc00-\\udfff]",yo="["+so+"]",vo="(?:"+ho+"|"+fo+")",Eo="(?:"+yo+"|"+fo+")",bo="(?:['’](?:d|ll|m|re|s|t|ve))?",To="(?:['’](?:D|LL|M|RE|S|T|VE))?",wo="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",_o="[\\ufe0e\\ufe0f]?",So=_o+wo+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",go,mo].join("|")+")"+_o+wo+")*"),Co="(?:"+[po,go,mo].join("|")+")"+So,Ao=RegExp([yo+"?"+ho+"+"+bo+"(?="+[lo,yo,"$"].join("|")+")",Eo+"+"+To+"(?="+[lo,yo+vo,"$"].join("|")+")",yo+"?"+vo+"+"+bo,yo+"+"+To,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",uo,Co].join("|"),"g");const Io=function(t){return t.match(Ao)||[]};const Oo=function(t,e,n){return t=Ot(t),void 0===(e=n?void 0:e)?io(t)?Io(t):no(t):t.match(e)||[]};var xo=RegExp("['’]","g");const Po=function(t){return function(e){return Xi(Oo(to(e).replace(xo,"")),t,"")}};const Ro=Po((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));const Lo=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o};const ko=function(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Lo(t,e,n)};const No=function(t){return function(e){e=Ot(e);var n=Kn(e)?or(e):void 0,r=n?n[0]:e.charAt(0),i=n?ko(n,1).join(""):e.slice(1);return r[t]()+i}}("toUpperCase");const Do=function(t){return No(Ot(t).toLowerCase())};const Mo=Po((function(t,e,n){return e=e.toLowerCase(),t+(n?Do(e):e)}));const jo=function(t,e){var n={};return e=di(e,3),kr(t,(function(t,r,i){Xt(n,e(t,r,i),t)})),n};var Vo=n(9138),Uo=n.n(Vo);function Fo(t,e){void 0===e&&(e=[]);var n=[],r=[];function i(t,i){var o=(0,fi.split)(t)[0];~r.indexOf(o)||r.push(o),~e.indexOf(i+"-"+o)||n.push([i,o])}var o=function(e){if(Ft(t,e)){var n=t[e];~r.indexOf(e)||r.push(e),yi.isRef(n)&&n.isSibling?i(n.path,e):Sr(n)&&n._deps&&n._deps.forEach((function(t){return i(t,e)}))}};for(var a in t)o(a);return Uo().array(r,n).reverse()}function Bo(t,e){var n=1/0;return t.some((function(t,r){if(-1!==e.path.indexOf(t))return n=r,!0})),n}function Wo(t){return function(e,n){return Bo(t,e)-Bo(t,n)}}function Ho(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return zo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function zo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Go=function(t){return"[object Object]"===Object.prototype.toString.call(t)};function Ko(t){var e=this;if(!(this instanceof Ko))return new Ko(t);Ai.call(this,{type:"object",default:function(){var t=this;if(this._nodes.length){var e={};return this._nodes.forEach((function(n){e[n]=t.fields[n].default?t.fields[n].getDefault():void 0})),e}}}),this.fields=Object.create(null),this._sortErrors=Wo([]),this._nodes=[],this._excludedEdges=[],this.withMutation((function(){e.transform((function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=null}return this.isType(t)?t:null})),t&&e.shape(t)}))}Di(Ko,Ai,{_typeCheck:function(t){return Go(t)||"function"==typeof t},_cast:function(t,e){var n=this;void 0===e&&(e={});var i=Ai.prototype._cast.call(this,t);if(void 0===i)return this.getDefault();if(!this._typeCheck(i))return i;for(var o,a=this.fields,s=!0===this._option("stripUnknown",e),c=this._nodes.concat(Object.keys(i).filter((function(t){return-1===n._nodes.indexOf(t)}))),l={},u=r({},e,{parent:l,__validating:e.__validating||!1}),p=!1,d=Ho(c);!(o=d()).done;){var h=o.value,f=a[h],g=Ft(i,h);if(f){var m,y=f._options&&f._options.strict;if(u.path=(e.path?e.path+".":"")+h,u.value=i[h],!0===(f=f.resolve(u))._strip){p=p||h in i;continue}void 0!==(m=e.__validating&&y?i[h]:f.cast(i[h],u))&&(l[h]=m)}else g&&!s&&(l[h]=i[h]);l[h]!==i[h]&&(p=!0)}return p?l:i},_validate:function(t,e,n){var i=this;void 0===e&&(e={});var o=[],a=e,s=a.sync,c=a.from,l=void 0===c?[]:c,u=a.originalValue,p=void 0===u?t:u,d=a.abortEarly,h=void 0===d?this._options.abortEarly:d,f=a.recursive,g=void 0===f?this._options.recursive:f;l=[{schema:this,value:p}].concat(l),e.__validating=!0,e.originalValue=p,e.from=l,Ai.prototype._validate.call(this,t,e,(function(t,a){if(t){if(h)return void n(t);o.push(t),a=t.value}if(g&&Go(a)){p=p||a;var c=i._nodes.map((function(t){return function(n,o){var s=-1===t.indexOf(".")?(e.path?e.path+".":"")+t:(e.path||"")+'["'+t+'"]',c=i.fields[t];c&&c.validate?c.validate(a[t],r({},e,{path:s,from:l,strict:!0,parent:a,originalValue:p[t]}),o):o(null)}}));xr({sync:s,tests:c,value:a,errors:o,endEarly:h,sort:i._sortErrors,path:e.path},n)}else n(o[0]||null,a)}))},concat:function(t){var e=Ai.prototype.concat.call(this,t);return e._nodes=Fo(e.fields,e._excludedEdges),e},shape:function(t,e){void 0===e&&(e=[]);var n=this.clone(),i=r(n.fields,t);if(n.fields=i,n._sortErrors=Wo(Object.keys(i)),e.length){Array.isArray(e[0])||(e=[e]);var o=e.map((function(t){return t[0]+"-"+t[1]}));n._excludedEdges=n._excludedEdges.concat(o)}return n._nodes=Fo(i,n._excludedEdges),n},pick:function(t){for(var e,n={},r=Ho(t);!(e=r()).done;){var i=e.value;this.fields[i]&&(n[i]=this.fields[i])}return this.clone().withMutation((function(t){return t.fields={},t.shape(n)}))},omit:function(t){var e=this.clone(),n=e.fields;e.fields={};for(var r,i=Ho(t);!(r=i()).done;){var o=r.value;delete n[o]}return e.withMutation((function(t){return t.shape(n)}))},from:function(t,e,n){var i=(0,fi.getter)(t,!0);return this.transform((function(o){if(null==o)return o;var a=o;return Ft(o,t)&&(a=r({},o),n||delete a[t],a[e]=i(o)),a}))},noUnknown:function(t,e){void 0===t&&(t=!0),void 0===e&&(e=Tr.noUnknown),"string"==typeof t&&(e=t,t=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:e,test:function(e){if(null==e)return!0;var n=function(t,e){var n=Object.keys(t.fields);return Object.keys(e).filter((function(t){return-1===n.indexOf(t)}))}(this.schema,e);return!t||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n._options.stripUnknown=t,n},unknown:function(t,e){return void 0===t&&(t=!0),void 0===e&&(e=Tr.noUnknown),this.noUnknown(!t,e)},transformKeys:function(t){return this.transform((function(e){return e&&jo(e,(function(e,n){return t(n)}))}))},camelCase:function(){return this.transformKeys(Mo)},snakeCase:function(){return this.transformKeys(Ro)},constantCase:function(){return this.transformKeys((function(t){return Ro(t).toUpperCase()}))},describe:function(){var t=Ai.prototype.describe.call(this);return t.fields=hi(this.fields,(function(t){return t.describe()})),t}});const Yo=qo;function qo(t){var e=this;if(!(this instanceof qo))return new qo(t);Ai.call(this,{type:"array"}),this._subType=void 0,this.innerType=void 0,this.withMutation((function(){e.transform((function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=null}return this.isType(t)?t:null})),t&&e.of(t)}))}Di(qo,Ai,{_typeCheck:function(t){return Array.isArray(t)},_cast:function(t,e){var n=this,i=Ai.prototype._cast.call(this,t,e);if(!this._typeCheck(i)||!this.innerType)return i;var o=!1,a=i.map((function(t,i){var a=n.innerType.cast(t,r({},e,{path:(e.path||"")+"["+i+"]"}));return a!==t&&(o=!0),a}));return o?a:i},_validate:function(t,e,n){var i=this;void 0===e&&(e={});var o=[],a=e.sync,s=e.path,c=this.innerType,l=this._option("abortEarly",e),u=this._option("recursive",e),p=null!=e.originalValue?e.originalValue:t;Ai.prototype._validate.call(this,t,e,(function(t,d){if(t){if(l)return void n(t);o.push(t),d=t.value}if(u&&c&&i._typeCheck(d)){p=p||d;for(var h=new Array(d.length),f=function(t){var n=d[t],i=(e.path||"")+"["+t+"]",o=r({},e,{path:i,strict:!0,parent:d,index:t,originalValue:p[t]});h[t]=function(t,e){return c.validate?c.validate(n,o,e):e(null)}},g=0;g<d.length;g++)f(g);xr({sync:a,path:s,value:d,errors:o,endEarly:l,tests:h},n)}else n(o[0]||null,d)}))},of:function(t){var e=this.clone();if(!1!==t&&!Sr(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema, or `false` to negate a current sub-schema. not: "+mr(t));return e._subType=t,e.innerType=t,e},min:function(t,e){return e=e||wr.min,this.test({message:e,name:"min",exclusive:!0,params:{min:t},test:function(e){return Vi(e)||e.length>=this.resolve(t)}})},max:function(t,e){return e=e||wr.max,this.test({message:e,name:"max",exclusive:!0,params:{max:t},test:function(e){return Vi(e)||e.length<=this.resolve(t)}})},length:function(t,e){return e=e||wr.length,this.test({message:e,name:"length",exclusive:!0,params:{length:t},test:function(e){return Vi(e)||e.length===this.resolve(t)}})},ensure:function(){var t=this;return this.default((function(){return[]})).transform((function(e,n){return t._typeCheck(e)?e:null==n?[]:[].concat(n)}))},compact:function(t){var e=t?function(e,n,r){return!t(e,n,r)}:function(t){return!!t};return this.transform((function(t){return null!=t?t.filter(e):t}))},describe:function(){var t=Ai.prototype.describe.call(this);return this.innerType&&(t.innerType=this.innerType.describe()),t}});var $o=function(){function t(t){this._resolve=function(e,n){var r=t(e,n);if(!Sr(r))throw new TypeError("lazy() functions must return a valid schema");return r.resolve(n)}}var e=t.prototype;return e.resolve=function(t){return this._resolve(t.value,t)},e.cast=function(t,e){return this._resolve(t,e).cast(t,e)},e.validate=function(t,e,n){return this._resolve(t,e).validate(t,e,n)},e.validateSync=function(t,e){return this._resolve(t,e).validateSync(t,e)},e.validateAt=function(t,e,n){return this._resolve(e,n).validateAt(t,e,n)},e.validateSyncAt=function(t,e,n){return this._resolve(e,n).validateSyncAt(t,e,n)},t}();$o.prototype.__isYupSchema__=!0;const Xo=$o;function Jo(t){Object.keys(t).forEach((function(e){Object.keys(t[e]).forEach((function(n){_r[e][n]=t[e][n]}))}))}var Qo=Mi,Zo=function(t,e){return new yi(t,e)},ta=function(t){return new Xo(t)};function ea(t,e,n){if(!t||!Sr(t.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!=typeof e)throw new TypeError("A Method name must be provided");if("function"!=typeof n)throw new TypeError("Method function must be provided");t.prototype[e]=n}},6887:t=>{var e,n=function(){var t,e,n,r,i,o,a=[],s=a.slice,c=a.filter,l=window.document,u={},p={},d={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},h=/^\s*<(\w+|!)[^>]*>/,f=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,m=/^(?:body|html)$/i,y=/([A-Z])/g,v=["val","css","html","text","data","width","height","offset"],E=l.createElement("table"),b=l.createElement("tr"),T={tr:l.createElement("tbody"),tbody:E,thead:E,tfoot:E,td:b,th:b,"*":l.createElement("div")},w=/complete|loaded|interactive/,_=/^[\w-]*$/,S={},C=S.toString,A={},I=l.createElement("div"),O={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},x=Array.isArray||function(t){return t instanceof Array};function P(t){return null==t?String(t):S[C.call(t)]||"object"}function R(t){return"function"==P(t)}function L(t){return null!=t&&t==t.window}function k(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function N(t){return"object"==P(t)}function D(t){return N(t)&&!L(t)&&Object.getPrototypeOf(t)==Object.prototype}function M(t){return"number"==typeof t.length}function j(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function V(t){return t in p?p[t]:p[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function U(t,e){return"number"!=typeof e||d[j(t)]?e:e+"px"}function F(t){return"children"in t?s.call(t.children):n.map(t.childNodes,(function(t){if(1==t.nodeType)return t}))}function B(n,r,i){for(e in r)i&&(D(r[e])||x(r[e]))?(D(r[e])&&!D(n[e])&&(n[e]={}),x(r[e])&&!x(n[e])&&(n[e]=[]),B(n[e],r[e],i)):r[e]!==t&&(n[e]=r[e])}function W(t,e){return null==e?n(t):n(t).filter(e)}function H(t,e,n,r){return R(e)?e.call(t,n,r):e}function z(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function G(e,n){var r=e.className||"",i=r&&r.baseVal!==t;if(n===t)return i?r.baseVal:r;i?r.baseVal=n:e.className=n}function K(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?n.parseJSON(t):t):t}catch(e){return t}}function Y(t,e){e(t);for(var n=0,r=t.childNodes.length;n<r;n++)Y(t.childNodes[n],e)}return A.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=I).appendChild(t),r=~A.qsa(i,e).indexOf(t),o&&I.removeChild(t),r},i=function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},o=function(t){return c.call(t,(function(e,n){return t.indexOf(e)==n}))},A.fragment=function(e,r,i){var o,a,c;return f.test(e)&&(o=n(l.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(g,"<$1></$2>")),r===t&&(r=h.test(e)&&RegExp.$1),r in T||(r="*"),(c=T[r]).innerHTML=""+e,o=n.each(s.call(c.childNodes),(function(){c.removeChild(this)}))),D(i)&&(a=n(o),n.each(i,(function(t,e){v.indexOf(t)>-1?a[t](e):a.attr(t,e)}))),o},A.Z=function(t,e){return(t=t||[]).__proto__=n.fn,t.selector=e||"",t},A.isZ=function(t){return t instanceof A.Z},A.init=function(e,r){var i,o;if(!e)return A.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&h.test(e))i=A.fragment(e,RegExp.$1,r),e=null;else{if(r!==t)return n(r).find(e);i=A.qsa(l,e)}else{if(R(e))return n(l).ready(e);if(A.isZ(e))return e;if(x(e))o=e,i=c.call(o,(function(t){return null!=t}));else if(N(e))i=[e],e=null;else if(h.test(e))i=A.fragment(e.trim(),RegExp.$1,r),e=null;else{if(r!==t)return n(r).find(e);i=A.qsa(l,e)}}return A.Z(i,e)},(n=function(t,e){return A.init(t,e)}).extend=function(t){var e,n=s.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach((function(n){B(t,n,e)})),t},A.qsa=function(t,e){var n,r="#"==e[0],i=!r&&"."==e[0],o=r||i?e.slice(1):e,a=_.test(o);return k(t)&&a&&r?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:s.call(a&&!r?i?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=l.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},n.type=P,n.isFunction=R,n.isWindow=L,n.isArray=x,n.isPlainObject=D,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.inArray=function(t,e,n){return a.indexOf.call(e,t,n)},n.camelCase=i,n.trim=function(t){return null==t?"":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.map=function(t,e){var r,i,o,a,s=[];if(M(t))for(i=0;i<t.length;i++)null!=(r=e(t[i],i))&&s.push(r);else for(o in t)null!=(r=e(t[o],o))&&s.push(r);return(a=s).length>0?n.fn.concat.apply([],a):a},n.each=function(t,e){var n,r;if(M(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(r in t)if(!1===e.call(t[r],r,t[r]))return t;return t},n.grep=function(t,e){return c.call(t,e)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){S["[object "+e+"]"]=e.toLowerCase()})),n.fn={forEach:a.forEach,reduce:a.reduce,push:a.push,sort:a.sort,indexOf:a.indexOf,concat:a.concat,map:function(t){return n(n.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return n(s.apply(this,arguments))},ready:function(t){return w.test(l.readyState)&&l.body?t(n):l.addEventListener("DOMContentLoaded",(function(){t(n)}),!1),this},get:function(e){return e===t?s.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(t){if(void 0!==window.Prototype){var e={};try{this.forEach((function(n,r){if(!1===t.call(n,r,n))throw e}))}catch(t){if(t!=e)throw t}}else a.every.call(this,(function(e,n){return!1!==t.call(e,n,e)}));return this},filter:function(t){return R(t)?this.not(this.not(t)):n(c.call(this,(function(e){return A.matches(e,t)})))},add:function(t,e){return n(o(this.concat(n(t,e))))},is:function(t){return this.length>0&&A.matches(this[0],t)},not:function(e){var r=[];if(R(e)&&e.call!==t)this.each((function(t){e.call(this,t)||r.push(this)}));else{var i="string"==typeof e?this.filter(e):M(e)&&R(e.item)?s.call(e):n(e);this.forEach((function(t){i.indexOf(t)<0&&r.push(t)}))}return n(r)},has:function(t){return this.filter((function(){return N(t)?n.contains(this,t):n(this).find(t).size()}))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!N(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!N(t)?t:n(t)},find:function(t){var e=this;return t?"object"==typeof t?n(t).filter((function(){var t=this;return a.some.call(e,(function(e){return n.contains(e,t)}))})):1==this.length?n(A.qsa(this[0],t)):this.map((function(){return A.qsa(this,t)})):n()},closest:function(t,e){var r=this[0],i=!1;for("object"==typeof t&&(i=n(t));r&&!(i?i.indexOf(r)>=0:A.matches(r,t));)r=r!==e&&!k(r)&&r.parentNode;return n(r)},parents:function(t){for(var e=[],r=this;r.length>0;)r=n.map(r,(function(t){if((t=t.parentNode)&&!k(t)&&e.indexOf(t)<0)return e.push(t),t}));return W(e,t)},parent:function(t){return W(o(this.pluck("parentNode")),t)},children:function(t){return W(this.map((function(){return F(this)})),t)},contents:function(){return this.map((function(){return s.call(this.childNodes)}))},siblings:function(t){return W(this.map((function(t,e){return c.call(F(e.parentNode),(function(t){return t!==e}))})),t)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(t){return n.map(this,(function(e){return e[t]}))},show:function(){return this.each((function(){var t,e,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,u[t]||(e=l.createElement(t),l.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),u[t]=n),u[t]))}))},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=R(t);if(this[0]&&!e)var r=n(t).get(0),i=r.parentNode||this.length>1;return this.each((function(o){n(this).wrapAll(e?t.call(this,o):i?r.cloneNode(!0):r)}))},wrapAll:function(t){if(this[0]){var e;for(n(this[0]).before(t=n(t));(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=R(t);return this.each((function(r){var i=n(this),o=i.contents(),a=e?t.call(this,r):t;o.length?o.wrapAll(a):i.append(a)}))},unwrap:function(){return this.parent().each((function(){n(this).replaceWith(n(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var r=n(this);(e===t?"none"==r.css("display"):e)?r.show():r.hide()}))},prev:function(t){return n(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return n(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each((function(e){var r=this.innerHTML;n(this).empty().append(H(this,t,e,r))})):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each((function(e){var n=H(this,t,e,this.textContent);this.textContent=null==n?"":""+n})):0 in this?this[0].textContent:null},attr:function(n,r){var i;return"string"!=typeof n||1 in arguments?this.each((function(t){if(1===this.nodeType)if(N(n))for(e in n)z(this,e,n[e]);else z(this,n,H(this,r,t,this.getAttribute(n)))})):this.length&&1===this[0].nodeType?!(i=this[0].getAttribute(n))&&n in this[0]?this[0][n]:i:t},removeAttr:function(t){return this.each((function(){1===this.nodeType&&t.split(" ").forEach((function(t){z(this,t)}),this)}))},prop:function(t,e){return t=O[t]||t,1 in arguments?this.each((function(n){this[t]=H(this,e,n,this[t])})):this[0]&&this[0][t]},data:function(e,n){var r="data-"+e.replace(y,"-$1").toLowerCase(),i=1 in arguments?this.attr(r,n):this.attr(r);return null!==i?K(i):t},val:function(t){return 0 in arguments?this.each((function(e){this.value=H(this,t,e,this.value)})):this[0]&&(this[0].multiple?n(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each((function(e){var r=n(this),i=H(this,t,e,r.offset()),o=r.offsetParent().offset(),a={top:i.top-o.top,left:i.left-o.left};"static"==r.css("position")&&(a.position="relative"),r.css(a)}));if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,r){if(arguments.length<2){var o,a=this[0];if(!a)return;if(o=getComputedStyle(a,""),"string"==typeof t)return a.style[i(t)]||o.getPropertyValue(t);if(x(t)){var s={};return n.each(t,(function(t,e){s[e]=a.style[i(e)]||o.getPropertyValue(e)})),s}}var c="";if("string"==P(t))r||0===r?c=j(t)+":"+U(t,r):this.each((function(){this.style.removeProperty(j(t))}));else for(e in t)t[e]||0===t[e]?c+=j(e)+":"+U(e,t[e])+";":this.each((function(){this.style.removeProperty(j(e))}));return this.each((function(){this.style.cssText+=";"+c}))},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&a.some.call(this,(function(t){return this.test(G(t))}),V(t))},addClass:function(t){return t?this.each((function(e){if("className"in this){r=[];var i=G(this);H(this,t,e,i).split(/\s+/g).forEach((function(t){n(this).hasClass(t)||r.push(t)}),this),r.length&&G(this,i+(i?" ":"")+r.join(" "))}})):this},removeClass:function(e){return this.each((function(n){if("className"in this){if(e===t)return G(this,"");r=G(this),H(this,e,n,r).split(/\s+/g).forEach((function(t){r=r.replace(V(t)," ")})),G(this,r.trim())}}))},toggleClass:function(e,r){return e?this.each((function(i){var o=n(this);H(this,e,i,G(this)).split(/\s+/g).forEach((function(e){(r===t?!o.hasClass(e):r)?o.addClass(e):o.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var n="scrollTop"in this[0];return e===t?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var n="scrollLeft"in this[0];return e===t?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),r=this.offset(),i=m.test(e[0].nodeName)?{top:0,left:0}:e.offset();return r.top-=parseFloat(n(t).css("margin-top"))||0,r.left-=parseFloat(n(t).css("margin-left"))||0,i.top+=parseFloat(n(e[0]).css("border-top-width"))||0,i.left+=parseFloat(n(e[0]).css("border-left-width"))||0,{top:r.top-i.top,left:r.left-i.left}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent||l.body;t&&!m.test(t.nodeName)&&"static"==n(t).css("position");)t=t.offsetParent;return t}))}},n.fn.detach=n.fn.remove,["width","height"].forEach((function(e){var r=e.replace(/./,(function(t){return t[0].toUpperCase()}));n.fn[e]=function(i){var o,a=this[0];return i===t?L(a)?a["inner"+r]:k(a)?a.documentElement["scroll"+r]:(o=this.offset())&&o[e]:this.each((function(t){(a=n(this)).css(e,H(this,i,t,a[e]()))}))}})),["after","prepend","before","append"].forEach((function(t,e){var r=e%2;n.fn[t]=function(){var t,i,o=n.map(arguments,(function(e){return"object"==(t=P(e))||"array"==t||null==e?e:A.fragment(e)})),a=this.length>1;return o.length<1?this:this.each((function(t,s){i=r?s:s.parentNode,s=0==e?s.nextSibling:1==e?s.firstChild:2==e?s:null;var c=n.contains(l.documentElement,i);o.forEach((function(t){if(a)t=t.cloneNode(!0);else if(!i)return n(t).remove();null!=t.nodeName&&"SCRIPT"==t.nodeName.toUpperCase()||i.insertBefore(t,s),c&&Y(t,(function(t){if(null!=t.nodeName&&"SCRIPT"===t.nodeName.toUpperCase()&&t.src)newEl=l.createElement("script"),newEl.type=t.type,newEl.src=t.src,i.insertBefore(newEl,s);else if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src))try{window.eval.call(window,t.innerHTML)}catch(t){}}))}))}))},n.fn[r?t+"To":"insert"+(e?"Before":"After")]=function(e){return n(e)[t](this),this}})),A.Z.prototype=n.fn,A.uniq=o,A.deserializeValue=K,n.zepto=A,n}();t.exports=n,function(t){var e,n=1,r=Array.prototype.slice,i=t.isFunction,o=function(t){return"string"==typeof t},a={},s={},c="onfocusin"in window,l={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};function p(t){return t._zid||(t._zid=n++)}function d(t,e,n,r){if((e=h(e)).ns)var i=(o=e.ns,new RegExp("(?:^| )"+o.replace(" "," .* ?")+"(?: |$)"));var o;return(a[p(t)]||[]).filter((function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||i.test(t.ns))&&(!n||p(t.fn)===p(n))&&(!r||t.sel==r)}))}function h(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function f(t,e){return t.del&&!c&&t.e in l||!!e}function g(t){return u[t]||c&&l[t]||t}function m(n,r,i,o,s,c,l){var d=p(n),m=a[d]||(a[d]=[]);r.split(/\s/).forEach((function(r){if("ready"==r)return t(document).ready(i);var a=h(r);a.fn=i,a.sel=s,a.e in u&&(i=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return a.fn.apply(this,arguments)}),a.del=c;var p=c||i;a.proxy=function(t){if(!(t=w(t)).isImmediatePropagationStopped()){t.data=o;var r=p.apply(n,t._args==e?[t]:[t].concat(t._args));return!1===r&&(t.preventDefault(),t.stopPropagation()),r}},a.i=m.length,m.push(a),"addEventListener"in n&&n.addEventListener(g(a.e),a.proxy,f(a,l))}))}function y(t,e,n,r,i){var o=p(t);(e||"").split(/\s/).forEach((function(e){d(t,e,n,r).forEach((function(e){delete a[o][e.i],"removeEventListener"in t&&t.removeEventListener(g(e.e),e.proxy,f(e,i))}))}))}s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",t.event={add:m,remove:y},t.proxy=function(e,n){var a=2 in arguments&&r.call(arguments,2);if(i(e)){var s=function(){return e.apply(n,a?a.concat(r.call(arguments)):arguments)};return s._zid=p(e),s}if(o(n))return a?(a.unshift(e[n],e),t.proxy.apply(null,a)):t.proxy(e[n],e);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var v=function(){return!0},E=function(){return!1},b=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function w(n,r){return!r&&n.isDefaultPrevented||(r||(r=n),t.each(T,(function(t,e){var i=r[t];n[t]=function(){return this[e]=v,i&&i.apply(r,arguments)},n[e]=E})),(r.defaultPrevented!==e?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(n.isDefaultPrevented=v)),n}function _(t){var n,r={originalEvent:t};for(n in t)b.test(n)||t[n]===e||(r[n]=t[n]);return w(r,t)}t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(n,a,s,c,l){var u,p,d=this;return n&&!o(n)?(t.each(n,(function(t,e){d.on(t,a,s,e,l)})),d):(o(a)||i(c)||!1===c||(c=s,s=a,a=e),(i(s)||!1===s)&&(c=s,s=e),!1===c&&(c=E),d.each((function(e,i){l&&(u=function(t){return y(i,t.type,c),c.apply(this,arguments)}),a&&(p=function(e){var n,o=t(e.target).closest(a,i).get(0);if(o&&o!==i)return n=t.extend(_(e),{currentTarget:o,liveFired:i}),(u||c).apply(o,[n].concat(r.call(arguments,1)))}),m(i,n,c,s,a,p||u)})))},t.fn.off=function(n,r,a){var s=this;return n&&!o(n)?(t.each(n,(function(t,e){s.off(t,r,e)})),s):(o(r)||i(a)||!1===a||(a=r,r=e),!1===a&&(a=E),s.each((function(){y(this,n,a,r)})))},t.fn.trigger=function(e,n){return(e=o(e)||t.isPlainObject(e)?t.Event(e):w(e))._args=n,this.each((function(){e.type in l&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)}))},t.fn.triggerHandler=function(e,n){var r,i;return this.each((function(a,s){(r=_(o(e)?t.Event(e):e))._args=n,r.target=s,t.each(d(s,e.type||e),(function(t,e){if(i=e.proxy(r),r.isImmediatePropagationStopped())return!1}))})),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}})),t.Event=function(t,e){o(t)||(t=(e=t).type);var n=document.createEvent(s[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),w(n)}}(n),function(t){var e,n,r=0,i=window.document,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,a=/^(?:text|application)\/javascript/i,s=/^(?:text|application)\/xml/i,c="application/json",l="text/html",u=/^\s*$/,p=i.createElement("a");function d(e,n,r,o){if(e.global)return function(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}(n||i,r,o)}function h(t,e){var n=e.context;if(!1===e.beforeSend.call(n,t,e)||!1===d(e,n,"ajaxBeforeSend",[t,e]))return!1;d(e,n,"ajaxSend",[t,e])}function f(t,e,n,r){var i=n.context,o="success";n.success.call(i,t,o,e),r&&r.resolveWith(i,[t,o,e]),d(n,i,"ajaxSuccess",[e,n,t]),m(o,e,n)}function g(t,e,n,r,i){var o=r.context;r.error.call(o,n,e,t),i&&i.rejectWith(o,[n,e,t]),d(r,o,"ajaxError",[n,r,t||e]),m(e,n,r)}function m(e,n,r){var i=r.context;r.complete.call(i,n,e),d(r,i,"ajaxComplete",[n,r]),function(e){e.global&&!--t.active&&d(e,null,"ajaxStop")}(r)}function y(){}function v(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function E(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}p.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var o,a,s=e.jsonpCallback,c=(t.isFunction(s)?s():s)||"jsonp"+ ++r,l=i.createElement("script"),u=window[c],p=function(e){t(l).triggerHandler("error",e||"abort")},d={abort:p};return n&&n.promise(d),t(l).on("load error",(function(r,i){clearTimeout(a),t(l).off().remove(),"error"!=r.type&&o?f(o[0],d,e,n):g(null,i||"error",d,e,n),window[c]=u,o&&t.isFunction(u)&&u(o[0]),u=o=void 0})),!1===h(d,e)?(p("abort"),d):(window[c]=function(){o=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),i.head.appendChild(l),e.timeout>0&&(a=setTimeout((function(){p("timeout")}),e.timeout)),d)},t.ajaxSettings={type:"GET",beforeSend:y,success:y,error:y,complete:y,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:c,xml:"application/xml, text/xml",html:l,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(r){var o,m=t.extend({},r||{}),E=t.Deferred&&t.Deferred();for(e in t.ajaxSettings)void 0===m[e]&&(m[e]=t.ajaxSettings[e]);!function(e){e.global&&0==t.active++&&d(e,null,"ajaxStart")}(m),m.crossDomain||((o=i.createElement("a")).href=m.url,o.href=o.href,m.crossDomain=p.protocol+"//"+p.host!=o.protocol+"//"+o.host),m.url||(m.url=window.location.toString()),function(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=v(e.url,e.data),e.data=void 0)}(m);var b=m.dataType,T=/\?.+=\?/.test(m.url);if(T&&(b="jsonp"),!1!==m.cache&&(r&&!0===r.cache||"script"!=b&&"jsonp"!=b)||(m.url=v(m.url,"_="+Date.now())),"jsonp"==b)return T||(m.url=v(m.url,m.jsonp?m.jsonp+"=?":!1===m.jsonp?"":"callback=?")),t.ajaxJSONP(m,E);var w,_=m.accepts[b],S={},C=function(t,e){S[t.toLowerCase()]=[t,e]},A=/^([\w-]+:)\/\//.test(m.url)?RegExp.$1:window.location.protocol,I=m.xhr(),O=I.setRequestHeader;if(E&&E.promise(I),m.crossDomain||C("X-Requested-With","XMLHttpRequest"),C("Accept",_||"*/*"),(_=m.mimeType||_)&&(_.indexOf(",")>-1&&(_=_.split(",",2)[0]),I.overrideMimeType&&I.overrideMimeType(_)),(m.contentType||!1!==m.contentType&&m.data&&"GET"!=m.type.toUpperCase())&&C("Content-Type",m.contentType||"application/x-www-form-urlencoded"),m.headers)for(n in m.headers)C(n,m.headers[n]);if(I.setRequestHeader=C,I.onreadystatechange=function(){if(4==I.readyState){I.onreadystatechange=y,clearTimeout(w);var e,n=!1;if(I.status>=200&&I.status<300||304==I.status||0==I.status&&"file:"==A){b=b||function(t){return t&&(t=t.split(";",2)[0]),t&&(t==l?"html":t==c?"json":a.test(t)?"script":s.test(t)&&"xml")||"text"}(m.mimeType||I.getResponseHeader("content-type")),e=I.responseText;try{"script"==b?(0,eval)(e):"xml"==b?e=I.responseXML:"json"==b&&(e=u.test(e)?null:t.parseJSON(e))}catch(t){n=t}n?g(n,"parsererror",I,m,E):f(e,I,m,E)}else g(I.statusText||null,I.status?"error":"abort",I,m,E)}},!1===h(I,m))return I.abort(),g(null,"abort",I,m,E),I;try{if(m.xhrFields)for(n in m.xhrFields)I[n]=m.xhrFields[n]}catch(t){}var x=!("async"in m)||m.async;for(n in I.open(m.type,m.url,x,m.username,m.password),S)O.apply(I,S[n]);return m.timeout>0&&(w=setTimeout((function(){I.onreadystatechange=y,I.abort(),g(null,"timeout",I,m,E)}),m.timeout)),I.send(m.data?m.data:null),I},t.get=function(){return t.ajax(E.apply(null,arguments))},t.post=function(){var e=E.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=E.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,a=this,s=e.split(/\s/),c=E(e,n,r),l=c.success;return s.length>1&&(c.url=s[0],i=s[1]),c.success=function(e){a.html(i?t("<div>").html(e.replace(o,"")).find(i):e),l&&l.apply(a,arguments)},t.ajax(c),this};var b=encodeURIComponent;function T(e,n,r,i){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,(function(n,c){o=t.type(c),i&&(n=r?i:i+"["+(s||"object"==o||"array"==o?n:"")+"]"),!i&&a?e.add(c.name,c.value):"array"==o||!r&&"object"==o?T(e,c,r,n):e.add(n,c)}))}t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(b(e)+"="+b(n))},T(r,e,n),r.join("&").replace(/%20/g,"+")}}(n),(e=n).fn.serializeArray=function(){var t,n,r=[],i=function(e){if(e.forEach)return e.forEach(i);r.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,(function(r,o){n=o.type,(t=o.name)&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(e(o).val())})),r},e.fn.serialize=function(){var t=[];return this.serializeArray().forEach((function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))})),t.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this},function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}})}(n),function(t){var e=t.zepto,n=e.qsa,r=e.matches;function i(e){return!(!(e=t(e)).width()&&!e.height())&&"none"!==e.css("display")}var o=e.cssFilters={visible:function(){if(i(this))return this},hidden:function(){if(!i(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(t){if(0===t)return this},last:function(t,e){if(t===e.length-1)return this},eq:function(t,e,n){if(t===n)return this},contains:function(e,n,r){if(t(this).text().indexOf(r)>-1)return this},has:function(t,n,r){if(e.qsa(this,r).length)return this}},a=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*");function s(t,e){var n=t.match(a);if(n&&n[2]in o){var r=o[n[2]],i=n[3];if(t=n[1],i){var s=Number(i);i=isNaN(s)?i.replace(/^["']|["']$/g,""):s}}return e(t,r,i)}e.qsa=function(r,i){return s(i,(function(o,a,s){try{!o&&a&&(o="*");var c=n(r,o)}catch(t){throw console.error("error performing selector: %o",i),t}return a?e.uniq(t.map(c,(function(t,e){return a.call(t,e,c,s)}))):c}))},e.matches=function(t,e){return s(e,(function(e,n,i){return(!e||r(t,e))&&(!n||n.call(t,null,i)===t)}))}}(n)},4490:(t,e,n)=>{"use strict";function r(t,e){return(e+t%e)%e}n.r(e),n.d(e,{positive_modulo:()=>r})}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n(458),n(2074);n(5633)})();