!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){function b(a){if(a in l.style)return a;for(var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1),d=0;d<b.length;++d){var e=b[d]+c;if(e in l.style)return e}}function c(){return l.style[m.transform]="",l.style[m.transform]="rotateY(90deg)",""!==l.style[m.transform]}function d(a){return"string"==typeof a&&this.parse(a),this}function e(a,b,c){b===!0?a.queue(c):b?a.queue(b,c):a.each(function(){c.call(this)})}function f(b){var c=[];return a.each(b,function(b){b=a.camelCase(b),b=a.transit.propertyMap[b]||a.cssProps[b]||b,b=i(b),m[b]&&(b=i(m[b])),a.inArray(b,c)===-1&&c.push(b)}),c}function g(b,c,d,e){var g=f(b);a.cssEase[d]&&(d=a.cssEase[d]);var h=""+k(c)+" "+d;parseInt(e,10)>0&&(h+=" "+k(e));var i=[];return a.each(g,function(a,b){i.push(b+" "+h)}),i.join(", ")}function h(b,c){c||(a.cssNumber[b]=!0),a.transit.propertyMap[b]=m.transform,a.cssHooks[b]={get:function(c){var d=a(c).css("transit:transform");return d.get(b)},set:function(c,d){var e=a(c).css("transit:transform");e.setFromString(b,d),a(c).css({"transit:transform":e})}}}function i(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function j(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function k(b){var c=b;return"string"!=typeof c||c.match(/^[\-0-9\.]+/)||(c=a.fx.speeds[c]||a.fx.speeds._default),j(c,"ms")}a.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),m={},n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;m.transition=b("transition"),m.transitionDelay=b("transitionDelay"),m.transform=b("transform"),m.transformOrigin=b("transformOrigin"),m.filter=b("Filter"),m.transform3d=c();var o={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},p=m.transitionEnd=o[m.transition]||null;for(var q in m)m.hasOwnProperty(q)&&"undefined"==typeof a.support[q]&&(a.support[q]=m[q]);return l=null,a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},a.cssHooks["transit:transform"]={get:function(b){return a(b).data("transform")||new d},set:function(b,c){var e=c;e instanceof d||(e=new d(e)),"WebkitTransform"!==m.transform||n?b.style[m.transform]=e.toString():b.style[m.transform]=e.toString(!0),a(b).data("transform",e)}},a.cssHooks.transform={set:a.cssHooks["transit:transform"].set},a.cssHooks.filter={get:function(a){return a.style[m.filter]},set:function(a,b){a.style[m.filter]=b}},a.fn.jquery<"1.8"&&(a.cssHooks.transformOrigin={get:function(a){return a.style[m.transformOrigin]},set:function(a,b){a.style[m.transformOrigin]=b}},a.cssHooks.transition={get:function(a){return a.style[m.transition]},set:function(a,b){a.style[m.transition]=b}}),h("scale"),h("scaleX"),h("scaleY"),h("translate"),h("rotate"),h("rotateX"),h("rotateY"),h("rotate3d"),h("perspective"),h("skewX"),h("skewY"),h("x",!0),h("y",!0),d.prototype={setFromString:function(a,b){var c="string"==typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a),d.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=j(a,"deg")},rotateX:function(a){this.rotateX=j(a,"deg")},rotateY:function(a){this.rotateY=j(a,"deg")},scale:function(a,b){void 0===b&&(b=a),this.scale=a+","+b},skewX:function(a){this.skewX=j(a,"deg")},skewY:function(a){this.skewY=j(a,"deg")},perspective:function(a){this.perspective=j(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==a&&void 0!==a&&(this._translateX=j(a,"px")),null!==b&&void 0!==b&&(this._translateY=j(b,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");return a[0]&&(a[0]=parseFloat(a[0])),a[1]&&(a[1]=parseFloat(a[1])),a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;b<=3;++b)a[b]&&(a[b]=parseFloat(a[b]));return a[3]&&(a[3]=j(a[3],"deg")),a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this)if(this.hasOwnProperty(c)){if(!m.transform3d&&("rotateX"===c||"rotateY"===c||"perspective"===c||"transformOrigin"===c))continue;"_"!==c[0]&&(a&&"scale"===c?b.push(c+"3d("+this[c]+",1)"):a&&"translate"===c?b.push(c+"3d("+this[c]+",0)"):b.push(c+"("+this[c]+")"))}return b.join(" ")}},a.fn.transition=a.fn.transit=function(b,c,d,f){var h=this,i=0,j=!0,l=a.extend(!0,{},b);"function"==typeof c&&(f=c,c=void 0),"object"==typeof c&&(d=c.easing,i=c.delay||0,j="undefined"==typeof c.queue||c.queue,f=c.complete,c=c.duration),"function"==typeof d&&(f=d,d=void 0),"undefined"!=typeof l.easing&&(d=l.easing,delete l.easing),"undefined"!=typeof l.duration&&(c=l.duration,delete l.duration),"undefined"!=typeof l.complete&&(f=l.complete,delete l.complete),"undefined"!=typeof l.queue&&(j=l.queue,delete l.queue),"undefined"!=typeof l.delay&&(i=l.delay,delete l.delay),"undefined"==typeof c&&(c=a.fx.speeds._default),"undefined"==typeof d&&(d=a.cssEase._default),c=k(c);var n=g(l,c,d,i),o=a.transit.enabled&&m.transition,q=o?parseInt(c,10)+parseInt(i,10):0;if(0===q){var r=function(a){h.css(l),f&&f.apply(h),a&&a()};return e(h,j,r),h}var s={},t=function(b){var c=!1,d=function(){c&&h.unbind(p,d),q>0&&h.each(function(){this.style[m.transition]=s[this]||null}),"function"==typeof f&&f.apply(h),"function"==typeof b&&b()};q>0&&p&&a.transit.useTransitionEnd?(c=!0,h.bind(p,d)):window.setTimeout(d,q),h.each(function(){q>0&&(this.style[m.transition]=n),a(this).css(l)})},u=function(a){this.offsetWidth,t(a)};return e(h,j,u),this},a.transit.getTransitionValue=g,a});
!function(a){a.extend({debounce:function(a,b,c,d){3==arguments.length&&"boolean"!=typeof c&&(d=c,c=!1);var e;return function(){var f=arguments;d=d||this,c&&!e&&a.apply(d,f),clearTimeout(e),e=setTimeout(function(){c||a.apply(d,f),e=null},b)}},throttle:function(a,b,c){var d,e,f;return function(){e=arguments,f=!0,c=c||this,d||function(){f?(a.apply(c,e),f=!1,d=setTimeout(arguments.callee,b)):d=null}()}}})}(jQuery);
!function(){function a(a){this.message=a}var b="undefined"!=typeof exports?exports:self,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.prototype=new Error,a.prototype.name="InvalidCharacterError",b.btoa||(b.btoa=function(b){for(var d,e,f=String(b),g=0,h=c,i="";f.charAt(0|g)||(h="=",g%1);i+=h.charAt(63&d>>8-g%1*8)){if(e=f.charCodeAt(g+=.75),e>255)throw new a("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");d=d<<8|e}return i}),b.atob||(b.atob=function(b){var d=String(b).replace(/=+$/,"");if(d.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,f,g=0,h=0,i="";f=d.charAt(h++);~f&&(e=g%4?64*e+f:f,g++%4)?i+=String.fromCharCode(255&e>>(-2*g&6)):0)f=c.indexOf(f);return i})}();
!function(a){var b=/iPhone/i,c=/iPod/i,d=/iPad/i,e=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,g=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,h=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,i=/IEMobile/i,j=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,k=/BlackBerry/i,l=/BB10/i,m=/Opera Mini/i,n=/(CriOS|Chrome)(?=.*\bMobile\b)/i,o=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,p=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),q=function(a,b){return a.test(b)},r=function(a){var r=a||navigator.userAgent,s=r.split("[FBAN");return"undefined"!=typeof s[1]&&(r=s[0]),s=r.split("Twitter"),"undefined"!=typeof s[1]&&(r=s[0]),this.apple={phone:q(b,r),ipod:q(c,r),tablet:!q(b,r)&&q(d,r),device:q(b,r)||q(c,r)||q(d,r)},this.amazon={phone:q(g,r),tablet:!q(g,r)&&q(h,r),device:q(g,r)||q(h,r)},this.android={phone:q(g,r)||q(e,r),tablet:!q(g,r)&&!q(e,r)&&(q(h,r)||q(f,r)),device:q(g,r)||q(h,r)||q(e,r)||q(f,r)},this.windows={phone:q(i,r),tablet:q(j,r),device:q(i,r)||q(j,r)},this.other={blackberry:q(k,r),blackberry10:q(l,r),opera:q(m,r),firefox:q(o,r),chrome:q(n,r),device:q(k,r)||q(l,r)||q(m,r)||q(o,r)||q(n,r)},this.seven_inch=q(p,r),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},s=function(){var a=new r;return a.Class=r,a};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=r:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=s():"function"==typeof define&&define.amd?define("isMobile",[],a.isMobile=s()):a.isMobile=s()}(this);
/*! modernizr 3.4.0 (Custom Build) | MIT *
 * https://modernizr.com/download/?-mq-setclasses !*/
!function(e,n,t){function o(e,n){return typeof e===n}function a(){var e,n,t,a,s,i,r;for(var l in d)if(d.hasOwnProperty(l)){if(e=[],n=d[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(a=o(n.fn,"function")?n.fn():n.fn,s=0;s<e.length;s++)i=e[s],r=i.split("."),1===r.length?Modernizr[r[0]]=a:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=a),f.push((a?"":"no-")+r.join("-"))}}function s(e){var n=u.className,t=Modernizr._config.classPrefix||"";if(p&&(n=n.baseVal),Modernizr._config.enableJSClass){var o=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");n=n.replace(o,"$1"+t+"js$2")}Modernizr._config.enableClasses&&(n+=" "+t+e.join(" "+t),p?u.className.baseVal=n:u.className=n)}function i(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):p?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function r(){var e=n.body;return e||(e=i(p?"svg":"body"),e.fake=!0),e}function l(e,t,o,a){var s,l,f,d,c="modernizr",p=i("div"),m=r();if(parseInt(o,10))for(;o--;)f=i("div"),f.id=a?a[o]:c+(o+1),p.appendChild(f);return s=i("style"),s.type="text/css",s.id="s"+c,(m.fake?m:p).appendChild(s),m.appendChild(p),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(n.createTextNode(e)),p.id=c,m.fake&&(m.style.background="",m.style.overflow="hidden",d=u.style.overflow,u.style.overflow="hidden",u.appendChild(m)),l=t(p,e),m.fake?(m.parentNode.removeChild(m),u.style.overflow=d,u.offsetHeight):p.parentNode.removeChild(p),!!l}var f=[],d=[],c={_version:"3.4.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){d.push({name:e,fn:n,options:t})},addAsyncTest:function(e){d.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=c,Modernizr=new Modernizr;var u=n.documentElement,p="svg"===u.nodeName.toLowerCase(),m=function(){var n=e.matchMedia||e.msMatchMedia;return n?function(e){var t=n(e);return t&&t.matches||!1}:function(n){var t=!1;return l("@media "+n+" { #modernizr { position: absolute; } }",function(n){t="absolute"==(e.getComputedStyle?e.getComputedStyle(n,null):n.currentStyle).position}),t}}();c.mq=m,a(),s(f),delete c.addTest,delete c.addAsyncTest;for(var h=0;h<Modernizr._q.length;h++)Modernizr._q[h]();e.Modernizr=Modernizr}(window,document);

!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(t,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(t),appendDots:i(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return i('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(t),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(t).data("slick")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=e++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):!0===o?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),!1===s.options.vertical?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};!1===e.options.fade?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(!1===i.options.infinite&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1==0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(!0===o.options.dots){for(o.$slider.addClass("slick-dotted"),t=i("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>1){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if("window"===r.respondTo?n=a:"slider"===r.respondTo?n=d:"min"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||!1===l||r.$slider.trigger("breakpoint",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is("a")&&e.preventDefault(),l.is("li")||(l=l.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case"next":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case"index":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t;if(e=this.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var o in e){if(i<e[o]){i=t;break}t=e[o]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",i.proxy(e.interrupt,e,!0)).off("mouseleave.slick",i.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>1&&((i=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){!1===this.shouldClick&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;!1===t.cssTransitions?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;!1===e.cssTransitions?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=o.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(!0===i.options.infinite)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(!0===i.options.centerMode)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!=0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){return this.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(!1===e.options.infinite?i=e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o=this;return t=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(s,n){if(n.offsetLeft-t+i(n).outerWidth()/2>-1*o.swipeLeft)return e=n,!1}),Math.abs(i(e).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){this.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass("slick-initialized")||(i(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){var s=o.indexOf(t);i(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+t,tabindex:-1}),-1!==s&&i(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+s})}),e.$dots.attr("role","tablist").find("li").each(function(s){var n=o[s];i(this).attr({role:"presentation"}),i(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+s,"aria-controls":"slick-slide"+e.instanceUid+n,"aria-label":s+1+" of "+t,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.$slides.eq(s).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow.on("keydown.slick",i.keyHandler),i.$nextArrow.on("keydown.slick",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.interrupt,e,!0)).on("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===i.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=i(this).attr("data-srcset"),s=i(this).attr("data-sizes")||n.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr("srcset",o),s&&e.attr("sizes",s)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),n.$slider.trigger("lazyLoaded",[n,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,e,t])},r.src=t})}var t,o,s,n=this;if(!0===n.options.centerMode?!0===n.options.infinite?s=(o=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(o=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),s=n.options.slidesToShow/2+1+2+n.currentSlide):(o=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,s=Math.ceil(o+n.options.slidesToShow),!0===n.options.fade&&(o>0&&o--,s<=n.slideCount&&s++)),t=n.$slider.find(".slick-slide").slice(o,s),"anticipated"===n.options.lazyLoad)for(var r=o-1,l=s,d=n.$slider.find(".slick-slide"),a=0;a<n.options.slidesToScroll;a++)r<0&&(r=n.slideCount-1),t=(t=t.add(d.eq(r))).add(d.eq(l)),r--,l++;e(t),n.slideCount<=n.options.slidesToShow?e(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?e(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&e(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&i(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i("img[data-lazy]",l.$slider);d.length?(t=d.first(),o=t.attr("data-lazy"),s=t.attr("data-srcset"),n=t.attr("data-sizes")||l.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){s&&(t.attr("srcset",s),n&&t.attr("sizes",n)),t.attr("src",o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===l.options.adaptiveHeight&&l.setPosition(),l.$slider.trigger("lazyLoaded",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),l.$slider.trigger("lazyLoadError",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger("allImagesLoaded",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||"window";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;if(i="boolean"==typeof i?!0===(e=i)?0:o.slideCount-1:!0===e?--i:i,o.slideCount<1||i<0||i>o.slideCount-1)return!1;o.unload(),!0===t?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},e.prototype.setCSS=function(i){var e,t,o=this,s={};!0===o.options.rtl&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,!1===o.transformsEnabled?o.$slideTrack.css(s):(s={},!1===o.cssTransitions?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;!1===i.options.vertical?!0===i.options.centerMode&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),!0===i.options.centerMode&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),!1===i.options.vertical&&!1===i.options.variableWidth?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):!0===i.options.variableWidth?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();!1===i.options.variableWidth&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,!0===t.options.rtl?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if("object"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n="multiple"):"string"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],"responsive"===arguments[0]&&"array"===i.type(arguments[1])?n="responsive":void 0!==arguments[1]&&(n="single")),"single"===n)r.options[o]=s;else if("multiple"===n)i.each(o,function(i,e){r.options[i]=e});else if("responsive"===n)for(t in s)if("array"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),!1===i.options.fade?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=!0===i.options.vertical?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===i.options.useCSS&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&!1!==i.animType&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&!1!==i.animType},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));s||(s=0),t.slideCount<=t.options.slidesToShow?t.slideHandler(s,!1,!0):t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===i))if(!1===e&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(i<0||i>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(i<0||i>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=(l=a.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==t?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight();!0!==t?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s)}},e.prototype.startLoad=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),(o=Math.round(180*t/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0?!1===s.options.rtl?"left":"right":o<=360&&o>=315?!1===s.options.rtl?"left":"right":o>=135&&o<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?o>=35&&o<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(!0===l.options.verticalSwiping&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(!1===l.options.rtl?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),!0===l.options.verticalSwiping&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,!1===l.options.infinite&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),!1===l.options.vertical?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,!0===l.options.verticalSwiping&&(l.swipeLeft=e+o*s),!0!==l.options.fade&&!1!==l.options.touchMove&&(!0===l.animating?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,t.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i=this;Math.floor(i.options.slidesToShow/2),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&!1===i.options.centerMode?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-1&&!0===i.options.centerMode&&(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").end(),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if("object"==typeof s||void 0===s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),void 0!==t)return t;return o}});

/*! lazysizes - v5.0.0 */
!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d,e=b.documentElement,f=a.Date,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h],k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),p[b].test(a[i]("class")||"")&&p[b]},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b)},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute("class",(a[i]("class")||"").replace(c," "))},u=function(a,b,c){var d=c?h:"removeEventListener";c&&u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,d,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=c,h.initEvent(d,!f,!g),h.detail=e,a.dispatchEvent(h),h},w=function(b,c){var e;!g&&(e=a.picturefill||d.pf)?(c&&c.src&&!b[i]("srcset")&&b.setAttribute("srcset",c.src),e({reevaluate:!0,elements:[b]})):c&&c.src&&(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){for(c=c||a.offsetWidth;c<d.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,c=0,e=d.throttleDelay,g=d.ricTimeout,h=function(){b=!1,c=f.now(),a()},i=m&&g>49?function(){m(h,{timeout:g}),g!==d.ricTimeout&&(g=d.ricTimeout)}:A(function(){k(h)},!0);return function(a){var d;(a=!0===a)&&(g=33),b||(b=!0,d=e-(f.now()-c),d<0&&(d=0),a||d<9?i():k(i,d))}},C=function(a){var b,c,d=99,e=function(){b=null,a()},g=function(){var a=f.now()-c;a<d?k(g,d-a):(m||e)(e)};return function(){c=f.now(),b||(b=k(g,d))}};!function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};d=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in d||(d[b]=c[b]);k(function(){d.init&&F()})}();var D=function(){var g,l,m,o,p,y,D,F,G,H,I,J,K=/^img$/i,L=/^iframe$/i,M="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),N=0,O=0,P=0,Q=-1,R=function(a){P--,(!a||P<0||!a.target)&&(P=0)},S=function(a){return null==J&&(J="hidden"==x(b.body,"visibility")),J||"hidden"!=x(a.parentNode,"visibility")&&"hidden"!=x(a,"visibility")},T=function(a,c){var d,f=a,g=S(a);for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=e;)(g=(x(f,"opacity")||1)>0)&&"visible"!=x(f,"overflow")&&(d=f.getBoundingClientRect(),g=H>d.left&&G<d.right&&I>d.top-1&&F<d.bottom+1);return g},U=function(){var a,f,h,j,k,m,n,p,q,r,s,t,u=c.elements;if((o=d.loadMode)&&P<8&&(a=u.length)){for(f=0,Q++;f<a;f++)if(u[f]&&!u[f]._lazyRace)if(!M||c.prematureUnveil&&c.prematureUnveil(u[f]))aa(u[f]);else if((p=u[f][i]("data-expand"))&&(m=1*p)||(m=O),r||(r=!d.expand||d.expand<1?e.clientHeight>500&&e.clientWidth>500?500:370:d.expand,c._defEx=r,s=r*d.expFactor,t=d.hFac,J=null,O<s&&P<1&&Q>2&&o>2&&!b.hidden?(O=s,Q=0):O=o>1&&Q>1&&P<6?r:N),q!==m&&(y=innerWidth+m*t,D=innerHeight+m,n=-1*m,q=m),h=u[f].getBoundingClientRect(),(I=h.bottom)>=n&&(F=h.top)<=D&&(H=h.right)>=n*t&&(G=h.left)<=y&&(I||H||G||F)&&(d.loadHidden||S(u[f]))&&(l&&P<3&&!p&&(o<3||Q<4)||T(u[f],m))){if(aa(u[f]),k=!0,P>9)break}else!k&&l&&!j&&P<4&&Q<4&&o>2&&(g[0]||d.preloadAfterLoad)&&(g[0]||!p&&(I||H||G||F||"auto"!=u[f][i](d.sizesAttr)))&&(j=g[0]||u[f]);j&&!k&&aa(j)}},V=B(U),W=function(a){var b=a.target;if(b._lazyCache)return void delete b._lazyCache;R(a),s(b,d.loadedClass),t(b,d.loadingClass),u(b,Y),v(b,"lazyloaded")},X=A(W),Y=function(a){X({target:a.target})},Z=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},$=function(a){var b,c=a[i](d.srcsetAttr);(b=d.customMedia[a[i]("data-media")||a[i]("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},_=A(function(a,b,c,e,f){var g,h,j,l,o,p;(o=v(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(c?s(a,d.autosizesClass):a.setAttribute("sizes",e)),h=a[i](d.srcsetAttr),g=a[i](d.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||l),o={target:a},s(a,d.loadingClass),p&&(clearTimeout(m),m=k(R,2500),u(a,Y,!0)),l&&q.call(j.getElementsByTagName("source"),$),h?a.setAttribute("srcset",h):g&&!l&&(L.test(a.nodeName)?Z(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,d.lazyClass),z(function(){var b=a.complete&&a.naturalWidth>1;p&&!b||(b&&s(a,"ls-is-cached"),W(o),a._lazyCache=!0,k(function(){"_lazyCache"in a&&delete a._lazyCache},9)),"lazy"==a.loading&&P--},!0)}),aa=function(a){if(!a._lazyRace){var b,c=K.test(a.nodeName),e=c&&(a[i](d.sizesAttr)||a[i]("sizes")),f="auto"==e;(!f&&l||!c||!a[i]("src")&&!a.srcset||a.complete||r(a,d.errorClass)||!r(a,d.lazyClass))&&(b=v(a,"lazyunveilread").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,P++,_(a,b,f,e,c))}},ba=C(function(){d.loadMode=3,V()}),ca=function(){3==d.loadMode&&(d.loadMode=2),ba()},da=function(){if(!l){if(f.now()-p<999)return void k(da,999);l=!0,d.loadMode=3,V(),j("scroll",ca,!0)}};return{_:function(){p=f.now(),c.elements=b.getElementsByClassName(d.lazyClass),g=b.getElementsByClassName(d.lazyClass+" "+d.preloadClass),j("scroll",V,!0),j("resize",V,!0),a.MutationObserver?new MutationObserver(V).observe(e,{childList:!0,subtree:!0,attributes:!0}):(e[h]("DOMNodeInserted",V,!0),e[h]("DOMAttrModified",V,!0),setInterval(V,999)),j("hashchange",V,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(a){b[h](a,V,!0)}),/d$|^c/.test(b.readyState)?da():(j("load",da),b[h]("DOMContentLoaded",V),k(da,2e4)),c.elements.length?(U(),z._lsFlush()):V()},checkElems:V,unveil:aa,_aLSL:ca}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),n.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||w(a,c.detail)}),e=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&&d!==a._lazysizesWidth&&c(a,f,e,d))},f=function(){var b,c=a.length;if(c)for(b=0;b<c;b++)e(a[b])},g=C(f);return{_:function(){a=b.getElementsByClassName(d.autosizesClass),j("resize",g)},checkElems:g,updateElem:e}}(),F=function(){F.i||(F.i=!0,E._(),D._())};return c={cfg:d,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}}});
/*! lazysizes - v5.0.0 */
!function(a,b){var c=function(){b(a.lazySizes),a.removeEventListener("lazyunveilread",c,!0)};b=b.bind(null,a,a.document),"object"==typeof module&&module.exports?b(require("lazysizes")):a.lazySizes?c():a.addEventListener("lazyunveilread",c,!0)}(window,function(a,b,c){"use strict";function d(a,c){if(!g[a]){var d=b.createElement(c?"link":"script"),e=b.getElementsByTagName("script")[0];c?(d.rel="stylesheet",d.href=a):d.src=a,g[a]=!0,g[d.src||d.href]=!0,e.parentNode.insertBefore(d,e)}}var e,f,g={};b.addEventListener&&(f=/\(|\)|\s|'/,e=function(a,c){var d=b.createElement("img");d.onload=function(){d.onload=null,d.onerror=null,d=null,c()},d.onerror=d.onload,d.src=a,d&&d.complete&&d.onload&&d.onload()},addEventListener("lazybeforeunveil",function(a){if(a.detail.instance==c){var b,g,h,i;a.defaultPrevented||("none"==a.target.preload&&(a.target.preload="auto"),b=a.target.getAttribute("data-link"),b&&d(b,!0),b=a.target.getAttribute("data-script"),b&&d(b),b=a.target.getAttribute("data-require"),b&&(c.cfg.requireJs?c.cfg.requireJs([b]):d(b)),h=a.target.getAttribute("data-bg"),h&&(a.detail.firesLoad=!0,g=function(){a.target.style.backgroundImage="url("+(f.test(h)?JSON.stringify(h):h)+")",a.detail.firesLoad=!1,c.fire(a.target,"_lazyloaded",{},!0,!0)},e(h,g)),(i=a.target.getAttribute("data-poster"))&&(a.detail.firesLoad=!0,g=function(){a.target.poster=i,a.detail.firesLoad=!1,c.fire(a.target,"_lazyloaded",{},!0,!0)},e(i,g)))}},!1))});
!function(a){a.fn.animatedModal=function(n){function o(){m.css({"z-index":e.zIndexOut}),e.afterClose()}function t(){e.afterOpen()}var i=a(this),e=a.extend({modalTarget:"animatedModal",position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndexIn:"9999",zIndexOut:"-9999",color:"#39BEB9",opacityIn:"1",opacityOut:"0",animatedIn:"zoomIn",animatedOut:"zoomOut",animationDuration:".6s",overflow:"auto",beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},n),d=a(".close-"+e.modalTarget),s=a(i).attr("href"),m=a("body").find("#"+e.modalTarget),l="#"+m.attr("id");m.addClass("animated"),m.addClass(e.modalTarget+"-off");var r={position:e.position,width:e.width,height:e.height,top:e.top,left:e.left,"background-color":e.color,"overflow-y":e.overflow,"z-index":e.zIndexOut,opacity:e.opacityOut,"-webkit-animation-duration":e.animationDuration,"-moz-animation-duration":e.animationDuration,"-ms-animation-duration":e.animationDuration,"animation-duration":e.animationDuration};m.css(r),i.click(function(n){n.preventDefault(),a("body, html").css({overflow:"hidden"}),s==l&&(m.hasClass(e.modalTarget+"-off")&&(m.removeClass(e.animatedOut),m.removeClass(e.modalTarget+"-off"),m.addClass(e.modalTarget+"-on")),m.hasClass(e.modalTarget+"-on")&&(e.beforeOpen(),m.css({opacity:e.opacityIn,"z-index":e.zIndexIn}),m.addClass(e.animatedIn),m.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t)))}),d.click(function(n){n.preventDefault(),a("body, html").css({overflow:"auto"}),e.beforeClose(),m.hasClass(e.modalTarget+"-on")&&(m.removeClass(e.modalTarget+"-on"),m.addClass(e.modalTarget+"-off")),m.hasClass(e.modalTarget+"-off")&&(m.removeClass(e.animatedIn),m.addClass(e.animatedOut),m.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",o))})}}(jQuery);



(function($){'use strict';var AudioBarHelper=function(){var a={audioEl:"#audio-player",audioElRoot:"#audio-player audio",bar:".m-audio__bar",barCloseBtn:".m-audio__bar .action__close"},b=$(a.bar);return{SELECTORS:a,setTrackData:function(a){b.length&&(b.find(".bar__link").attr("href",a.itemArticleUrl),b.find(".content__coverImg img").attr("src",a.itemCoverImageUrl),b.find(".content__coverImg img").attr("data-src",a.itemCoverImageUrl),b.find(".details__title").html(a.itemTitle),b.find(".content__details").attr("data-article-id",a.itemArticleId),b.find(".details__author").html(a.itemAuthorName))},getTrackData:function(){if(!b.length)return null;var a=Number(b.find(".content__details").attr("data-article-id")),c=b.find(".details__title").html();return"---"===c&&(c=""),{articleId:a,articleTitle:c}}}}();
var ContentMgr={toggleFreeAcountContent:function(a){a?($(".user-show").show().removeClass("user-show"),$(".user-hide").remove()):($(".user-show").remove(),$(".user-hide").show().removeClass("user-hide"))},togglePremiumAccountContent:function(a){var b=UserAccountMgr.isUserPremium(a);b?($(".user-premium-show").show().removeClass("user-premium-show"),$(".user-premium-hide").remove()):($(".user-premium-show").remove(),$(".user-premium-hide").show().removeClass("user-premium-hide"))}};
var CookieMgr={cookie_gli:{name:"SGU-TOKEN"},cookie_jwt:{name:"user_jwt"},cookie_SFForceFullRefresh:{name:"sf_forcefull_refresh",value:"true"},cookie_cmp:{name:"showCmp"},getCookie:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return""},setCookie:function(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3),this.setCookieUntilDate(a,b,d)},setSessionCookie:function(a,b){var c=this.getCookieDomain(a);c&&(c=" domain="+c+"; ");var d=" SameSite=Strict; ";document.cookie=a+"="+b+"; path=/; "+c+d},setCookieUntilDate:function(a,b,c){var d=" expires="+c.toUTCString(),e=this.getCookieDomain(a);e&&(e=" domain="+e+"; ");var f=" SameSite=Strict; ";document.cookie=a+"="+b+"; path=/; "+e+f+d},deleteCookie:function(a){var b=new Date;b.setTime(b.getTime()+-7776e6),this.setCookieUntilDate(a,"",b)},getCookieDomain:function(a){return[this.cookie_jwt.name,this.cookie_gli.name,this.cookie_cmp.name].indexOf(a)!==-1?"."+window.location.hostname.split(".").slice(1).join("."):""}};
var DDHelper=function(){this.DDHiglightCls="",this.DDHandler=function(a,b){return null},this.preventDDDefaults=function(a){a.preventDefault(),a.stopPropagation()},this.addDDHighlight=function(a){a.classList.add(this.DDHiglightCls)},this.removeDDHighlight=function(a){a.classList.remove(this.DDHiglightCls)},this.initDragDrop=function(a){var b=this;a.on("dragenter dragover",function(a){b.preventDDDefaults(a),b.addDDHighlight(this)}),a.on("dragleave",function(a){b.preventDDDefaults(a),b.removeDDHighlight(this)}),a.on("drop",function(a){b.preventDDDefaults(a),b.removeDDHighlight(this);var c=a.originalEvent.dataTransfer.files;b.DDHandler(this,c)})}};
var FilePreviewHelper=function(){this.getPreviewElement=function(a){return null},this.previewFileContents=function(a){var b=this.getPreviewElement(a);if(b&&a.files&&a.files[0]){var c=new FileReader;c.onload=function(a){$(b).attr("src",a.target.result)},c.readAsDataURL(a.files[0])}}};
var UserAccountMgr=function(){var a=null,b=CookieMgr.getCookie(CookieMgr.cookie_jwt.name);try{var c=b.split(".")[1],d=JSON.parse(atob(c));a=d.user}catch(e){}return{getLoggedUser:function(){return a},getUserId:function(a){return!!a&&(!!a.uid&&a.uid)},isUserPremium:function(a){return!!a&&!!a.prem}}}();
function Cha(){this.defaultTransition=300,this.overlayTransition=500,this.addPlugin=function(a,b){$.fn[a]=function(c){return this.each(function(){var d=$(this);if(d.data(a))return void d.data(a).init(d,c);var e=new b(d,c);d.data(a,e)})}},this.cloneOverlay=function(a){var b=$("#overlays").find(a).first();return b.clone()},this.getUrlParam=function(a){for(var b=location.search.substring(1).split("&"),c=0,d=b.length;c<d;c++){var e=b[c];if(e.startsWith(a+"="))return e.substring(a.length+1).toString()}},this.serializeForm=function(a){for(var b=a.serializeArray(),c={},d=0;d<b.length;d++){var e=b[d];c[e.name]=e.value}return c},this.hideFormErrors=function(a){a.find(".error").hide().empty()},this.showFormErrors=function(a,b){var c,d=b.responseText||b,e=[],f=a.find(".error");if("string"==typeof d)try{d=JSON.parse(d);for(c in d){var g=a.find("*[name="+c+"]");g.addClass("empty"),e.push((g.data("name")||c)+" : "+d[c])}}catch(h){e.push(d)}else e=d;if(e.length>0)for(f.show().empty(),c=0;c<e.length;c++)f.append("<li>"+e[c]+"</li>");else this.hideFormErrors(a)},this.validateForm=function(a,b){var c=this;if(a.find(".empty").removeClass("empty"),a[0].checkValidity){if(a[0].checkValidity())return!0;var d=[];return a.find(":invalid").each(function(){$(this).addClass("empty");var b,c=this.validity,e=$(this).attr("type"),f=$(this).attr("name");b=c.valueMissing&&"checkbox"===e?"Veuillez cocher cette case pour continuer.":c.valueMissing&&$(this).is("select")?"Veuillez sélectionner une valeur.":c.valueMissing?"Veuillez renseigner ce champ.":c.typeMismatch&&"email"===e?"Veuillez renseigner un email valide.":c.tooShort?"La valeur de ce champ est trop courte ("+$(this).attr("minlength")+" caractères min)":c.tooLong?"La valeur de ce champ est trop courte ("+$(this).attr("maxlength")+" caractères max)":c.customError&&"passwordConfirm"===f?"Les mots de passe ne correspondent pas.":c.customError&&"email"===f?"Cet email est déjà utilisé.":c.customError&&"username"===f?"Ce pseudo est déjà utilisé.":"Valeur incorrecte.";var g=a.find("*[name="+f+"]").data("name");d.push((g||f)+" : "+b)}),c.showFormErrors(b||a,d),!1}return!0},this.toggleUserBlocks=function(){var a=UserAccountMgr.getLoggedUser();ContentMgr.toggleFreeAcountContent(a),ContentMgr.togglePremiumAccountContent(a)},this.getAccountBaseUrl=function(){var a=$("body").data("account-base");return a?a:""},this.getBaseUrl=function(){var a=$("body").data("site-base");return a?a:""},this.isUserPremium=function(){var a=UserAccountMgr.getLoggedUser();return UserAccountMgr.isUserPremium(a)},this.getUserId=function(){var a=UserAccountMgr.getLoggedUser();return UserAccountMgr.getUserId(a)},this.getAudioSelectors=function(){return AudioBarHelper.SELECTORS},this.getAudioData=function(){return AudioBarHelper.getTrackData()}}var app=new Cha;
function ChaPooolMgr(a,b){this.init=function(a,b){this.el=a,this.params=b,this.initCmp()},this.initPoool=function(a,b){var c=this,d=$("#poool_init");if(d.length){var e=d.data();d.remove(),window.poool=window.poool||function(){(window.poool._q=window.poool._q||[]).push(arguments)},poool("init",e.key),poool("config","user_is_premium",a),e.custom_segment&&poool("config","custom_segment",e.custom_segment),poool("config","cookies_enabled",b),e.subscriptionUrl+="?redirect="+encodeURIComponent(window.location.href),e.loginUrl+="?redirect="+encodeURIComponent(window.location.href),poool("config","subscription_url",e.subscriptionUrl),poool("config","login_url",e.loginUrl),poool("config","ati_auto_tracking_enabled",!0);var f='<div class="temp-paywall"><div class="widget"><div class="inner"><div class="logo"></div><span class="title">Abonnez-vous pour lire cet article</span><br/><span class="text">Découvrez notre offre à partir de 1€ par mois, stoppez l’abonnement quand vous le souhaitez !</span><br/><a class="button" href="'+e.subscriptionUrl+'"><span>Oui, je m’abonne</span></a><a href="'+e.loginUrl+'">Déjà abonné ?</a></div></div></div>';a?(poool("config","force_widget","disabled"),poool("config","mode",""),this.handlePaywallRemoval()):(poool("config","mode","custom"),poool("event","onError",function(a,b){poool("config","disable_content_height_calculation",!0,!0);var c=$("#poool-widget");c&&c.after(f),$("#poool-widget").remove()}),poool("event","onLock",function(){}),poool("event","onRelease",function(a){c.handlePaywallRemoval()}),poool("event","onDisabled",function(){c.handlePaywallRemoval()})),poool("send","page-view",e.page)}},this.handlePaywallRemoval=function(){$(".user-paying-content").removeClass("start-as-hidden"),$(".user-paying-content").removeAttr("hidden").removeClass("user-paying-content"),$.fn.DataTable&&$("#profilesTable").DataTable().search("").draw(),$("#poool-widget").remove()},this.isCookieWall=function(a){var b=a.getUserStatus(),c=CookieMgr.getCookie("showCmp"),d=b.purposes.consent.enabled,e=b.vendors.consent.enabled,f=b.purposes.consent.disabled,g=b.vendors.consent.disabled;return 0===d.length&&0===e.length&&0===f.length&&0===g.length&&(c=!0),!(c||0!==d.length&&0!==e.length)},this.initCmp=function(){var a=this,b=$("#poool_init");if(b.length){var c=b.data(),d=c.cookiewallUrl+"?redirect="+encodeURIComponent(window.location.href),e=c.loginUrl+"?redirect="+encodeURIComponent(window.location.href),f=UserAccountMgr.getLoggedUser(),g=UserAccountMgr.isUserPremium(f),h='<div id="cookie-wall" class="cookie-wall temp-paywall">        <div class="widget">          <div class="inner">            <div class="back" id="js-back-cmp"><span class="icon-arrow-left"></span>Retour</div>            <div class="logo"></div>            <br/>            <span class="text">En arrivant sur le site <span class="brand"></span>, vous avez refusé le dépôt de cookies publicitaires.<br/><br/>            Pour donner à la Rédaction de <span class="brand"></span> les moyens de toujours fournir une information de qualité, riche et dense,             nous avons besoin que vous nous souteniez, soit en vous abonnant, soit en acceptant l’affichage de publicités, que vous pouvez piloter en paramétrant les cookies.</span>            <br/><br/>            <a class="button" id="js-accept-full-cmp"><span>Je donne mon consentement</span></a>            <a class="button" href="'+d+'"><span>Je m’abonne</span></a>            <p class="already">              <span>Si vous êtes abonné, vous bénéficiez déjà d’une navigation sans publicité</span>              <a class="button" id="js-accept-basic-cmp" href="'+e+'"><span>Déjà abonné</span></a>            </p>          </div>        </div>      </div>';window.didomiOnReady=window.didomiOnReady||[],window.didomiOnReady.push(function(b){var c=b.getUserConsentStatusForVendor("c:poool-VyhCit7N");c===!0?a.initPoool(g,!0):a.initPoool(g,!1)}),window.didomiEventListeners=window.didomiEventListeners||[],window.didomiEventListeners.push({event:"notice.shown",listener:function(){CookieMgr.deleteCookie("showCmp")}}),window.didomiEventListeners.push({event:"notice.clickdisagree",listener:function(){a.isCookieWall(Didomi)&&$("body").append(h)}}),window.didomiEventListeners.push({event:"preferences.clickclose",listener:function(){a.isCookieWall(Didomi)&&$("body").append(h)}}),window.didomiEventListeners.push({event:"notice.clickagree",listener:function(){$("#cookie-wall").remove()}}),window.didomiEventListeners.push({event:"preferences.clicksavechoices",listener:function(){CookieMgr.setSessionCookie(CookieMgr.cookie_cmp.name,!0,0)}}),window.didomiEventListeners.push({event:"preferences.clickdisagreetoall",listener:function(){CookieMgr.setSessionCookie(CookieMgr.cookie_cmp.name,!0,0)}}),g?window.didomiOnReady.push(function(a){a.setUserDisagreeToAll(),CookieMgr.deleteCookie("showCmp"),$("#cookie-wall").remove();var b=a.openTransaction();b.enablePurposes("audiencem-xedeU2gQ","market_research","select_personalized_content","create_content_profile","improve_products","measure_content_performance"),b.enableVendors("c:atinterne-cWQKHeJZ","c:poool-VyhCit7N"),b.commit()}):f?window.didomiOnReady.push(function(a){window.Didomi.setUserAgreeToAll(),CookieMgr.deleteCookie("showCmp"),$("#cookie-wall").remove()}):window.didomiOnReady.push(function(b){b.getUserStatus();a.isCookieWall(b)&&$("body").append(h)}),$(document).on("click","#js-back-cmp",function(a){$("#cookie-wall").remove(),window.Didomi.notice.show()}),$(document).on("click","#js-accept-basic-cmp",function(a){CookieMgr.setSessionCookie(CookieMgr.cookie_cmp.name,!0,0)}),$(document).on("click","#js-accept-full-cmp",function(a){window.Didomi.setUserAgreeToAll(),CookieMgr.deleteCookie("showCmp"),$("#cookie-wall").remove(),$("#poool-widget").length>0&&document.location.reload(!0)})}},this.init(a,b)}
function ChaAccengagePopUp(a,b){this.init=function(a,b){this.el=a,this.params=b,this.burger(),this.stickyNav()},this.alignToBurger=function(a){var b=$("#acc-alert").first();a?b.addClass("acc-alert-burger"):b.removeClass("acc-alert-burger")},this.burger=function(){var a=this;this.el.find(".menu-btn").mouseup(function(b){a.alignToBurger(!0),a.alignToStickyNav(!1)})},this.alignToStickyNav=function(a){var b=$("#acc-alert").first();a?b.addClass("acc-alert-sticky"):b.removeClass("acc-alert-sticky")},this.checkStickyNav=function(){var a=$("header:not(.header-sticky)").first(),b=$(window).scrollTop(),c=!1;$("body.dark-bg").length?c=!0:b>a.height()&&(c=!0),this.alignToBurger(!1),this.alignToStickyNav(c)},this.stickyNav=function(){var a=this;this.checkStickyNav(),$(window).scroll(function(){a.checkStickyNav()})},this.init(a,b)}
function ChaAccount(a,b){var c=this;this.init=function(a,b){this.el=a,this.params=b,this.showForm(),this.hideForm(),this.confirm()},this.showForm=function(){c.el.find(".switch").click(function(a){a.preventDefault(),$(this).hide(),$(this).siblings(".confirm, .cancel").show();var b=$(this).closest("form");b.find(".sml").each(function(){$(this).hasClass("not-editable")?$(this).hide().next("span").hide():$(this).next("span").hide().next("input, select").show()}),b.find(".demi.hidden").show()})},this.hideForm=function(){c.el.find(".cancel").click(function(a){a.preventDefault(),$(this).hide(),$(this).siblings(".confirm").hide(),$(this).siblings(".switch").show();var b=$(this).closest("form");b[0].reset(),b.find(".sml").each(function(){$(this).hasClass("not-editable")?$(this).show().next("span").show():$(this).next("span").show().next("input, select").hide()}),b.find(".demi.hidden").hide()})},this.confirm=function(){c.el.find("form").submit(function(a){var b=$(this);if(app.validateForm(b,c.el)){var f=app.serializeForm(b);""===f.password&&(delete f.password,delete f.passwordConfirm),b.find("input[type=checkbox]").each(function(){$(this).attr("name").startsWith("newsletters.")&&(f[$(this).attr("name")]=$(this).is(":checked")?"on":"off")}),$.post(app.getAccountBaseUrl()+"/account",{data:JSON.stringify(f)}).done(function(){d(),e(5)}).fail(function(a){app.showFormErrors(b,a)})}return!1})};var d=function(){var a=document.getElementById("nl-confirmation-message");a.style.display="block"},e=function(a){var b=a,c="/mon-compte/",d=document.getElementById("seconds-left-till-redirect"),e=setInterval(function(){b-=1,d.innerText=b,0===b&&(clearInterval(e),location.replace(c))},1e3)};this.init(a,b)}
function ChaAccountFirstLogin(a,b){this.init=function(a,b){this.el=a,this.params=b,this.canActivateFunctionality()&&this.SFForceFullRefreshFlow()},this.canActivateFunctionality=function(){var a=$(".partnerReferenceId");return!a||!a.data("partner-id")},this.SFForceFullRefreshFlow=function(){var a=!!CookieMgr.getCookie(CookieMgr.cookie_gli.name),b=!!CookieMgr.getCookie(CookieMgr.cookie_jwt.name),c=!!CookieMgr.getCookie(CookieMgr.cookie_SFForceFullRefresh.name),d=new URL(window.location);if(a&&!b||!a&&b)return CookieMgr.deleteCookie(CookieMgr.cookie_jwt.name),d.searchParams.get("refresh")&&c?(CookieMgr.deleteCookie(CookieMgr.cookie_SFForceFullRefresh.name),$.get("/logout").done(function(a){location.reload(!0)}).fail(function(a){}),!0):(CookieMgr.setCookie(CookieMgr.cookie_SFForceFullRefresh.name,CookieMgr.cookie_SFForceFullRefresh.value,30),d.searchParams.get("refresh")||d.searchParams.set("refresh",(new Date).getTime()),window.location=d.toString(),!0)},this.init(a,b)}
function ChaAccountCommentairesListe(a,b){var c=this;this.init=function(a,b){this.el=a,this.params=b,this.elSelectors={comments:{form_holder:".mes-commentaires-list",form:{form:".comment-card",inputs:{bodyEl:".paragraph"},btn:{edit:".card-btn-edit",edit_accept:".card-btn-edit-accept",edit_abort:".card-btn-edit-abort","delete":".card-btn-delete"},error:{holder:".error-holder",message:".error-message"}},more:{btn:".more-comments-btn"}},pseudo:{container:".pseudo-container",form:{pseudoTf:".form-element",saveBtn:".save-btn"},error:{holder:".error-holder",message:".error-message"}}},this.elementCls={btn_hide:"item-hidden",more_hide:"item-hidden",errors_hide:"item-hidden",pseudo:{container_hide:"item-hidden",form:{save_btn_disable:"inactive-btn"},errors_hide:"item-hidden"}},this.commentListHolder=this.el.find(this.elSelectors.comments.form_holder),this.COMMENT_PAGE_SIZE=+this.commentListHolder.get(0).getAttribute("data-page-size"),this.moreCommentsBtn=this.el.find(this.elSelectors.comments.more.btn),this.openedEditForm=null,this.addListeners_edit(),this.addListeners_delete(),this.addListeners_moreComments(),this.APIService=new d,this.pseudoManager=new e(this.elSelectors.pseudo,this.elementCls.pseudo,this.APIService),this.pseudoManager.init()},this.addListeners_moreComments=function(){this.moreCommentsBtn.on("click",function(a){c.removeListeners_moreComments(),c.performAction_LoadAnotherPage()})},this.removeListeners_moreComments=function(){this.moreCommentsBtn.unbind("click")},this.addListeners_edit=function(){this.el.find(this.elSelectors.comments.form.btn.edit).on("click",function(a){c.showEditForm($(this).closest(c.elSelectors.comments.form.form))})},this.removeListeners_edit=function(){this.el.find(this.elSelectors.comments.form.btn.edit).unbind("click")},this.addListeners_delete=function(){this.el.find(this.elSelectors.comments.form.btn["delete"]).on("click",function(a){c.openedEditForm&&(c.resetEditForm(c.openedEditForm.el),c.hideEditForm(c.openedEditForm.el)),c.performAction_Delete($(this).closest(c.elSelectors.comments.form.form))})},this.removeListeners_delete=function(){this.el.find(this.elSelectors.comments.form.btn["delete"]).unbind("click")},this.showEditForm=function(a){this.openedEditForm&&this.openedEditForm.el!==a&&(this.resetEditForm(this.openedEditForm.el),this.hideEditForm(this.openedEditForm.el)),this.openedEditForm={el:a,originalValues:this.getEditFormValues(a)},a.find(this.elSelectors.comments.form.btn["delete"]).addClass(this.elementCls.btn_hide),a.find(this.elSelectors.comments.form.btn.edit).addClass(this.elementCls.btn_hide);var b=a.find(this.elSelectors.comments.form.btn.edit_abort);b.removeClass(this.elementCls.btn_hide),b.one("click",function(a){c.resetEditForm(c.openedEditForm.el),c.hideEditForm(c.openedEditForm.el)});var d=a.find(this.elSelectors.comments.form.btn.edit_accept);d.removeClass(this.elementCls.btn_hide),d.on("click",function(b){c.performAction_Update(a)});var e=a.find(this.elSelectors.comments.form.inputs.bodyEl);e.attr("contenteditable",!0)},this.hideEditForm=function(a){a.find(this.elSelectors.comments.form.btn["delete"]).removeClass(this.elementCls.btn_hide),a.find(this.elSelectors.comments.form.btn.edit).removeClass(this.elementCls.btn_hide);var b=a.find(this.elSelectors.comments.form.btn.edit_abort);b.addClass(this.elementCls.btn_hide),b.unbind("click");var c=a.find(this.elSelectors.comments.form.btn.edit_accept);c.addClass(this.elementCls.btn_hide),c.unbind("click");var d=a.find(this.elSelectors.comments.form.inputs.bodyEl);d.removeAttr("contenteditable"),this.openedEditForm=null},this.resetEditForm=function(a){this.showErrorOnEditForm(a,null);var b=a.find(this.elSelectors.comments.form.inputs.bodyEl);b.html(this.openedEditForm.originalValues.comment_body)},this.setEditFormValues=function(a,b){this.openedEditForm.originalValues.comment_body=b.commentBody,this.resetEditForm(a)},this.getEditFormValues=function(a){var b=a.find(this.elSelectors.comments.form.inputs.bodyEl);return{comment_body:b.html()}},this.showErrorOnEditForm=function(a,b){var c=a.find(this.elSelectors.comments.form.error.holder);if(!b)return void c.addClass(this.elementCls.errors_hide);var d=b.responseText;c.removeClass(this.elementCls.errors_hide),c.find(this.elSelectors.comments.form.error.message).html(d)},this.performAction_Update=function(a){var b=this.getEditFormValues(a);b.cid=a[0].dataset.commentId,$.post(app.getAccountBaseUrl()+"/comments",b).done(function(a){c.setEditFormValues(c.openedEditForm.el,a),c.hideEditForm(c.openedEditForm.el)}).fail(function(a){c.showErrorOnEditForm(c.openedEditForm.el,a)})},this.performAction_Delete=function(a){var b={cid:a[0].dataset.commentId,"delete":!0};$.ajax({url:app.getAccountBaseUrl()+"/comments",type:"DELETE",data:b}).done(function(b){c.hideEditForm(a),a.remove(),c.performAction_RefillMissing()}).fail(function(b){c.showErrorOnEditForm(a,b)})},this.performAction_RefillMissing=function(){var a=+$(this.elSelectors.comments.form_holder+" "+this.elSelectors.comments.form.form).length,b=1,d=app.getAccountBaseUrl()+"/comments/more/"+a+"/"+b;$.get(d).done(function(a){c.removeListeners_edit(),c.removeListeners_delete(),c.addMoreComments(a.items);var b={totalCount:a.count};c.commentPaging_set(b),c.commentPaging_refreshUI(),c.addListeners_edit(),c.addListeners_delete()}).fail(function(a){console.log(a)})},this.performAction_LoadAnotherPage=function(){var a=this.commentPaging_get(),b=a.currentPage+1,d=a.pageSize,e=app.getAccountBaseUrl()+"/comments/more/"+b+"/"+d;$.get(e).done(function(a){c.removeListeners_edit(),c.removeListeners_delete(),c.addMoreComments(a.items);var d={currentPage:b,totalCount:a.count};c.commentPaging_set(d),c.commentPaging_refreshUI(),c.addListeners_edit(),c.addListeners_delete(),c.addListeners_moreComments()}).fail(function(a){this.addListeners_moreComments(),console.log(a)})},this.addMoreComments=function(a){for(var b=0;b<a.length;b++)for(var c=$.parseHTML($.trim(a[b])),d=0;d<c.length;d++)this.commentListHolder.append(c[d])},this.commentPaging_get=function(){return{currentPage:+this.commentListHolder.get(0).getAttribute("data-page"),pageSize:this.COMMENT_PAGE_SIZE,totalCount:+this.commentListHolder.get(0).getAttribute("data-total-count")}},this.commentPaging_set=function(a){void 0!==a.currentPage&&this.commentListHolder.get(0).setAttribute("data-page",a.currentPage),this.commentListHolder.get(0).setAttribute("data-total-count",a.totalCount)},this.commentPaging_refreshUI=function(){var a=this.commentPaging_get(),b=$(this.elSelectors.comments.form_holder+" "+this.elSelectors.comments.form.form).length;b<a.totalCount?this.moreCommentsBtn.removeClass(this.elementCls.more_hide):this.moreCommentsBtn.addClass(this.elementCls.more_hide),0===b&&this.pseudoManager.hideContent()};var d=function(){var a=app.getAccountBaseUrl()+"/comments";return{updatePseudo:function(b,c,d){$.post(a+"/update_pseudonym",b).done(c).fail(d)}}},e=function(a,b,c){var d={pseudoTf:null,saveBtn:null,errorHolder:null,errorMsg:null},e=$(a.container),f=function(){return!!e},g=function(){d.pseudoTf=e.find(a.form.pseudoTf),d.saveBtn=e.find(a.form.saveBtn),d.errorHolder=e.find(a.error.holder),d.errorMsg=e.find(a.error.message)},h=function(){d.saveBtn.hasClass(b.form.save_btn_disable)||d.saveBtn.on("click",function(){i(),r();var a={pseudonym:$.trim(d.pseudoTf.val())};c.updatePseudo(a,o,p)})},i=function(){d.saveBtn.unbind("click")},j=function(){d.pseudoTf.on("input",function(){r();var a=$.trim($(this).val());a?d.saveBtn.hasClass(b.form.save_btn_disable)&&(d.saveBtn.removeClass(b.form.save_btn_disable),h()):d.saveBtn.hasClass(b.form.save_btn_disable)||(d.saveBtn.addClass(b.form.save_btn_disable),i())})},k=function(){d.pseudoTf.unbind("input")},l=function(){j(),h()},m=function(){k(),i()},n=function(){e.addClass(b.container_hide)},o=function(a){r(),window.location.reload()},p=function(a){h(),q(a)},q=function(a){if(!a)return void r();d.errorHolder.hasClass(b.errors_hide)&&d.errorHolder.removeClass(b.errors_hide);var c=a.responseText;d.errorMsg.html(c)},r=function(){d.errorHolder.hasClass(b.errors_hide)||d.errorHolder.addClass(b.errors_hide)};return{init:function(){f()&&(g(),l())},hideContent:function(){f()&&(m(),n())}}};this.init(a,b)}
function ChaAnchorTargetFocusFixer(a,b){this.init=function(a,b){this.el=a,this.params=b,this.processAnchorsForInternalRedirect(),this.processElementIDFromUrl()},this.getHeaderHeight=function(){var a=null;return Modernizr.mq("(min-width: 1024px)")&&(a=$("header.header-sticky").get(0)),Modernizr.mq("(min-width: 768px) and (max-width: 1023px)")&&(a=$("div.header-sm").get(0)),Modernizr.mq("(max-width: 767px)")&&(a=$("header.header-main").get(0)),a?$(a).height():0},this.processAnchorsForInternalRedirect=function(){var a=this;$('a[href^="#"]:not([href$="#"])').on("click",function(b){var c=a.getHeaderHeight();if(0!==c){b.preventDefault();var d=$.attr(this,"href");if(!d)return;var e=$(d).get(0);if(!e)return;if(history&&history.pushState){var f=location.href.replace(location.hash,"")+d;history.pushState(null,"",f)}a.scrollToComponent(e,c)}})},this.processElementIDFromUrl=function(){var a=/(#[a-zA-Z_-]+)$/,b=a.exec(window.location.hash);if(b){var c=b[1];if(null!==c){var d=$(c).get(0);if(d){var e=this.getHeaderHeight();0!==e&&this.scrollToComponent(d,e,!0)}}}},this.scrollToComponent=function(a,b,c){a.scrollIntoView();var d=[];if($("body, html").each(function(){"function"==typeof $(this).get(0).scrollBy&&d.push($(this).get(0))}),"function"==typeof window.scrollBy&&d.push(window),d.length)if(c)setTimeout(function(){for(var a=0;a<d.length;a++)d[a].scrollBy(0,-b)},500);else for(var e=0;e<d.length;e++)d[e].scrollBy(0,-b)},this.init(a,b)}
function ChaArticle(a,b){this.init=function(a,b){this.el=a,this.params=b,this.articleCoverIframe(),this.disableStickyBanner()},this.doResizeIframe=function(a){try{var b=a[0].contentWindow.document.body.scrollHeight+"px";a.css("height",b)}catch(c){}},this.articleCoverIframe=function(){var a=this,b=this.el.find(".article-image-iframe iframe");a.doResizeIframe(b),b.off("load"),b.on("load",function(){a.doResizeIframe(b)})},this.disableStickyBanner=function(){var a=this,b=this.el.find(".aside-left");$(window).scroll(function(){a.isVisible(b)===!0&&$("#moneytag-BAN-ATF").removeClass("fixed")})},this.isVisible=function(a){if(0===a.length)return!1;var b=$(window).scrollTop(),c=b+window.innerHeight,d=a.offset().top,e=d+a.height(),f="none"!==a.css("display");return e<=c&&d>=b&&f},this.init(a,b)}
function ChaArticleShare(a,b){this.init=function(a,b){this.el=a,this.params=b,this.refreshOffset(),this["float"](),this.print(),this.attachSocialMediaListeners()},this.refreshOffset=function(){var a=this;this.offset=this.getOffset(),$(window).resize(function(b){a.offset=a.getOffset()})},this.getOffset=function(){return this.el.offset().top-55},this["float"]=function(){var a=this,b=parseInt(a.el.css("top"));$(window).scroll(function(c){var d=$("main .content").height();d-=a.el.height(),d-=b;var e=$(this).scrollTop(),f=e-a.offset;f<0?f=0:f>d&&(f=d),f>=0&&f<=d&&a.el.css("position","fixed").css("top",60).css("left","auto").css("margin-left",-60).css("margin-top",0),0!==f&&f!==d||a.el.css("position","").css("top","").css("left","").css("margin-left","").css("margin-top",f)})},this.print=function(){this.el.find(".print").click(function(a){a.preventDefault(),window.print()})},this.attachSocialMediaListeners=function(){this.el.find("a.share-sm").on("click",function(a){a.preventDefault(),window.open($(this).data("url"),"","menubar=no, toolbar=no, resizable=yes, scrollbars=yes, height=600, width=600")})},this.init(a,b)}
function ChaArticleAudioPlayer(a,b){this.init=function(a,b){this.parentEl=a,this.playerCmp=null,this.playerEl=this.parentEl.find(AudioBarHelper.SELECTORS.audioEl),this.barEl=this.parentEl.find(AudioBarHelper.SELECTORS.bar),this.initPlayer(),this.initBarListeners()},this.initPlayer=function(){this.playerEl.mediaelementplayer({alwaysShowControls:!0,features:["progress","skipback","playpause","jumpforward","volume"],audioVolume:"vertical",skipBackInterval:10,jumpForwardInterval:10,setDimensions:!1,autoRewind:!0,success:function(a,b,c){this.playerCmp=a}.bind(this)})},this.initBarListeners=function(){this.parentEl.find(".article-read-trigger").on("click",function(){this.showBar(),this.isBarPlaying()?this.pauseItemAudio():this.playItemAudio()}.bind(this)),this.playerEl.on("loadedmetadata",function(a){this.updateTimeDetails({currentTime:0,totalTime:a.currentTarget.duration})}.bind(this)),this.playerEl.on("timeupdate",function(a){this.updateTimeDetails({currentTime:a.currentTarget.currentTime,totalTime:a.currentTarget.duration})}.bind(this)),this.playerEl.on("play",function(){this.markBarAsPlaying()}.bind(this)),this.playerEl.on("pause",function(){this.markBarAsPaused()}.bind(this)),this.barEl.find(".action__close").on("click",function(){this.pauseItemAudio(),this.restartItemAudioTrack(),this.hideBar()}.bind(this)),this.barEl.find(".action__toggle-collapse").on("click",function(){this.isBarCollapsed()?this.expandBar():this.collapseBar()}.bind(this))},this.isBarVisible=function(){return!this.barEl.hasClass("m-audio__bar--hidden")},this.showBar=function(){this.barEl.hasClass("m-audio__bar--hidden")&&this.barEl.removeClass("m-audio__bar--hidden")},this.hideBar=function(){this.barEl.hasClass("m-audio__bar--hidden")||this.barEl.addClass("m-audio__bar--hidden")},this.playItemAudio=function(){this.playerCmp&&this.playerCmp.play()},this.pauseItemAudio=function(){this.playerCmp&&this.playerCmp.pause()},this.restartItemAudioTrack=function(){this.playerCmp&&this.playerCmp.setCurrentTime(0)},this.isBarPlaying=function(){return this.barEl.hasClass("m-audio__bar--playing")},this.markBarAsPlaying=function(){this.barEl.hasClass("m-audio__bar--playing")||this.barEl.addClass("m-audio__bar--playing"),this.barEl.hasClass("m-audio__bar--stopped")&&this.barEl.removeClass("m-audio__bar--stopped")},this.markBarAsPaused=function(){this.barEl.hasClass("m-audio__bar--playing")&&this.barEl.removeClass("m-audio__bar--playing"),this.barEl.hasClass("m-audio__bar--stopped")||this.barEl.addClass("m-audio__bar--stopped")},this.isBarCollapsed=function(){return this.barEl.hasClass("m-audio__bar--collapsed")},this.collapseBar=function(){this.barEl.hasClass("m-audio__bar--expanded")&&this.barEl.removeClass("m-audio__bar--expanded"),this.barEl.addClass("m-audio__bar--collapsed"),this.barEl.find(".mejs__controls").on("click",function(a){$(a.target).is("button")||(this.isBarPlaying()?this.pauseItemAudio():this.playItemAudio())}.bind(this))},this.expandBar=function(){this.barEl.hasClass("m-audio__bar--collapsed")&&this.barEl.removeClass("m-audio__bar--collapsed"),this.barEl.addClass("m-audio__bar--expanded"),this.barEl.find(".mejs__controls").off("click")},this.formatSecondsAsTime=function(a){if(a=Math.floor(a),isNaN(a))return"00:00";var b=Math.floor(a/60),c=a-60*b;return b<10&&(b="0"+b),c<10&&(c="0"+c),b+":"+c},this.updateTimeDetails=function(a){var b=this.formatSecondsAsTime(a.currentTime);this.barEl.find(".content__details .time__current").html(b);var c=this.formatSecondsAsTime(a.totalTime);this.barEl.find(".content__details .time__total").html(c)},this.init(a,b)}
function ChaRubriqueAudioPlayer(a,b){this.init=function(a,b){this.parentEl=a,this.playerEl=this.parentEl.find(AudioBarHelper.SELECTORS.audioEl),this.playerCmp=null,this.barEl=this.parentEl.find(AudioBarHelper.SELECTORS.bar),this.currentlyPlayingItem=null,this.initPlayer(),this.initActions(),this.initBarListeners()},this.markItemAsPlaying=function(a){a&&!a.hasClass("rubrique-read-trigger--playing")&&a.addClass("rubrique-read-trigger--playing")},this.markItemAsNotPlaying=function(a){a&&a.hasClass("rubrique-read-trigger--playing")&&a.removeClass("rubrique-read-trigger--playing")},this.initActions=function(){this.playerEl.on("play",function(){this.markBarAsPlaying()}.bind(this)),this.playerEl.on("pause",function(){this.markBarAsPaused()}.bind(this)),this.parentEl.find(".rubrique-read-trigger_b").on("click",function(a){a.preventDefault();var b=$(a.currentTarget),c=b.attr("data-article-id")||"",d="";return this.currentlyPlayingItem&&(d=this.currentlyPlayingItem.attr("data-article-id")||""),c!==d?(this.pauseItemAudio(),this.markItemAsNotPlaying(this.currentlyPlayingItem),this.currentlyPlayingItem=b,this.markItemAsPlaying(this.currentlyPlayingItem),this.restartItemAudioTrack(),this.updateBarData(b),this.playItemAudio(),void this.showBar()):void(this.isBarPlaying()?this.pauseItemAudio():this.playItemAudio())}.bind(this))},this.isBarPlaying=function(){return this.barEl.hasClass("m-audio__bar--playing")},this.markBarAsPlaying=function(){this.barEl.hasClass("m-audio__bar--playing")||this.barEl.addClass("m-audio__bar--playing"),this.barEl.hasClass("m-audio__bar--stopped")&&this.barEl.removeClass("m-audio__bar--stopped")},this.markBarAsPaused=function(){this.barEl.hasClass("m-audio__bar--playing")&&this.barEl.removeClass("m-audio__bar--playing"),this.barEl.hasClass("m-audio__bar--stopped")||this.barEl.addClass("m-audio__bar--stopped")},this.showBar=function(){this.barEl.hasClass("m-audio__bar--hidden")&&this.barEl.removeClass("m-audio__bar--hidden")},this.hideBar=function(){this.barEl.hasClass("m-audio__bar--hidden")||this.barEl.addClass("m-audio__bar--hidden")},this.updateBarData=function(a){var b=$(a).attr("data-audio-src");AudioBarHelper.setTrackData({itemArticleId:$(a).attr("data-article-id"),itemCoverImageUrl:$(a).attr("data-cover-url"),itemArticleUrl:$(a).attr("data-article-url")||"#",itemTitle:$(a).attr("data-article-title")||"---",itemAuthorName:$(a).attr("data-author")||"---",itemAudioSrc:b}),this.playerCmp&&(this.playerCmp.setCurrentTime(0),this.playerCmp.setSrc([{src:b}]))},this.playItemAudio=function(){this.playerCmp&&this.playerCmp.play()},this.pauseItemAudio=function(){this.playerCmp&&this.playerCmp.pause()},this.restartItemAudioTrack=function(){this.playerCmp&&this.playerCmp.setCurrentTime(0)},this.initPlayer=function(){this.playerEl.mediaelementplayer({alwaysShowControls:!0,features:["progress","skipback","playpause","jumpforward","volume"],audioVolume:"vertical",skipBackInterval:10,jumpForwardInterval:10,setDimensions:!1,autoRewind:!0,success:function(a,b,c){this.playerCmp=a}.bind(this)})},this.initBarListeners=function(){this.playerEl.on("loadedmetadata",function(a){this.updateTimeDetails({currentTime:0,totalTime:a.currentTarget.duration})}.bind(this)),this.playerEl.on("timeupdate",function(a){this.updateTimeDetails({currentTime:a.currentTarget.currentTime,totalTime:a.currentTarget.duration})}.bind(this)),this.barEl.find(".action__close").on("click",function(){this.pauseItemAudio(),this.restartItemAudioTrack(),this.markItemAsNotPlaying(this.currentlyPlayingItem),this.currentlyPlayingItem=null,this.hideBar()}.bind(this)),this.barEl.find(".action__toggle-collapse").on("click",function(){this.isBarCollapsed()?this.expandBar():this.collapseBar()}.bind(this))},this.isBarCollapsed=function(){return this.barEl.hasClass("m-audio__bar--collapsed")},this.collapseBar=function(){this.barEl.hasClass("m-audio__bar--expanded")&&this.barEl.removeClass("m-audio__bar--expanded"),this.barEl.addClass("m-audio__bar--collapsed"),this.barEl.find(".mejs__controls").on("click",function(a){$(a.target).is("button")||(this.isBarPlaying()?this.pauseItemAudio():this.playItemAudio())}.bind(this))},this.expandBar=function(){this.barEl.hasClass("m-audio__bar--collapsed")&&this.barEl.removeClass("m-audio__bar--collapsed"),this.barEl.addClass("m-audio__bar--expanded"),this.barEl.find(".mejs__controls").off("click")},this.formatSecondsAsTime=function(a){if(a=Math.floor(a),isNaN(a))return"00:00";var b=Math.floor(a/60),c=a-60*b;return b<10&&(b="0"+b),c<10&&(c="0"+c),b+":"+c},this.updateTimeDetails=function(a){var b=this.formatSecondsAsTime(a.currentTime);this.barEl.find(".content__details .time__current").html(b);var c=this.formatSecondsAsTime(a.totalTime);this.barEl.find(".content__details .time__total").html(c)},this.init(a,b)}
function ChaBourse(a,b){this.init=function(a,b){this.el=a,this.params=b,this.isMini=!!this.el.hasClass("bourse-mini"),this.baseUrl=this.isMini?"/redis/bourse-mini":"/redis/bourse",this.timer=6e4,this.more(),this.toggleSearch()},this.more=function(){var a=this;this.el.on("click",".more",function(a){$(a.target).hasClass("more")&&(a.preventDefault(),$(this).toggleClass("more-on").children("ul").toggle())}),$("html").on("click",function(b){$(b.target).hasClass("more")||a.el.find(".more").removeClass("more-on").children("ul").hide()})},this.toggleSearch=function(){var a=this;this.el.on("click",".search, .search-link",function(b){b.preventDefault(),a.el.find(".search-form input").show().focus()}),this.el.on("blur",".search-form input",function(a){$(this).hide()})},this.refresh=function(){var a=this;setInterval(function(){$.get(a.baseUrl).done(function(b){$(b).find("ul > li:not(.links)").each(function(b,c){a.el.find("ul > li:not(.links)").eq(b).replaceWith($(this))})}).fail(function(a){console.log("ERROR - Couldn't refresh bourse data :",a)})},a.timer)},this.init(a,b)}
function ChaCalculette(a,b){function c(a,b,c){a.find("option").not(":eq(0)").remove(),$.each(b,function(b,d){var e=c?new Option(b,d):new Option(d,d);a.append($(e))})}function d(b){google.charts.load("current",{packages:["corechart","bar"],language:"fr"}),google.charts.setOnLoadCallback(function(){var c=google.visualization.arrayToDataTable([["values","Minimum","Vous","Estimation","Maximum"],["",b.min,b.you,b.est,b.max]]),d={title:"Bilan",height:380,width:600,backgroundColor:"#f2f2f2",colors:["#f4564f","black","#d4d4d4","#60da57"],chartArea:{width:"50%"},hAxis:{title:"Euros",minValue:0},vAxis:{title:"Salaires"}},e=new google.visualization.BarChart(a.find("#chartSalaire")[0]);e.draw(c,d)})}this.init=function(a,b){var e=this;this.el=a,this.params=b,$.ajax("/simulations/data?r=echellons").done(function(a){c(e.el.find("#selectEchellon"),a)}),this.el.find("#selectEchellon").on("change",function(){"Directeurs"===this.value||"Responsables"===this.value?e.el.find("#divComite").show():e.el.find("#divComite").hide(),e.el.find("#selectFonction").val(""),$.ajax("/simulations/data?r=secteurs&e="+e.el.find("#selectEchellon").val()).done(function(a){var b=e.el.find("#selectSecteur");c(b,a),b.parent().show()});var a="Directeurs"===this.value||"Responsables"===this.value?"dir":"Cadres"===this.value?"cad":"tec";$.ajax("/simulations/data?r=city-"+a).done(function(a){c(e.el.find("#selectVille"),a,!0)})}),this.el.find("#selectSecteur").on("change",function(a){"FONCTION TRANSVERSE"===this.value?e.el.find("#divSecteur2").show():(e.el.find("#divSecteur2").hide(),e.el.find("#selectSecteur2").val("0")),$.ajax("/simulations/data?r=fonctions&e="+e.el.find("#selectEchellon").val()+"&s="+e.el.find("#selectSecteur").val()).done(function(a){c(e.el.find("#selectFonction"),a),e.el.find("#selectFonction").parent().show()})}),this.el.find("#selectFonction").on("change",function(a){var b=e.el.find("#selectEchellon").val(),c=e.el.find("#selectSecteur").val(),d=e.el.find("#selectFonction").val();$.ajax("/simulations/data?r=genders&e="+b+"&s="+c+"&f="+d).done(function(a){e.el.find("#radioGender1").val(a.homme),e.el.find("#radioGender2").val(a.femme),e.el.find("#divQuestions").show(),e.el.find(".confirm").show()})}),this.el.find("#simulatorForm").submit(function(a){a.preventDefault();var b=$(this).serializeArray();return $.post("/simulations/calculate",b).done(function(a){d(a),e.el.find("#fonctionTitle").text(a.fonction),e.el.find("#secteurTitle").text("Secteur : "+a.secteur),e.el.find("#echellonTitle").text("Échelon : "+a.echellon),e.el.find("#salaireValue").text(a.est+" €"),e.el.find("#simulatorForm").hide(),e.el.find("#divChart").show(),$("body").animate({scrollTop:$(".container").offset().top},"slow")}),this.reset(),!1})},this.init(a,b)}
function ChaClassement(a,b){this.init=function(a,b){this.el=a,this.params=b;var c=document.getElementsByTagName("HEAD")[0],d=document.createElement("script");d.type="text/javascript",d.async=!0,d.onload=function(){this.searchSection=this.el.prev(".search"),this.search(),this.filter(),this.initCustomFilters(),this.extendDataTable(),this.initDataTable()}.bind(this),d.src=app.getBaseUrl()+"/js/libs/jquery.dataTables.js",c.appendChild(d)},this.initCustomFilters=function(){this.initSectorFilter()},this.initSectorFilter=function(){var a=this,b=this.searchSection.find(".filter-sector");if(b){var c=b.data("filter-column"),d=b.find(".filter-list"),e=b.find(".filter-selector"),f=b.find(".filter-value"),g=b.find(".filter-clear"),h=b.find(".filter-list-close");e.on("click",function(){d.toggleClass("visible"),$(this).toggleClass("open")}),d.on("click",".filter-item a",function(){var b=$(this).attr("data-sector");f.find(".value").text(b),f.toggleClass("visible"),e.toggleClass("open"),e.toggleClass("hidden"),d.toggleClass("visible"),a.triggerCustomSearch(c,b)}),g.on("click",function(){var b="";f.find(".value").text(b),f.toggleClass("visible"),e.toggleClass("hidden"),a.triggerCustomSearch(c,b)}),h.on("click",function(){e.toggleClass("open"),d.toggleClass("visible")})}},this.triggerCustomSearch=function(a,b){this.el.find("table").each(function(){$(this).DataTable().columns(a).search(b).draw()})},this.search=function(){this.searchSection.find("form").click(function(a){$(this).find("input").show().focus()}),this.searchSection.on("blur","form input",function(a){$(this).hide()})},this.filter=function(){this.searchSection.find(".filtre").click(function(a){a.preventDefault();var b={x:$(this).offset().left-$(window).scrollLeft()+$(this).width()/2,y:$(this).offset().top-$(window).scrollTop()+$(this).height()/2},c=app.cloneOverlay(".listings-filtres");c.css("top",b.y).css("left",b.x).css("height","0%").css("width","0%").css("opacity","0").css("display","block"),c.chaOverlay({id:"classement-overlay",closeOn:".listings-filtres"}).appendTo(".container").transition({top:"0",left:"0",height:"100%",width:"100%",opacity:"1"},app.overlayTransition)})},this.extendDataTable=function(){$.fn.dataTable.ext.order.cha_default=function(a,b){return this.api().column(b,{order:"index"}).nodes().map(function(a,b){return $(a).data("val")})},$.fn.dataTable.ext.order.cha_number=function(a,b){return this.api().column(b,{order:"index"}).nodes().map(function(a,b){var c=$(a).data("val");return"string"==typeof c?Number(c.replace(/[^,\.0-9]+/g,"")):c})},$.fn.dataTable.ext.order.cha_date=function(a,b){return this.api().column(b,{order:"index"}).nodes().map(function(a,b){var c=$(a).data("val")||0;return new Date(c)})},$.fn.dataTable.ext.order.cha_number_interval=function(a,b){return this.api().column(b,{order:"index"}).nodes().map(function(a,b){var c=$(a).data("val");if(!c)return-1;if(c=c.replace(/[^0-9-]+/g,""),!c)return 0;c=c.split("-");var d=c[0];return 1==c.length&&d--,d})}},this.initDataTable=function(){var a=this,b=$("#rankingGrid"),c={info:!1,paging:!1,scrollCollapse:!0,scrollY:"80vh",order:[],columns:[],columnDefs:[],initComplete:function(b){a.el.find(".dataTables_filter input").prependTo(".container-in.search form .in"),a.el.find(".dataTables_filter").remove()},fnDrawCallback:function(b){var c=a.el.data("selection"),d=a.el.data("selection-col"),e=a.el.data("selection-done");e||!c||!d&&0!==d||(a.el.data("selection-done",!0),this.api().columns(d).search(c).draw())}},d=a.el.data("order"),e=a.el.data("order-dir");(d||0===d)&&e&&c.order.push([d,e]);var f=0;b.find("thead th").each(function(){var a=$(this).data(),b=a.type||"cha_default",d={targets:f,visible:a.visible!==!1,type:b};"cha_date"===a.type&&(d.render=function(a,b,c,d){var e=new Date(a);if(!a)return"NC";var f=["Janv.","Févr.","Mars","Avr.","Mai","Juin","Juil.","Août","Sept.","Oct.","Nov.","Déc."];return f[e.getMonth()]+" "+e.getFullYear()}),"cha_number"===a.type&&(d.render=function(a,b,c,d){return a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")}),"cha_number_interval"===a.type&&(d.render=function(a,b,c,d){return a||"NC"}),"cha_dni_secteur"===a.type&&(d.render=function(a,b,c,d){return"Santé (pas seulement des biotech)"===a?"Santé":a}),c.columnDefs.push(d),c.columns.push({orderDataType:b}),f++}),b.DataTable(c)},this.init(a,b)}
function ChaComments(a,b){this.init=function(a,b){this.el=a,this.params=b,this.reply(),this.post(),this.load()},this.reply=function(){var a=this;this.el.on("click",".comms-reply",function(b){b.preventDefault();var c=$(this).closest("li"),d=c.data("id"),e=a.el.children("form").first().clone();e.attr("data-parent",d).show(),e.find(".com .comms-react").html("Répondre"),$(this).next("form").remove(),$(this).after(e)})},this.post=function(){var a=this;this.el.on("click",".com .comms-react",function(a){a.preventDefault(),$(this).closest("form").submit()}),this.el.on("submit","form.com",function(b){var c=$(this),d=c.data("parent"),e={entity_id:c.data("node"),comment_body:c.find("textarea").val(),pid:d,subject:void 0,hostname:void 0};return $.post("/comments",e).done(function(b){var e='<li data-id="'+b.cid+'"><span class="comms-nom">'+(b.fieldPseudonym||b.name||"Anonyme")+'</span><span class="comms-date">En cours de publication</span><div class="comms-text">'+b.commentBody+'</div><a href="javascript:void(0)" class="comms-alert">J\'alerte</a>';e=d?e:e+'<a href="javascript:void(0)" class="comms-reply">Je réponds</a>',d?(0===c.closest("li").children("ul").length&&c.closest("li").append("<ul></ul>"),c.closest("li").children("ul").append($(e))):a.el.children("ul").first().prepend($(e)),c[0].reset()}).fail(function(a){}),!1})},this.load=function(){var a=this.el.find("ul").first();a&&a.hasClass("not-loaded")&&a.data("id")&&Number(a.data("nb"))>0&&$.get("/comments/"+a.data("id")).done(function(b){a.html(b)}).fail(function(a){})},this.init(a,b)}
function ChaDiaporamaFullscreenV2(a,b){function c(){$(".wrap-popup-carousel").addClass("popup-is-fullscreen"),$(".wrap-col-left").addClass("is-full-screen"),$(".wrap-col-right").addClass("is-full-screen"),$(".article-diaporama-new-popup").addClass("full-screen-toggle"),$(".button-go-to-first-slide").removeClass("not-full-screen-toggle"),$(".arrow-left-svg").addClass("full-screen-toggle-arrows")}function d(){$(".wrap-popup-carousel").removeClass("popup-is-fullscreen"),$(".article-diaporama-new-popup").removeClass("full-screen-toggle"),$(".button-go-to-first-slide").addClass("not-full-screen-toggle"),$(".arrow-left-svg").removeClass("full-screen-toggle-arrows"),$(".wrap-col-left").removeClass("is-full-screen"),$(".wrap-col-right").removeClass("is-full-screen")}function e(){var a=$("#carouselPopup > div > div.wrap-col-left > div.carousel-thumbnails > ul.thumbnails-slick-popup > div.slick-list > div.slick-track").children().length,b=$(window).width(),c=Math.ceil(b/200)+3;a<=c?(document.popupThumbnailsSliderElement.slick("slickSetOption","variableWidth",!0),document.popupThumbnailsSliderElement.slick("slickSetOption","centerMode",!0)):document.popupThumbnailsSliderElement.slick("slickSetOption","slidesToShow",c)}function f(){return $(".wrap-popup-carousel").hasClass("popup-is-fullscreen")}this.init=function(a,b){$(".wrap-full-screen").click(function(){f()?(d(),document.popupThumbnailsSliderElement.slick("slickSetOption","variableWidth",!1),document.popupThumbnailsSliderElement.slick("slickSetOption","centerMode",!1),document.popupThumbnailsSliderElement.slick("slickSetOption","slidesToShow",document.popupThumbnailsSlidesToShow)):(c(),e(),document.setHeightDescriptionSlides(!0)),$(".article-diaporama-new-popup").hasClass("full-screen-toggle")?e():document.popupThumbnailsSliderElement.slick("slickSetOption","slidesToShow",document.popupThumbnailsSlidesToShow),document.popupSliderElement.slick("setPosition"),document.popupThumbnailsSliderElement.slick("setPosition"),document.popupSliderCreditsElement.slick("setPosition")}),$(".close-popup-icon").click(function(){$(".wrap-popup-carousel").removeClass("popup-is-fullscreen"),$(".article-diaporama-new-popup").removeClass("full-screen-toggle"),$(".button-go-to-first-slide").addClass("not-full-screen-toggle"),document.popupSliderCurentSlide=document.popupSliderElement.slick("slickCurrentSlide"),document.baseSliderElement.slick("slickGoTo",document.popupSliderCurentSlide),document.resetAllSlidersStyles()}),$(".button-go-to-first-slide").click(function(){document.popupSliderElement.slick("slickGoTo",0),document.setHeightDescriptionSlides()}),$(".button-go-to-first-slide-outer").click(function(){document.popupSliderElement.slick("slickGoTo",0)})},this.init(a,b)}
function ChaDiaporamaPopupV2(a,b){this.init=function(a,b){function c(){return Modernizr.mq("(max-width: 479px)")}function d(){return Modernizr.mq("(min-width: 480px) and (max-width: 992px)")}function e(a,b){return a.$slides.length===b+1}function f(){$(".thumbnails-slick-popup").hide()}function g(){$(".thumbnails-slick-popup").show()}function h(){return null!==navigator.userAgent.toLowerCase().match(/macintosh/)&&screen.width<=1024}document.mainSliderModalElement=$(".demo01"),document.popupSliderElement=$(".carousel-cards-popup"),document.popupSliderCurentSlide=0,document.popupSliderCreditsElement=$(".carousel-credits-popup"),document.popupThumbnailsSliderElement=$(".thumbnails-slick-popup"),document.popupThumbnailsSlidesToShow=5,document.popupCloseIconElement=$("#close-popup-icon"),document.animatedModal=$(".animated-modal-v2"),document.wrapFullScreen=$(".wrap-full-screen"),document.goToFirstSlideButton=$(".button-go-to-first-slide-outer"),document.mobileButtonGoToFirstSlide=function(){this.show=function(){document.goToFirstSlideButton.removeClass("display-none")},this.hide=function(){document.goToFirstSlideButton.addClass("display-none")}};var i=new document.mobileButtonGoToFirstSlide;c()&&$(".popup-last-slide").remove(),document.addStylesForLastSlide=function(a){var b=a.$slides.length-1;document.popupSliderCreditsElement.addClass("display-none"),$(".carousel-cards-popup > .slick-dots").addClass("hide-block"),$(".article-diaporama-new-popup").addClass("is-last-slide"),$(".wrap-col-left").addClass("last-slide"),$(".wrap-col-right").addClass("last-slide"),c()||f(),document.popupSliderElement.slick("setPosition"),$(window).height()<=750?($(".wrap-col-left").addClass("overflow-y-scroll"),$(".last-slide-main-title").addClass("style-for-small-screen"),$(".button-go-to-first-slide").addClass("style-for-small-screen")):($(".wrap-col-left").removeClass("overflow-y-scroll"),$(".last-slide-main-title").removeClass("style-for-small-screen"),$(".button-go-to-first-slide").removeClass("style-for-small-screen")),$(".article-diaporama-new-popup").hasClass("full-screen-toggle")||document.popupThumbnailsSliderElement.slick("slickSetOption","slidesToShow",b<7?b:7),document.popupThumbnailsSliderElement.slick("setPosition")},document.resetAllSlidersStyles=function(){document.popupSliderCreditsElement.slick("setPosition"),document.popupSliderCreditsElement.removeClass("display-none"),$(".wrap-thumbnail-image").removeClass("hide-block"),$(".carousel-cards-popup > .slick-dots").removeClass("hide-block"),$(".article-diaporama-new-popup").removeClass("is-last-slide"),$(".wrap-col-left").removeClass("last-slide"),$(".wrap-col-right").removeClass("last-slide"),c()||g(),$(".article-diaporama-new-popup").hasClass("full-screen-toggle")||document.popupThumbnailsSliderElement.slick("slickSetOption","slidesToShow",document.popupThumbnailsSlidesToShow),document.popupSliderElement.slick("setPosition"),document.popupThumbnailsSliderElement.slick("setPosition"),document.popupSliderCreditsElement.slick("setPosition")},document.popupSliderElement.on("beforeChange",function(a,b,d,f){document.setHeightDescriptionSlides(!1),c()&&(e(b,f)?i.show():i.hide()),c()||(e(b,f)?document.addStylesForLastSlide(b):document.resetAllSlidersStyles())}),document.popupSliderElement.on("afterChange",function(){document.popupSliderElement.slick("setPosition"),document.popupSliderCreditsElement.slick("setPosition"),document.popupThumbnailsSliderElement.slick("setPosition")}),document.popupSliderElement.slick({infinite:!1,slidesToShow:1,centerMode:!0,fade:!0,adaptiveHeight:!c(),lazyLoad:"ondemand",asNavFor:".thumbnails-slick-popup,.carousel-credits-popup",prevArrow:'<span class="slider-arrow slider-arrow-prev"><span class="icon icon-arrow-left"></span></span>',nextArrow:'<span class="slider-arrow slider-arrow-next"><span class="icon icon-arrow-right"></span></span>',responsive:[{breakpoint:479,settings:{centerPadding:"0px",arrows:!1,dots:!1}}]}),document.popupThumbnailsSliderElement.slick({infinite:!1,slidesToShow:document.popupThumbnailsSlidesToShow,variableWidth:!1,swipeToSlide:!0,asNavFor:".carousel-cards-popup,.carousel-credits-popup",focusOnSelect:!0,arrows:!0,prevArrow:'<span class="slider-arrow slider-arrow-prev"><span class="icon icon-arrow-left"></span></span>',nextArrow:'<span class="slider-arrow slider-arrow-next"><span class="icon icon-arrow-right"></span></span>',centerMode:!1,lazyLoad:"ondemand",responsive:[{breakpoint:361,settings:"unslick"}]}),document.popupSliderCreditsElement.slick({infinite:!1,slidesToShow:1,swipeToSlide:!0,adaptiveHeight:!0,fade:!0,cssEase:"linear",speed:100,asNavFor:".carousel-cards-popup,.thumbnails-slick-popup",focusOnSelect:!0,arrows:!1,centerMode:!1,lazyLoad:"ondemand"}),document.setHeightDescriptionSlides=function(a){if(a)setTimeout(function(){var a=$(".thumbnails-slick-popup").height();$(".wrap-col-right").css("bottom",a+10)},200);else{var b=$(".thumbnails-slick-popup").height();$(".wrap-col-right").css("bottom",b+10)}},document.mainSliderModalElement.length&&(document.animatedModal.removeClass("display-none"),(d()||h())&&document.wrapFullScreen.addClass("display-none"),document.mainSliderModalElement.animatedModal({color:c()?"#0F0F0F":"rgba(0,0,0,0.6)",animationDuration:"0.4s",animatedIn:"fadeInUp",animatedOut:"fadeOutRight",afterOpen:function(){document.popupCloseIconElement.toggleClass("toggle-opacity")},beforeClose:function(){var a=0;document.popupCloseIconElement.toggleClass("toggle-opacity"),document.goToFirstSlideButton.addClass("display-none"),c()&&(a=$(".article-diaporama-new").offset().top,window.scrollTo(0,a-39))}}),document.mainSliderModalElement.click(function(){(d()||h())&&$(".wrap-full-screen").trigger("click"),document.popupSliderElement.slick("setPosition"),document.mainSliderCurentSlide=document.baseSliderElement.slick("slickCurrentSlide"),document.popupSliderElement.slick("slickGoTo",document.mainSliderCurentSlide),document.popupThumbnailsSliderElement.slick("slickSetOption","slidesToShow",document.popupThumbnailsSlidesToShow),document.popupThumbnailsSliderElement.slick("setPosition"),document.popupSliderElement.slick("setPosition")}))},this.init(a,b)}
function ChaDiaporamaV2(a,b){this.init=function(a,b){document.baseSliderElement=$(".carousel-cards"),document.mainSliderCurentSlide=0,document.baseSliderElement.slick({infinite:!1,slidesToShow:1,centerMode:!1,adaptiveHeight:!1,lazyLoad:"ondemand",asNavFor:".thumbnails-slick,.carousel-credits",prevArrow:'<span class="slider-arrow slider-arrow-prev"><span class="icon icon-arrow-left"></span></span>',nextArrow:'<span class="slider-arrow slider-arrow-next"><span class="icon icon-arrow-right"></span></span>',responsive:[{breakpoint:769,settings:{centerPadding:"0px",arrows:!0}},{breakpoint:479,settings:{centerPadding:"0px",arrows:!1}}]}),$(".thumbnails-slick").slick({infinite:!1,slidesToShow:5,swipeToSlide:!0,asNavFor:".carousel-cards,.carousel-credits",focusOnSelect:!0,arrows:!0,prevArrow:'<span class="slider-arrow slider-arrow-prev"><span class="icon icon-arrow-left"></span></span>',nextArrow:'<span class="slider-arrow slider-arrow-next"><span class="icon icon-arrow-right"></span></span>',centerMode:!1,lazyLoad:"ondemand",responsive:[{breakpoint:361,settings:"unslick"}]}),$(".carousel-credits").slick({infinite:!1,slidesToShow:1,swipeToSlide:!0,fade:!0,cssEase:"linear",speed:100,asNavFor:".carousel-cards,.thumbnails-slick",focusOnSelect:!0,arrows:!1,centerMode:!1,lazyLoad:"ondemand",responsive:[{breakpoint:361,settings:"unslick"}]});var c=$(".wrap-card-description .close-description");c.click(function(a){a.stopImmediatePropagation(),$(this).closest(".wrap-card-description").hide()}),$(".carousel-cards").on("afterChange",function(){$(".wrap-card-description").show()})},this.init(a,b)}
function ChaDiaporamaBloc(a,b){var c=this;this.init=function(a,b){this.el=a,this.params=b,this.thumbScroll=0,this.thumbsPerScroll=2,this.thumbPrev(),this.thumbNext()},this.thumbPrev=function(){this.el.find(".thumbnails .prev-btn").click(function(a){a.preventDefault(),c.thumbScroll-=c.thumbsPerScroll*c.el.find(".thumbnails ul li").first().outerWidth(),c.updateThumbScroll()})},this.thumbNext=function(){this.el.find(".thumbnails .next-btn").click(function(a){a.preventDefault(),c.thumbScroll+=c.thumbsPerScroll*c.el.find(".thumbnails ul li").first().outerWidth(),c.updateThumbScroll()})},this.updateThumbScroll=function(){var a=this.el.find(".thumbnails ul");a.animate({scrollLeft:this.thumbScroll},app.defaultTransition,function(){c.thumbScroll=a.scrollLeft()})},this.init(a,b)}
function Cha_DNI_NewStartupForm(a,b){this.init=function(a,b){this.el=a,this.params=b,this.totalAllowedFileSize=4e6,this.totalAllowedFileSizeLabel=this.totalAllowedFileSize/1e6,$("#modalTrigger").animatedModal({modalTarget:"confirmationModal",color:"rgba(0,0,0,0.8)"}),this.initInputRefs(),this.activateFormFunctionality()},this.initInputRefs=function(){this.formItems={submitBtn:this.el.find('input[type="submit"]'),rankYear:this.el.find('input[name="rank_year"]'),nameTf:this.el.find('input[name="name"]'),sirenTf:this.el.find('input[name="siren_nb"]'),companyMailTf:this.el.find('input[name="company_email"]'),companyPhoneTf:this.el.find('input[name="company_telephone"]'),companyAddressTf:this.el.find('input[name="company_address"]'),cityTf:this.el.find('input[name="city"]'),postalCodeTf:this.el.find('input[name="postal_code"]'),logoImgFileInput:this.el.find('input[name="logo"]'),sectorSf:this.el.find('select[name="sector"]'),otherSectorTf:this.el.find('input[name="sector_other"]'),companyBaselineTf:this.el.find('textarea[name="company_baseline"]'),descriptionTf:this.el.find('textarea[name="description"]'),productServicesTf:this.el.find('textarea[name="product_and_services"]'),nbEmployeesSf:this.el.find('select[name="nb_employees"]'),companyCreationDateTf:this.el.find('input[name="company_creation_date"]'),foundersTf:this.el.find('textarea[name="founders"]'),teamTf:this.el.find('textarea[name="team"]'),articleImgFileInput:this.el.find('input[name="image_for_article"]'),imageLegendTf:this.el.find('input[name="image_legend"]'),imageCreditsTf:this.el.find('input[name="image_credits"]'),youtubeVideoTf:this.el.find('input[name="youtube_presentation_video"]'),webSiteTf:this.el.find('input[name="web_site"]'),twitterTf:this.el.find('input[name="twitter"]'),linkedInTf:this.el.find('input[name="linkedin"]'),facebookTf:this.el.find('input[name="facebook"]'),otherSocialMediaTf:this.el.find('input[name="other_social_media"]'),participateRankingCkb:this.el.find('input[name="participate_in_startup_ranking"]'),needInvestmentCkb:this.el.find('input[name="is_looking_for_investment"]'),expectedInvestmentTf:this.el.find('input[name="ke_investment_amount_desired"]'),contactSexSf:this.el.find('select[name="contact_sex"]'),contactFirstnameTf:this.el.find('input[name="contact_firstname"]'),contactEmailTf:this.el.find('input[name="contact_email"]'),contactBirthdateDateTf:this.el.find('input[name="contact_birthdate"]'),contactFunctionTf:this.el.find('input[name="contact_function"]'),contactNameTf:this.el.find('input[name="contact_name"]'),contactPhoneTf:this.el.find('input[name="contact_phone"]'),userConsentCbk:this.el.find("#user_consent"),modalContent:$("#confirmationModal .modal-content")}},this.validateFormData=function(){var a,b,c,d=[this.formItems.userConsentCbk],e=[this.formItems.logoImgFileInput,this.formItems.articleImgFileInput];for(a=0;a<d.length;a++)if(b=d[a],!b.is(":checked"))return c=b.closest(".form__row"),c.hasClass("row__checkbox--invalid")||c.addClass("row__checkbox--invalid"),c.get(0).scrollIntoView(),!1;var f=0;for(a=0;a<e.length;a++){if(b=e[a],!b.val())return this.markFileInputAsInvalid(b,!0),!1;if(b.get(0).files[0].size>this.totalAllowedFileSize)return this.markFileInputAsInvalid(b,!0),alert("La taille totale des fichiers ne doit pas dépasser "+this.totalAllowedFileSizeLabel+" Mb. Veuillez changer l'image"),!1;f+=b.get(0).files[0].size}if(f>this.totalAllowedFileSize){for(a=0;a<e.length;a++)b=e[a],this.markFileInputAsInvalid(b,0===a);return alert("La taille totale des fichiers ne doit pas dépasser "+this.totalAllowedFileSizeLabel+" Mb. Veuillez changer les images"),!1}return!0},this.markFileInputAsInvalid=function(a,b){var c=a.closest(".img__content");c.hasClass("img__content--invalid")||c.addClass("img__content--invalid"),b&&c.get(0).scrollIntoView()},this.markFileInputAsValid=function(a){a.closest(".img__content").removeClass("img__content--invalid")},this.validateDateInput=function(a){var b="";this.getDateInputValue(a)||(b="Le champ doit être antérieur à la date actuelle en respectant le format JJ/MM/AAAA"),a.get(0).setCustomValidity(b)},this.getDateInputValue=function(a){var b,c=a.val();try{if(b=new Date(c),!isNaN(b.getTime()))return b}catch(d){}try{if(c=c.split("/"),3!==c.length)return null;if(b=new Date(c[2]+"-"+c[1]+"-"+c[0]),!isNaN(b.getTime()))return b}catch(d){}return null},this.formatDateValueForDB=function(a){var b=("0"+a.getDate()).slice(-2),c=("0"+(a.getMonth()+1)).slice(-2);return a.getFullYear()+"-"+c+"-"+b},this.prepareFormData=function(){var a,b,c,d={},e=[{nameKey:this.formItems.rankYear.attr("name"),value:this.formItems.rankYear.val()},{nameKey:this.formItems.nameTf.attr("name"),value:this.formItems.nameTf.val()},{nameKey:this.formItems.sirenTf.attr("name"),value:this.formItems.sirenTf.val()},{nameKey:this.formItems.companyMailTf.attr("name"),value:this.formItems.companyMailTf.val()},{nameKey:this.formItems.companyPhoneTf.attr("name"),value:this.formItems.companyPhoneTf.val()},{nameKey:this.formItems.companyAddressTf.attr("name"),value:this.formItems.companyAddressTf.val()},{nameKey:this.formItems.cityTf.attr("name"),value:this.formItems.cityTf.val()},{nameKey:this.formItems.postalCodeTf.attr("name"),value:this.formItems.postalCodeTf.val()},{nameKey:this.formItems.otherSectorTf.attr("name"),value:this.formItems.otherSectorTf.val()},{nameKey:this.formItems.companyBaselineTf.attr("name"),value:this.formItems.companyBaselineTf.val()},{nameKey:this.formItems.descriptionTf.attr("name"),value:this.formItems.descriptionTf.val()},{nameKey:this.formItems.productServicesTf.attr("name"),value:this.formItems.productServicesTf.val()},{nameKey:this.formItems.foundersTf.attr("name"),value:this.formItems.foundersTf.val()},{nameKey:this.formItems.teamTf.attr("name"),value:this.formItems.teamTf.val()},{nameKey:this.formItems.imageLegendTf.attr("name"),value:this.formItems.imageLegendTf.val()},{nameKey:this.formItems.imageCreditsTf.attr("name"),value:this.formItems.imageCreditsTf.val()},{nameKey:this.formItems.youtubeVideoTf.attr("name"),value:"https://youtube.com/watch?v="+this.formItems.youtubeVideoTf.val()},{nameKey:this.formItems.webSiteTf.attr("name"),value:this.formItems.webSiteTf.val()},{nameKey:this.formItems.twitterTf.attr("name"),value:"https://twitter.com/"+this.formItems.twitterTf.val()},{nameKey:this.formItems.linkedInTf.attr("name"),value:"https://www.linkedin.com/company/"+this.formItems.linkedInTf.val()},{nameKey:this.formItems.facebookTf.attr("name"),value:"https://www.facebook.com/"+this.formItems.facebookTf.val()},{nameKey:this.formItems.otherSocialMediaTf.attr("name"),value:this.formItems.otherSocialMediaTf.val()},{nameKey:this.formItems.expectedInvestmentTf.attr("name"),value:this.formItems.expectedInvestmentTf.val()},{nameKey:this.formItems.contactFirstnameTf.attr("name"),value:this.formItems.contactFirstnameTf.val()},{nameKey:this.formItems.contactEmailTf.attr("name"),value:this.formItems.contactEmailTf.val()},{nameKey:this.formItems.contactFunctionTf.attr("name"),value:this.formItems.contactFunctionTf.val()},{nameKey:this.formItems.contactNameTf.attr("name"),value:this.formItems.contactNameTf.val()},{nameKey:this.formItems.contactPhoneTf.attr("name"),value:this.formItems.contactPhoneTf.val()}],f=[this.formItems.sectorSf,this.formItems.nbEmployeesSf,this.formItems.contactSexSf],g=[this.formItems.logoImgFileInput,this.formItems.articleImgFileInput],h=[this.formItems.participateRankingCkb,this.formItems.needInvestmentCkb],i=[this.formItems.companyCreationDateTf,this.formItems.contactBirthdateDateTf];for(a=0;a<e.length;a++)b=e[a].nameKey,c=e[a].value,d[b]=c;for(a=0;a<f.length;a++)b=f[a].attr("name"),c=f[a].children("option:selected").val(),d[b]=c;for(a=0;a<g.length;a++)b=g[a].attr("name"),c=g[a].closest(".img__content").find(".img__preview").attr("src"),d[b]=c;for(a=0;a<h.length;a++)b=h[a].attr("name"),c=h[a].is(":checked")?1:0,d[b]=c;for(a=0;a<i.length;a++)b=i[a].attr("name"),c=this.getDateInputValue(i[a]),c=this.formatDateValueForDB(c),d[b]=c;return d},this.activateSubmitBtn=function(){this.formItems.submitBtn.removeAttr("disabled")},this.deactivateSubmitBtn=function(){this.formItems.submitBtn.attr("disabled","")},this.resetForm=function(){this.el.get(0).reset(),this.formItems.otherSectorTf.closest(".form__row").hide(),this.formItems.otherSectorTf.attr("disabled",""),this.formItems.expectedInvestmentTf.closest(".form__row").addClass("form__row--disabled"),this.formItems.expectedInvestmentTf.attr("disabled",""),this.formItems.logoImgFileInput.closest(".img__content").find(".img__preview").attr("src",this.defaultImgPreviewUrl),this.formItems.articleImgFileInput.closest(".img__content").find(".img__preview").attr("src",this.defaultImgPreviewUrl)},this.inputDictionary={name:"Nom de start-up",siren_nb:"SIREN",company_email:"Email de contact",company_telephone:"Téléphone",company_address:"Adresse",city:"Ville",postal_code:"Code postal",logo:"Logo",sector:"Secteur d'activité",baseline:"Votre baseline",description:"Votre description",nb_employees:"Nombre d'employés",company_creation_date:"Date de création",image_for_article:"Image pour article",image_credits:"Crédit",web_site:"Site internet",contact_sex:"Votre sexe",contact_firstname:"Votre prénom",contact_name:"Votre nom",contact_birthdate:"Votre date de naissance",contact_function:"Votre fonction",contact_email:"Votre email",contact_phone:"Votre téléphone"},this.activateFormFunctionality=function(){var a=this;$(this.el).on("submit",function(b){b.preventDefault();var c=a.validateFormData();if(!c)return c;a.deactivateSubmitBtn();var d=a.prepareFormData();$.ajax({url:$(this).attr("action"),type:"POST",crossDomain:!0,cache:!1,data:JSON.stringify(d),contentType:"application/json; charset=utf-8",dataType:"json",success:function(b,c){a.activateSubmitBtn(),a.resetForm(),$("#modalTrigger").click(),a.formItems.modalContent.html("<h3>Merci.</h3><p>Votre inscription a bien été prise en compte.</p><p>La référence de votre dossier est le : "+b.recordId+".</p>")},error:function(b,c,d){a.activateSubmitBtn(),$("#modalTrigger").click();var e=b.responseJSON&&b.responseJSON.errorList?b.responseJSON.errorList:{},f="";for(var g in e)f+="<li>"+a.inputDictionary[g]+": <span class='errorList'>"+e[g]+"</span></li>";f=f?"<ul>"+f+"</ul><br/></p><p>Veuillez réessayer.":"Veuillez réessayer plus tard.",a.formItems.modalContent.html("<h3>Oups!</h3><p>Nous avons rencontré un problème technique lors de la sauvegarde de votre formulaire.</p><p>"+f+"</p><p>Merci</p>")}})});var b=this.el.find(".img__input");this.defaultImgPreviewUrl=this.formItems.logoImgFileInput.closest(".img__content").find(".img__preview").attr("src"),this.previewMgr=new FilePreviewHelper,this.previewMgr.getPreviewElement=function(a){return $(a).closest(".img__content").find(".img__preview")},b.on("change",function(){a.previewMgr.previewFileContents(this),a.markFileInputAsValid($(this))}),this.dragDropMgr=new DDHelper,this.dragDropMgr.DDHiglightCls="form__img--highlight",this.dragDropMgr.DDHandler=function(b,c){if(1!==c.length)return void alert("You can only upload a single file at a time");var d=$(b).find(".img__input").get(0);d.files=c,a.previewMgr.previewFileContents(d)},this.dragDropMgr.initDragDrop(b.closest(".img__content")),this.formItems.sectorSf.on("change",function(){return"Autres"==this.value?(a.formItems.otherSectorTf.closest(".form__row").show(),void a.formItems.otherSectorTf.removeAttr("disabled")):(a.formItems.otherSectorTf.closest(".form__row").hide(),void a.formItems.otherSectorTf.attr("disabled",""))}),this.formItems.needInvestmentCkb.click(function(){a.formItems.expectedInvestmentTf.val("");var b=a.formItems.expectedInvestmentTf.closest(".form__row");return $(this).is(":checked")?(b.removeClass("form__row--disabled"),void a.formItems.expectedInvestmentTf.removeAttr("disabled")):(b.hasClass("form__row--disabled")||b.addClass("form__row--disabled"),void a.formItems.expectedInvestmentTf.attr("disabled",""))}),this.formItems.userConsentCbk.on("change",function(){$(this).closest(".form__row").removeClass("row__checkbox--invalid")}),this.formItems.companyCreationDateTf.on("change",function(){var b=$(this);a.validateDateInput(b)}),this.formItems.contactBirthdateDateTf.on("change",function(){var b=$(this);a.validateDateInput(b)})},this.init(a,b)}
function ChaFicheChart(a,b){this.init=function(a,b){this.el=a,this.params=b||{},this.initChart()},this.initChart=function(){var a=this;google.charts.load("current",{packages:["corechart"],language:"fr"}),google.charts.setOnLoadCallback(function(){var b=a.el.data("values"),c=new google.visualization.DataTable;c.addColumn("string",b.cols[0]),c.addColumn("number",b.cols[1]),c.addColumn({type:"string",role:"tooltip",p:{html:!0}}),c.addColumn({type:"string",role:"style"});for(var d=0;d<b.rows.length;d++){var e=b.rows[d],f=e[1];a.params.formatFortune&&(f=a.formatFortune(f));var g="";g+='<div style="display:block; width:250px; font-size:12px; letter-spacing:.1em; box-shadow:-1px 1px 0 rgba(0,0,0,.1), 2px 2px 0 rgba(0,0,0,.1);">',g+='<div style="display:block; padding:15px; background:rgb(78,90,89); color:white;">',g+=e[0]+"</div>",g+='<div style="display:block; padding:15px; background:rgb(61,71,70); color:white;">',g+='<span style="color:#9bb0ae; text-transform:uppercase;">'+b.cols[1]+"</span>",g+='<span style="float:right; font-size:16px;">'+f+"<span>",g+="</div></div>",e[1]=parseInt(e[1].replace(/ /g,""));var h="point { size: 4; shape-type: circle; fill-color: white; stroke-width: 2; stroke-color: rgb(50,50,50); }";e.push(g),e.push(h),c.addRow(e)}var i="rgb(28,155,52)",j={height:300,chartArea:{left:a.params.chartLabelWidth||"10%",width:"90%",height:"80%"},colors:[a.params.graphColor||i],hAxis:{textStyle:{color:"rgb(150,150,150)"}},vAxis:{baseline:0,baselineColor:"rgb(200,200,200)",gridlines:{color:"rgb(240,240,240)"},textStyle:{color:"rgb(150,150,150)"}},legend:{position:"none"},tooltip:{isHtml:!0},pointSize:1},k=new google.visualization.LineChart(a.el[0]);k.draw(c,j)})},this.formatFortune=function(a){a=a.toString();var b=a.split("");b=b.reverse();var c,d="";for(c=0;c<b.length;c++)c%3===0&&(d=" "+d),d=b[c]+d;return d=d.trim(),d="<b>"+d+"</b> M€"},this.init(a,b)}
function ChaFollow(a,b){this.init=function(a,b){this.el=a,this.params=b,this.follow()},this.follow=function(){this.el.click(function(a){a.preventDefault(),$(this).parent().find(".follow-rbrq-btn").toggle()})},this.init(a,b)}
function ChaForm(a,b){this.init=function(a,b){this.el=a,this.params=b,this.showLabels()},this.showLabels=function(){this.el.find("input").on("change keyup",function(a){$(this).val()?$(this).siblings("b").fadeIn(300):$(this).siblings("b").fadeOut(300)})},this.init(a,b)}
function ChaFortunesProfileDetailsPage(a,b){this.init=function(a,b){this.el=a,this.params=b},this.formatFortune=function(a){a=a.toString();var b=a.split("");b=b.reverse();var c,d="";for(c=0;c<b.length;c++)c%3===0&&(d=" "+d),d=b[c]+d;return d=d.trim(),d="<b>"+d+"</b> M€"},this.init(a,b)}
function ChaFortunesSearchPage(a,b){this.init=function(a,b){this.el=a,this.params=b,this.scrollArrowCls={right:".table-right-arrow",left:".table-left-arrow"},this.tableId="#profilesTable";var c=document.getElementsByTagName("HEAD")[0],d=document.createElement("script");d.type="text/javascript",d.async=!0,d.onload=function(){this.initFunctionality()}.bind(this),d.src=app.getBaseUrl()+"/js/libs/jquery.dataTables.js",c.appendChild(d)},this.initFunctionality=function(){var a=this;$(".carousel-fc18-profile-cards").on("beforeChange",function(a,b,c){var d=c-1,e=c+1,f=$(".carousel-card[data-slick-index="+c+"]"),g=$(".carousel-card[data-slick-index="+d+"]"),h=$(".carousel-card[data-slick-index="+e+"]");f.children(".filter-over-card"),h.children(".filter-over-card"),g.children(".filter-over-card");g.removeClass("move-card-to-right")}),$(".carousel-fc18-profile-cards").on("afterChange",function(a,b,c){var d=c-1,e=c+1,f=$(".carousel-card[data-slick-index="+c+"]"),g=$(".carousel-card[data-slick-index="+d+"]"),h=$(".carousel-card[data-slick-index="+e+"]"),i=f.children(".filter-over-card"),j=h.children(".filter-over-card"),k=g.children(".filter-over-card");i.addClass("remove-bg"),f.removeClass("move-card-to-right"),j.removeClass("remove-bg"),h.removeClass("move-card-to-right"),k.removeClass("remove-bg"),$(document).width()>500&&g.addClass("move-card-to-right")}),$(".carousel-fc18-profile-cards").slick({infinite:!0,slidesToShow:1,centerMode:!0,centerPadding:"79px",prevArrow:'<span class="icon-arrow-left arrow-left-svg"></span>',nextArrow:'<span class="icon-arrow-right arrow-right-svg"></span>',responsive:[{breakpoint:769,settings:{centerPadding:"0px"}}]});var b,c=($(a.tableId).DataTable({paging:!1,ordering:!1,searching:!0,info:!1,scrollX:!0,scrollY:384,language:{zeroRecords:"Aucune correspondance n'a été trouvée"}}),$(".search-area .input-text-area"));c.on("input",function(){var d=c.val(),e=a.getVisibleTableId();$(e).DataTable().search(d).draw(),clearTimeout(b),b=setTimeout(function(){window.dataLayer.push({event:"searchFtn",atInternet:{keyword:"ftn_"+d}})},2e3)}),$(a.scrollArrowCls.left).hide(),$(a.scrollArrowCls.right).click(function(){var b=a.getVisibleTableId(),c=a.getTableScrollEl(b);a.scrollTable(c,50)}),$(a.scrollArrowCls.left).click(function(){var b=a.getVisibleTableId(),c=a.getTableScrollEl(b);a.scrollTable(c,-50)});var d=a.getTableScrollEl(a.tableId);d.scroll(function(){a.scrollTable(d,0)})},this.getTableWrapperEl=function(a){return $(a+"_wrapper")},this.getTableScrollEl=function(a){var b=".dataTables_scrollBody";return $(a+"_wrapper "+b)},this.getVisibleTableId=function(){return this.tableId},this.scrollTable=function(a,b){var c=this;if(a){var d=a.scrollLeft()+b;d=Math.ceil(d),0!==b&&a.scrollLeft(d),c.updateScrollArrows(a,d)}},this.updateScrollArrows=function(a,b){var c=this;c.checkScrollArrow(c.scrollArrowCls.left,-1*b,0);var d=Math.ceil(a.get(0).scrollWidth-a.get(0).clientWidth);c.checkScrollArrow(c.scrollArrowCls.right,b,d)},this.checkScrollArrow=function(a,b,c){var d=$(a);if(d){var e=!0;b>=c&&(e=!1,d.is(":visible")&&d.hide()),e&&d.show()}},this.init(a,b)}
function ChaHeader(a,b){this.init=function(a,b){function c(a){var b='<div class="rbrq-common"><ul class="dropdown-menu" style="overflow: visible">';if(a.picto&&(b+='<li class="picto-rbrq">'+a.picto+"</li>"),a.children)for(var c=0;c<a.children.length;c++){var d=a.children[c];b+='<li><a href="'+d.url+'">'+d.title+"</a></li>"}return b+='<li class="more" style="display: none;"><ul></ul></li>',b+="</ul></div>",$(b)}this.el=a,this.params=b,this.burger(),this.accountMenu(),this.search(),this.share();var d=this;$.get(app.getBaseUrl()+"/menu/header").done(function(a){for(var b in a){var e=$("#"+a[b].id),f=e.children(".rbrq-common");f.length?f.children(".dropdown-menu").css({overflow:"visible"}):e.append(c(a[b]))}d.computeMore(),d.more()}).fail(function(a){d.computeMore(),d.more()})},this.burger=function(){var a=this;this.el.find(".menu-xs-btn").click(function(b){b.preventDefault(),$(this).toggleClass("menu-xs-btn-on"),a.el.next(".menu-xs").toggle()})},this.accountMenu=function(){var a=this;this.el.find(".h-moncompte > .sm").click(function(a){a.preventDefault(),$(this).toggleClass("on").next("div").toggle()}),$("html").on("click",function(b){$(b.target).hasClass("sm")||$(b.target).parent().hasClass("h-moncompte")||a.el.find(".h-moncompte > .sm").removeClass("on").next("div").hide()})},this.search=function(){var a=this;this.el.find(".search, .h-search").click(function(b){b.preventDefault(),a.showSearch()}),this.el.find(".search-bloc .close, .search-bloc .fond").click(function(b){b.preventDefault(),a.hideSearch()}),$(window).on("keyup",function(b){b.preventDefault(),27===b.which&&a.hideSearch()})},this.showSearch=function(){var a=300,b=this.el.find(".search-bloc");b.find(".s").css("opacity",0),b.find(".fond").css("opacity",0),b.find(".in").css("opacity",0).css("padding-left",30),b.css("display","inline"),b.find(".s").transition({opacity:1},a,"out"),b.find(".fond").transition({opacity:1},a,"out"),b.find(".in").delay(a).transition({opacity:1,"padding-left":0},a,"out"),b.find("input").focus()},this.hideSearch=function(){var a=300,b=this.el.find(".search-bloc");b.find(".s").transition({opacity:0},a,"out"),b.find(".fond").transition({opacity:0},a,"out"),b.find(".in").transition({opacity:0},a,"out",function(){b.hide()})},this.share=function(){var a=this,b=$(".container .article-share");b.length>0?(this.el.find(".share").click(function(c){c.preventDefault(),b.is(":visible")?a.hideShare():a.showShare()}),$(window).on("keyup",function(b){b.preventDefault(),27===b.which&&a.hideShare()})):this.el.find(".share, .li-share").remove()},this.showShare=function(){var a=this;$(".container .article-share").show(100).on("click.overlay",function(b){a.hideShare()})},this.hideShare=function(){$(".container .article-share").hide(100).off("click.overlay")},this.computeMore=function(){var a=this,b=!1;setTimeout(function(){a.doComputeMore()},0),$(window).resize(function(c){b||(b=!0,setTimeout(function(){b=!1,a.doComputeMore()},100))})},this.doComputeMore=function(){var a=this.el.children(".main-nav"),b=a.children(".in").first().width();a.find(".menu li.dropdown > .rbrq-common").each(function(){$(this).css("display","block");var a=$(this).find("li.more");a.find("ul").empty();var c=!1,d=0;d+=$(this).find("li.more").width(),$(this).find("ul.dropdown-menu > li:not(.more)").each(function(){d+=$(this).width(),!c&&d>b&&(c=!0),c?($(this).hide(),a.find("ul").append($(this).clone().show())):$(this).show()}),c?a.show():a.hide(),$(this).attr("style","")})},this.more=function(){var a=this;this.el.find(".dropdown-menu .more").click(function(a){$(a.target).hasClass("more")&&$(this).toggleClass("more-on").find("ul").toggle()}),$("html").on("click",function(b){$(b.target).hasClass("more")||a.el.find(".dropdown-menu .more.more-on").removeClass("more-on").find("ul").hide()})},this.init(a,b)}
function ChaHeaderSticky(a,b){this.init=function(a,b){this.el=a,this.params=b,this.burger(),this.stickyNav(),this.computeMore(),this.more()},this.burger=function(){var a=$("header:not(.header-sticky)").first();this.el.find(".menu-btn").click(function(b){b.preventDefault(),$("body").addClass("header-fixed"),a.css("top",-a.height()).animate({top:0},150),$(window).on("scroll.header-fixed",function(){$(window).off("scroll.header-fixed"),a.animate({top:-a.height()},150,function(){$("body").removeClass("header-fixed"),a.css("top",0)})})})},this.doStickyNav=function(){var a=$("header:not(.header-sticky)").first(),b=$(window).scrollTop();$("body.dark-bg").length?this.el.show():b>a.height()?this.el.show():this.el.hide()},this.stickyNav=function(){var a=this;this.doStickyNav(),$(window).scroll(function(){a.doStickyNav()})},this.computeMore=function(){var a=this,b=!1;this.doComputeMore(),$(window).resize(function(c){b||(b=!0,setTimeout(function(){b=!1,a.doComputeMore()},100))})},this.doComputeMore=function(){var a=this.el.is(":visible");a||this.el.show();var b=$(window).width(),c=this.el.find("li.more");c.find("ul").empty();var d=!1,e=40,f=this.el.find("li.menu-btn").outerWidth(),g=this.el.find("li.li-logo").outerWidth(),h=this.el.find("li.li-search").outerWidth();"number"==typeof f&&(e+=f),"number"==typeof g&&(e+=g),"number"==typeof h&&(e+=h),e+=310,this.el.find("ul.dropdown-menu > li").each(function(){if(!$(this).attr("class")){var a=$(this).width();!d&&e+a>b&&(d=!0),d?($(this).hide(),c.find("ul").append($(this).clone().show())):$(this).show(),e+=a}}),d?(this.el.find("ul.dropdown-menu").css({overflow:"visible"}),c.show()):c.hide(),a||this.el.hide()},this.more=function(){var a=this;this.el.find(".dropdown-menu .more").click(function(a){$(a.target).hasClass("more")&&$(this).toggleClass("more-on").find("ul").toggle()}),$("html").on("click",function(b){$(b.target).hasClass("more")||a.el.find(".dropdown-menu .more.more-on").removeClass("more-on").find("ul").hide()})},this.init(a,b)}
function ChaLesPlus(a,b){this.init=function(a,b){this.el=a,this.params=b,this.nav()},this.nav=function(){this.el.find("nav a").click(function(a){a.preventDefault();var b=$(this).index();$(this).addClass("on").siblings().removeClass("on"),$(this).parent("nav").siblings("ul").hide().eq(b).show()})},this.init(a,b)}
function ChaAccountUIActions(a,b){this.init=function(a,b){this.el=a,this.params=b,this.attachLogoutHandlers()},this.attachLogoutHandlers=function(){$("a.logout").click(function(a){a.preventDefault(),$.get("/logout").done(function(a){location.reload(!0)}).fail(function(a){})})},this.init(a,b)}
function ChaMain(a,b){var c=this;this.init=function(a,b){this.el=a,this.params=b,app.toggleUserBlocks(),this.commsAlert(),this.searchRedirect(),this.loginRedirect()},this.commsAlert=function(){c.el.on("click",".comms-alert",function(a){a.preventDefault();var b=$(this).closest("li").data("id"),c=$(this).closest("li").data("orig"),d="http://www.contact-moderation.com/clients/all/abuse.asp?origine="+c+"&content_id="+b+"&language=FR";window.open(d,"Alerter la modération","menubar=no, scrollbars=no, top=100, left=100, width=800, height=600")})},this.searchRedirect=function(){$('form[action*="/search/"]').submit(function(a){var b=app.serializeForm($(this));return b&&b.search&&""!==b.search?location.href="/search/"+b.search+"/":location.href="/search/",!1})},this.loginRedirect=function(){c.el.on("click","a",function(a){var b=$(this).attr("href");if(b&&b.endsWith("/login")){a.preventDefault();var c=location.href;location.href=b+"?redirect="+c}})},this.isUserPremium=function(){return app.isUserPremium()},this.getUserId=function(){return app.getUserId()},this.getAudioSelectors=function(){return app.getAudioSelectors()},this.getAudioData=function(){return app.getAudioData()},this.init(a,b)}
function ChaMoreDetails(a,b){this.init=function(a,b){this.el=a,this.params=b,this.enableMoreDetails()},this.enableMoreDetails=function(){$(".description .more_action").on("click",function(){var a=$(this).closest(".description"),b=$(this).find(".action_label"),c=$(this).find(".action_icon");return a.hasClass("description--collapsed")?(a.removeClass("description--collapsed"),a.addClass("description--expanded"),b.text("Voir moins"),c.removeClass("icon-arrow-down"),void c.addClass("icon-arrow-up")):a.hasClass("description--expanded")?(a.addClass("description--collapsed"),a.removeClass("description--expanded"),b.text("Voir plus"),c.removeClass("icon-arrow-up"),void c.addClass("icon-arrow-down")):void 0})},this.init(a,b)}
function ChaNewsletter(a,b){this.init=function(a,b){this.el=a,this.params=b,this.formSubmit()},this.sendData=function(a){return $.post(app.getBaseUrl()+"/newsletters/subscribe",{data:JSON.stringify(a)})},this.formSubmit=function(){var a=this;this.el.find("form").submit(function(b){var c=$(this),d=app.serializeForm(c);return d.newsletter=c.data("type"),d.subscribe=1,a.sendData(d).done(function(){c.find('input[type="checkbox"]:checked').each(function(){d.newsletter=$(this).val(),a.sendData(d)}),c.hide(),a.el.find(".conf-ok").show()}).fail(function(a){console.error(a)}),!1})},this.init(a,b)}
function ChaOverlay(a,b){this.init=function(a,b){this.el=a,this.params=b,this.close()},this.close=function(){var a=this;this.el.find(".close").click(function(b){b.preventDefault(),a.doClose()}),$(window).off("keyup.diaporama-overlay").on("keyup.diaporama-overlay",function(b){b.preventDefault(),27===b.which&&a.doClose()}),this.params.closeOn&&this.el.click(function(b){$(b.target).is(a.params.closeOn)&&(b.preventDefault(),a.doClose())})},this.doClose=function(){this.el.stop().transition({opacity:"0"},app.overlayTransition,function(){$(this).remove()}),$(window).off("popstate.diaporama-overlay").off("keyup.diaporama-overlay")},this.init(a,b)}
function ChaScreensize(a,b){var c=this;this.init=function(a,b){c.el=a,this.params=b||{},this.detect()},this.detect=function(){c.el.mq={is:{L:function(){return Modernizr.mq("(min-width: 1024px)")},M:function(){return Modernizr.mq("(min-width: 768px) and (max-width: 1023px)")},S:function(){return Modernizr.mq("(min-width: 480px) and (max-width: 767px)")},XS:function(){return Modernizr.mq("(max-width: 479px)")}},getSize:function(){return c.el.mq.is.L()?"L":c.el.mq.is.M()?"M":c.el.mq.is.S()?"S":c.el.mq.is.XS()?"XS":void 0}};var a,b;$(window).on("resize",$.debounce(function(){var d=a,e=b;"XS"===c.el.mq.getSize()?(a="S",b=!0):(a=c.el.mq.getSize(),b=!1),d===a&&e===b||$(document).trigger("screensize:change",[a,d,b]),$(document).trigger("screensize:current",[a])},200)),"XS"===c.el.mq.getSize()?(a="S",b=!0):(a=c.el.mq.getSize(),b=!1),$(document).trigger("screensize:init",[a,b])},this.init(a,b)}
function ChaScrollPositionRetainer(a,b){var c=this,d=function(a){var b=void 0;return function(){for(var c=this,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];clearTimeout(b),b=setTimeout(function(){a.apply(c,e)},100)}};this.BrowserScrollMgr=function(){return{getScrollPosition:function(){return $(window).scrollTop()},setScrollPosition:function(a){$(window).scrollTop(a)},onScrollListener:function(a){var b=d(a);$(window).on("scroll",b)},clearScrollListener:function(){$(window).off("scroll")}}}(),this.MobileScrollMgr=function(){return{getScrollPosition:function(){return document.body.scrollTop},setScrollPosition:function(a){document.body.scrollTo(0,a)},onScrollListener:function(a){var b=!1;$(window).on("touchstart",function(){b=!1}),$(window).on("touchmove",function(){b=!0}),$(window).on("touchend",function(){b&&a()})},clearScrollListener:function(){$(window).off("touchstart"),$(window).off("touchmove"),$(window).off("touchend")}}}(),this.WindowMgr=function(){var a;return a=navigator.userAgent.toLowerCase().match(/(ipod|iphone|ipad|android)/)?c.MobileScrollMgr:c.BrowserScrollMgr,{getScrollPosition:function(){return Math.round(a.getScrollPosition())},setScrollPosition:function(b){a.setScrollPosition(b)},onScrollListener:function(b){a.onScrollListener(b)},addClearScrollListener:function(b){$(window).on("beforeunload",function(){a.clearScrollListener(),b()})}}}(),this.ScrollPositionStorageMgr=function(){return{store:function(a){var b={};history.state&&(b=history.state||{});var c=Object.assign(b,{data:{oldScrollPosition:a}});history.replaceState(c,"")},getPrevious:function(){return history.state&&history.state.data&&history.state.data.oldScrollPosition?history.state.data.oldScrollPosition:null}}}(),this.storeScrollPosition=function(){var a=this.WindowMgr.getScrollPosition();this.ScrollPositionStorageMgr.store(a)},this.init=function(a,b){this.el=a,this.params=b,$(window).on("load",function(){var a=c.ScrollPositionStorageMgr.getPrevious();null!==a&&c.WindowMgr.setScrollPosition(a),c.WindowMgr.onScrollListener(function(){c.storeScrollPosition()}),c.WindowMgr.addClearScrollListener(function(){})})},this.init(a,b)}
function ChaShares(a,b){this.init=function(a,b){this.el=a,this.params=b,this.load()},this.load=function(){var a=this.el.find(".share_count_unload");if(a.length>0){var b=a.first().data("url");$.getJSON(app.getBaseUrl()+"/shareCount?url="+b).done(function(b){a.each(function(){$(this).text(b.count)})}).fail(function(a){})}},this.init(a,b)}
function ChaVideos(a,b){this.init=function(a,b){this.el=a,this.params=b,this.moveTop(),this.more()},this.moveTop=function(){isMobile&&isMobile.any===!1&&$("#videos-les-plus-vues").appendTo("#placeholder-videos-les-plus-vues")},this.more=function(){this.el.find(".more-videos").click(function(a){var b=$(this),c=b.data("page"),d=b.data("rub");$.get("/latest-videos?page="+c+"&rub="+d).done(function(a){for(var d="",e=0;e<a.length;e++){var f=a[e];d+='<div class="item">',d+='<a href="'+f.slug+'">',d+='<span class="vid"><img class="lazyload" data-src="'+f.imageHigh+'" alt="'+f.title+'"></span>',d+='<span class="txt"><h3>'+f.title+'</h3><span class="date">'+f.date+"</span></span>",d+="</a></div>"}b.prev(".flex-x4").append(d),b.data("page",parseInt(c)+1)}).fail(function(a){b.remove()})})},this.init(a,b)}
app.addPlugin("chaPooolMgr",ChaPooolMgr),app.addPlugin("chaAccount",ChaAccount),app.addPlugin("chaArticle",ChaArticle),app.addPlugin("chaArticleShare",ChaArticleShare),app.addPlugin("chaBourse",ChaBourse),app.addPlugin("chaCalculette",ChaCalculette),app.addPlugin("chaClassement",ChaClassement),app.addPlugin("chaComments",ChaComments),app.addPlugin("chaDiaporamaBloc",ChaDiaporamaBloc),app.addPlugin("chaFicheChart",ChaFicheChart),app.addPlugin("chaFollow",ChaFollow),app.addPlugin("chaForm",ChaForm),app.addPlugin("chaHeader",ChaHeader),app.addPlugin("chaHeaderSticky",ChaHeaderSticky),app.addPlugin("chaLesPlus",ChaLesPlus),app.addPlugin("chaMain",ChaMain),app.addPlugin("chaNewsletter",ChaNewsletter),app.addPlugin("chaShares",ChaShares),app.addPlugin("chaScreensize",ChaScreensize),app.addPlugin("chaVideos",ChaVideos),app.addPlugin("chaAnchorTargetFocusFixer",ChaAnchorTargetFocusFixer),app.addPlugin("chaAccengagePopUp",ChaAccengagePopUp),app.addPlugin("chaFortunesProfileDetailsPage",ChaFortunesProfileDetailsPage),app.addPlugin("chaFortunesSearchPage",ChaFortunesSearchPage),app.addPlugin("chaScrollPositionRetainer",ChaScrollPositionRetainer),app.addPlugin("chaAccountCommentairesListe",ChaAccountCommentairesListe),app.addPlugin("chaAccountFirstLogin",ChaAccountFirstLogin),app.addPlugin("chaAccountUIActions",ChaAccountUIActions),app.addPlugin("chaDNINewStartupForm",Cha_DNI_NewStartupForm),app.addPlugin("chaDiaporamaV2",ChaDiaporamaV2),app.addPlugin("chaDiaporamaPopupV2",ChaDiaporamaPopupV2),app.addPlugin("chaDiaporamaFullscreenV2",ChaDiaporamaFullscreenV2),app.addPlugin("chaOverlay",ChaOverlay),app.addPlugin("chaArticleAudioPlayer",ChaArticleAudioPlayer),app.addPlugin("chaRubriqueAudioPlayer",ChaRubriqueAudioPlayer),app.addPlugin("chaMoreDetails",ChaMoreDetails),$(function(){if(window.chaDelayedCommands)for(var a in window.chaDelayedCommands)window.chaDelayedCommands[a]();var b={graphColor:"#1c9b34",formatFortune:!0,chartLabelWidth:50};$("body").chaMain(),$("body").chaPooolMgr(),$("body").chaScreensize(),$("header.header-sticky").chaHeaderSticky(),$("header.header-sticky").chaAccengagePopUp(),$("body").chaAnchorTargetFocusFixer(),$(".container-listings .listings-fiche .chart").chaFicheChart(),$(".fortune-list-card-graph").chaFicheChart(b),$(".fortune-list-card-graph-mob").chaFicheChart(b),$(".fortune-fiche-graph").chaFicheChart(b),$(".espace-perso").chaAccount(),$(".container-main-article").chaArticle(),$(".bloc.article-diaporama:not(.diaporama-list)").chaDiaporamaBloc(),$(".article-share").chaArticleShare(),$(".bourse").chaBourse(),$("#calculette").chaCalculette(),$(".container-listings .main-list").chaClassement(),$(".commentaires").chaComments(),$(".follow-rbrq-btn").chaFollow(),$("form.form-common").chaForm(),$("body > header:not(.header-sticky)").chaHeader(),$(".bloc.bloc-lesplus").chaLesPlus(),$(".newsletter-form").chaNewsletter(),$("main.container-video").chaVideos(),$("main").chaShares(),$("main.container-fortune-fiche").chaFortunesProfileDetailsPage(),$("main.container-fortune-list").chaFortunesSearchPage(),$("body").chaScrollPositionRetainer(),$("body").chaAccountFirstLogin(),$(".main-box.mes-commentaires-box").chaAccountCommentairesListe(),$("body").chaAccountUIActions(),$(".container-startup-registration .m-form").chaDNINewStartupForm(),$(".diaporama-container-inside").chaDiaporamaV2(),$(".diaporama-container-inside").chaDiaporamaPopupV2(),$(".diaporama-container-inside").chaDiaporamaFullscreenV2(),$(".container-main-article-audio").chaArticleAudioPlayer(),$(".container-rubrique-audio").chaRubriqueAudioPlayer(),$(".container-main-hub").chaMoreDetails()});
})(jQuery);